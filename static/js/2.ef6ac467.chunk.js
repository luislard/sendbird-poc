/*! For license information please see 2.ef6ac467.chunk.js.LICENSE.txt */
(this["webpackJsonpsend-bird-test"]=this["webpackJsonpsend-bird-test"]||[]).push([[2],[function(e,n,t){"use strict";e.exports=t(19)},function(e,n,t){"use strict";var r=t(8),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function s(e){return"undefined"===typeof e}function o(e){return null!==e&&"object"===typeof e}function l(e){return"[object Function]"===i.call(e)}function u(e,n){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var t=0,r=e.length;t<r;t++)n.call(null,e[t],t,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:o,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return o(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:u,merge:function e(){var n={};function t(t,r){"object"===typeof n[r]&&"object"===typeof t?n[r]=e(n[r],t):n[r]=t}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],t);return n},deepMerge:function e(){var n={};function t(t,r){"object"===typeof n[r]&&"object"===typeof t?n[r]=e(n[r],t):n[r]="object"===typeof t?e({},t):t}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],t);return n},extend:function(e,n,t){return u(n,(function(n,i){e[i]=t&&"function"===typeof n?r(n,t):n})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,n,t){"use strict";function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}t.d(n,"a",(function(){return r}))},function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var r=t(2);function i(e,n){if(e){if("string"===typeof e)return Object(r.a)(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Object(r.a)(e,n):void 0}}},function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var r=t(3);function i(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return t}}(e,n)||Object(r.a)(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r=t(2);var i=t(3);function a(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,n,t){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function s(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var n={},t=0;t<10;t++)n["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(n).map((function(e){return n[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,n){for(var t,o,l=s(e),u=1;u<arguments.length;u++){for(var c in t=Object(arguments[u]))i.call(t,c)&&(l[c]=t[c]);if(r){o=r(t);for(var d=0;d<o.length;d++)a.call(t,o[d])&&(l[o[d]]=t[o[d]])}}return l}},function(e,n){var t,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"===typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l,u=[],c=!1,d=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&h())}function h(){if(!c){var e=o(f);c=!0;for(var n=u.length;n;){for(l=u,u=[];++d<n;)l&&l[d].run();d=-1,n=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(n){try{return r.call(null,e)}catch(n){return r.call(this,e)}}}(e)}}function p(e,n){this.fun=e,this.array=n}function g(){}i.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];u.push(new p(e,n)),1!==u.length||c||o(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,n,t){"use strict";e.exports=function(e,n){return function(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];return e.apply(n,t)}}},function(e,n,t){"use strict";var r=t(1);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,n,t){if(!n)return e;var a;if(t)a=t(n);else if(r.isURLSearchParams(n))a=n.toString();else{var s=[];r.forEach(n,(function(e,n){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?n+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(n)+"="+i(e))})))})),a=s.join("&")}if(a){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},function(e,n,t){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,n,t){"use strict";(function(n){var r=t(1),i=t(36),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,n){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=n)}var o={adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof n&&"[object process]"===Object.prototype.toString.call(n))&&(e=t(12)),e}(),transformRequest:[function(e,n){return i(n,"Accept"),i(n,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(s(n,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(n){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){o.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){o.headers[e]=r.merge(a)})),e.exports=o}).call(this,t(7))},function(e,n,t){"use strict";var r=t(1),i=t(37),a=t(9),s=t(39),o=t(42),l=t(43),u=t(13);e.exports=function(e){return new Promise((function(n,c){var d=e.data,f=e.headers;r.isFormData(d)&&delete f["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",g=e.auth.password||"";f.Authorization="Basic "+btoa(p+":"+g)}var y=s(e.baseURL,e.url);if(h.open(e.method.toUpperCase(),a(y,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var t="getAllResponseHeaders"in h?o(h.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:t,config:e,request:h};i(n,c,r),h=null}},h.onabort=function(){h&&(c(u("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){c(u("Network Error",e,null,h)),h=null},h.ontimeout=function(){var n="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(n=e.timeoutErrorMessage),c(u(n,e,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var m=t(44),_=(e.withCredentials||l(y))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;_&&(f[e.xsrfHeaderName]=_)}if("setRequestHeader"in h&&r.forEach(f,(function(e,n){"undefined"===typeof d&&"content-type"===n.toLowerCase()?delete f[n]:h.setRequestHeader(n,e)})),r.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),e.responseType)try{h.responseType=e.responseType}catch(v){if("json"!==e.responseType)throw v}"function"===typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),c(e),h=null)})),void 0===d&&(d=null),h.send(d)}))}},function(e,n,t){"use strict";var r=t(38);e.exports=function(e,n,t,i,a){var s=new Error(e);return r(s,n,t,i,a)}},function(e,n,t){"use strict";var r=t(1);e.exports=function(e,n){n=n||{};var t={},i=["url","method","params","data"],a=["headers","auth","proxy"],s=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(i,(function(e){"undefined"!==typeof n[e]&&(t[e]=n[e])})),r.forEach(a,(function(i){r.isObject(n[i])?t[i]=r.deepMerge(e[i],n[i]):"undefined"!==typeof n[i]?t[i]=n[i]:r.isObject(e[i])?t[i]=r.deepMerge(e[i]):"undefined"!==typeof e[i]&&(t[i]=e[i])})),r.forEach(s,(function(r){"undefined"!==typeof n[r]?t[r]=n[r]:"undefined"!==typeof e[r]&&(t[r]=e[r])}));var o=i.concat(a).concat(s),l=Object.keys(n).filter((function(e){return-1===o.indexOf(e)}));return r.forEach(l,(function(r){"undefined"!==typeof n[r]?t[r]=n[r]:"undefined"!==typeof e[r]&&(t[r]=e[r])})),t}},function(e,n,t){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,n,t){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}}(),e.exports=t(20)},function(e,n,t){(function(n,r){e.exports=function(e,t,i){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,n,t){return n&&o(e.prototype,n),t&&o(e,t),e}function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){var r,i,a;r=e,a=t[i=n],i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&h(e,n)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,n){return(h=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(I){return!1}}function g(e,n,t){return(g=p()?Reflect.construct:function(e,n,t){var r=[null];r.push.apply(r,n);var i=new(Function.bind.apply(e,r));return t&&h(i,t.prototype),i}).apply(null,arguments)}function y(e){var n="function"==typeof Map?new Map:void 0;return(y=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,r)}function r(){return g(e,arguments,f(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){var n=p();return function(){var t,r,i,a=f(e);if(n){var s=f(this).constructor;t=Reflect.construct(a,arguments,s)}else t=a.apply(this,arguments);return r=this,!(i=t)||"object"!=typeof i&&"function"!=typeof i?m(r):i}}function v(e,n,t){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,n,t){var r=function(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&null!==(e=f(e)););return e}(e,n);if(r){var i=Object.getOwnPropertyDescriptor(r,n);return i.get?i.get.call(t):i.value}})(e,n,t||e)}function E(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return t}}(e,n)||C(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,n){if(e){if("string"==typeof e)return S(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?S(e,n):void 0}}function S(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;var k=function(){function e(){s(this,e)}return l(e,null,[{key:"OS_VERSION",get:function(){return"undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"}},{key:"SDK_VERSION",get:function(){return"3.0.132"}},{key:"SDK_MAJOR_VERSION",get:function(){return e.SDK_VERSION.split(".")[0]}},{key:"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",get:function(){return 100}},{key:"INTERNAL_CALL",get:function(){return"ic"}}]),e}(),U={},A=new WeakMap,w=function(){function e(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};s(this,e),A.set(this,"object"===a(n)&&n?n:{})}return l(e,[{key:"get",value:function(e){return A.get(this)[e]}},{key:"set",value:function(e,n){A.get(this)[e]=n}},{key:"remove",value:function(e){var n=A.get(this);n.hasOwnProperty(e)&&delete n[e]}},{key:"container",get:function(){return A.get(this)}}],[{key:"create",value:function(n,t){return U[n]=new e(t),U[n]}},{key:"get",value:function(e){return e=e||Un.getInstance()._iid,U[e]}}]),e}(),T=function(){d(n,y(Error));var e=_(n);function n(t,r){var i;return s(this,n),(i=e.call(this,r)).name="SendBirdException",i.code=r||0,i.message=t,i}return l(n,null,[{key:"INVALID_INITIALIZATION",get:function(){return 800100}},{key:"CONNECTION_REQUIRED",get:function(){return 800101}},{key:"CONNECTION_CANCELED",get:function(){return 800102}},{key:"INVALID_PARAMETER",get:function(){return 800110}},{key:"NETWORK_ERROR",get:function(){return 800120}},{key:"NETWORK_ROUTING_ERROR",get:function(){return 800121}},{key:"MALFORMED_DATA",get:function(){return 800130}},{key:"MALFORMED_ERROR_DATA",get:function(){return 800140}},{key:"WRONG_CHANNEL_TYPE",get:function(){return 800150}},{key:"MARK_AS_READ_RATE_LIMIT_EXCEEDED",get:function(){return 800160}},{key:"QUERY_IN_PROGRESS",get:function(){return 800170}},{key:"ACK_TIMEOUT",get:function(){return 800180}},{key:"LOGIN_TIMEOUT",get:function(){return 800190}},{key:"WEBSOCKET_CONNECTION_CLOSED",get:function(){return 800200}},{key:"WEBSOCKET_CONNECTION_FAILED",get:function(){return 800210}},{key:"REQUEST_FAILED",get:function(){return 800220}},{key:"FILE_UPLOAD_CANCEL_FAILED",get:function(){return 800230}},{key:"REQUEST_CANCELED",get:function(){return 800240}},{key:"REQUEST_DUPLICATED",get:function(){return 800250}}]),n}(),N=function(){function e(){s(this,e),this.sessionKey=null,this.eKey=null}return l(e,[{key:"hasSession",value:function(){return!!this.sessionKey}}]),e}(),I={DEBUG:"debug",PRODUCTION:"production"},R=I.PRODUCTION,O=function(){function e(){s(this,e)}return l(e,null,[{key:"log",value:function(){var e;(e=console).log.apply(e,arguments)}},{key:"debug",value:function(){R===e.Mode.DEBUG&&e.log.apply(e,arguments)}},{key:"Mode",get:function(){return I}},{key:"mode",get:function(){return R},set:function(n){-1<Object.keys(e.Mode).map((function(n){return e.Mode[n]})).indexOf(n)&&(R=n)}}]),e}(),M={},P=function(){function e(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};for(var r in s(this,e),this._iid=n,t){var i=t[r];"function"==typeof i&&(this[r]=this.getClonedClass(i))}M[n]=this}return l(e,[{key:"getClonedClass",value:function(e){var n=this._iid;return function(){d(r,e);var t=_(r);function r(){return s(this,r),t.apply(this,arguments)}return l(r,[{key:"_iid",get:function(){return n}}],[{key:"_iid",get:function(){return n}},{key:"_name",get:function(){return e.name}}]),r}()}}],[{key:"get",value:function(e){return e?M[e]:{}}}]),e}(),L=function(){function e(n){s(this,e),this.sb=n,this.pingTimer=null,this.pingTimeoutTimer=null}return l(e,[{key:"ping",value:function(){var e=this,n=P.get(this.sb._iid).Command.bPing(),t=w.get(this.sb._iid).container,r=t.wsAdapter,i=t.pongTimeout;r.ws.send(n),O.debug("PING"),this.pingTimeoutTimer=setTimeout((function(){O.debug("PING timeout"),e.stop(),r.ws.handler&&r.ws.handler.onError()}),i)}},{key:"pong",value:function(){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=null}},{key:"start",value:function(){var e=this,n=w.get(this.sb._iid).container.pingInterval;this.stop(),this.ping(),this.pingTimer=setInterval((function(){e.ping()}),n)}},{key:"stop",value:function(){clearInterval(this.pingTimer),this.pingTimer=null,clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=null}}]),e}(),D=[T.CONNECTION_REQUIRED,T.NETWORK_ERROR,T.ACK_TIMEOUT,T.WEBSOCKET_CONNECTION_CLOSED,T.WEBSOCKET_CONNECTION_FAILED,T.FILE_UPLOAD_CANCEL_FAILED,T.REQUEST_CANCELED,500901,500910,900200],H=function(){function e(){s(this,e)}return l(e,null,[{key:"deepEqual",value:function(e,n){if(e===n)return!0;var t=c({},e),r=c({},n);return(!t.messageId||!r.messageId||t.messageId===r.messageId)&&(!t.reqId||!r.reqId||t.reqId===r.reqId)&&(t.hasOwnProperty("messageId")&&delete t.messageId,t.hasOwnProperty("reqId")&&delete t.reqId,r.hasOwnProperty("messageId")&&delete r.messageId,r.hasOwnProperty("reqId")&&delete r.reqId,JSON.stringify(t)===JSON.stringify(r))}},{key:"isResendableError",value:function(e){return 0<e&&0<=D.indexOf(e)}},{key:"isFile",value:function(e){var t="object"===a(e)&&null!==e&&"string"==typeof e.name&&"string"==typeof e.uri&&"string"==typeof e.type;if(!t)if("undefined"==typeof window&&"undefined"!=typeof n){if("undefined"!=typeof r)return e instanceof r}else{if("undefined"!=typeof Blob)return e instanceof Blob;if("undefined"!=typeof File)return e instanceof File}return t}}]),e}(),x=function(){function e(n){if(s(this,e),this.fields={},n)for(var t in n)this.fields[t]={value:n[t]},H.isFile(n[t])&&(this.fields[t].filename=n[t].name);this.internal=!1,this.upload={reqId:null,deleteRequest:null,progressHandler:null}}return l(e,[{key:"add",value:function(e,n,t){var r=2<arguments.length&&void 0!==t?t:null;this.fields[e]={value:n,filename:r}}},{key:"remove",value:function(e){this.fields.hasOwnProperty(e)&&delete this.fields[e]}},{key:"yield",value:function(){var e=!1;for(var n in this.fields)if(H.isFile(this.fields[n].value)){e=!0;break}if(e){var r=new t;for(var i in this.fields){var a=this.fields[i];if(H.isFile(a.value)){var s=a.value;s.filename||s.name?r.append(i,a.value,s.filename||s.name):s.data?r.append(i,a.value,a.data.name):r.append(i,a.value,"unnamed")}else r.append(i,a.value)}return r}var o={};for(var l in this.fields)o[l]=this.fields[l].value;return o}}]),e}(),F=200,G=400,B=function(){function n(e){s(this,n),this.sb=e,this.cls=P.get(this.sb._iid)}return l(n,[{key:"checkRouting",value:function(e){if(this.sb.customApiHost&&this.sb.customWsHost)"function"==typeof e&&e(null,{apiHost:this.sb.customApiHost,wsHost:this.sb.customWsHost});else{var n=this.sb.getApplicationId();e(null,{apiHost:"https://api-".concat(n,".sendbird.com"),wsHost:"wss://ws-".concat(n,".sendbird.com")})}}},{key:"_buildUrl",value:function(e){var n=e.apiHost,t=e.url,r=e.params;return r&&r.internal?"".concat(n,"/v").concat(k.SDK_MAJOR_VERSION,"/sdk").concat(t):"".concat(n,"/v").concat(k.SDK_MAJOR_VERSION).concat(t)}},{key:"_createHeader",value:function(e){var n=0<arguments.length&&void 0!==e?e:{},r=n instanceof t&&"function"==typeof n.getHeaders?n.getHeaders():{},i=w.get(this.sb._iid).container,a=i.appId,s=i.auth,o=i.extensions,l=i.getUserAgentWithExtensions;return r.SendBird="JS,".concat(k.OS_VERSION,",").concat(k.SDK_VERSION,",").concat(a),r["SB-User-Agent"]=encodeURIComponent(l(o)),s.sessionKey&&(r["Session-Key"]=s.sessionKey),r["Request-Sent-Timestamp"]=(new Date).getTime().toString(),r}},{key:"_createQuery",value:function(e,n){var t=1<arguments.length&&void 0!==n?n:{};try{var r=[];for(var i in t){var s=t[i];if(null!=s){var o="";o="object"===a(s)?Array.isArray(s)?s.map((function(e){return encodeURIComponent(e)})).join(","):encodeURIComponent(JSON.stringify(s)):encodeURIComponent(s),r.push("".concat(i,"=").concat(o))}}return 0<r.length?"".concat(e,"?").concat(r.join("&")):e}catch(n){return O.debug("createWithEncodedGetParams is failed. - ",n),e}}},{key:"_parseError",value:function(e){if(e.isAbort||e.aborted)return new T("Request has been canceled.",T.REQUEST_CANCELED);try{var n=JSON.parse(e.responseText),t=n?n.message:"Request failed.",r=n?n.code:T.REQUEST_FAILED;return new T(t,r)}catch(e){return e instanceof T?e:new T("Request failed.",T.REQUEST_FAILED)}}},{key:"get",value:function(n,t,r){var i=this;this.checkRouting((function(a,s){if(a)r(new T("Request failed.",T.REQUEST_FAILED),null);else{var o=i._buildUrl({apiHost:s.apiHost,url:n,params:t}),l=t?t.yield():{},u=i._createHeader(l);e.get(i._createQuery(o,l),{headers:u}).then((function(e){var n=e.status,t=e.data,a=e.request;if(F<=n&&n<G)r(null,t);else{var s=i._parseError(a);O.debug(s),r(s,null)}})).catch((function(e){O.debug(e),r(e,null)}))}}))}},{key:"dummyCall",value:function(n){var t=this;this.checkRouting((function(r,i){if(r)n(new T("Request failed.",T.REQUEST_FAILED),null);else{var a=i.apiHost,s=t._createHeader();e.get(t._createQuery(a),{headers:s}).then((function(e){var r=e.status,i=e.data,a=e.request;if(F<=r&&r<G)n(null,i);else{var s=t._parseError(a);O.debug(s),n(s,null)}})).catch((function(e){O.debug(e),n(e,null)}))}}))}},{key:"post",value:function(n,r,i){var a=this;this.checkRouting((function(s,o){if(s)i(new T("Request failed.",T.REQUEST_FAILED),null);else{var l=a._buildUrl({apiHost:o.apiHost,url:n,params:r}),u=r?r.yield():{},c=a._createHeader(u),d=null;if(u instanceof t){var f=e.CancelToken.source();d=f.token;var h=a.cls.FileMessageQueue,p=r.upload.reqId;p&&(h.uploadRequest[p]=f)}e.post(l,"function"==typeof u.getBuffer?u.getBuffer():u,{headers:c,cancelToken:d,onUploadProgress:function(e){r.upload.progressHandler&&r.upload.progressHandler(e,r.upload.reqId)}}).then((function(e){var n=e.status,t=e.data,s=e.request;if(F<=n&&n<G)"function"==typeof r.upload.deleteRequest&&r.upload.deleteRequest(),i(null,t);else{"function"==typeof r.upload.deleteRequest&&r.upload.deleteRequest();var o=a._parseError(s);O.debug(o),i(o,null)}})).catch((function(e){"function"==typeof r.upload.deleteRequest&&r.upload.deleteRequest(),O.debug(e),i(e,null)}))}}))}},{key:"put",value:function(n,t,r){var i=this;this.checkRouting((function(a,s){if(a)r(new T("Request failed.",T.REQUEST_FAILED),null);else{var o=i._buildUrl({apiHost:s.apiHost,url:n,params:t}),l=t?t.yield():{},u=i._createHeader(l);e.put(o,l,{headers:u}).then((function(e){var n=e.status,t=e.data,a=e.request;if(F<=n&&n<G)r(null,t);else{var s=i._parseError(a);O.debug(s),r(s,null)}})).catch((function(e){O.debug(e),r(e,null)}))}}))}},{key:"delete",value:function(n,t,r){var i=this;this.checkRouting((function(a,s){if(a)r(new T("Request failed.",T.REQUEST_FAILED),null);else{var o=i._buildUrl({apiHost:s.apiHost,url:n,params:t}),l=t?t.yield():{},u=i._createHeader(l);e.delete(i._createQuery(o,l),{headers:u}).then((function(e){var n=e.status,t=e.data,a=e.request;if(F<=n&&n<G)r(null,t);else{var s=i._parseError(a);O.debug(s),r(s,null)}})).catch((function(e){O.debug(e),r(e,null)}))}}))}},{key:"updateCurrentUserInfo",value:function(e,t){var r=this,i=e.nickname,a=e.profileUrl,s=e.profileImage,o=e.preferredLanguages;this.sb.ConnectionManager.ready((function(e,l){if(e)t(e,null);else{var u=n.Path.USERS_USERID.replace("%s",encodeURIComponent(l.userId)),c=new x;i&&c.add("nickname",i),a&&c.add("profile_url",a),s&&c.add("profile_file",s,s.name),o&&c.add("preferred_languages",o),r.put(u,c,t)}}))}},{key:"getMyGroupChannelChangeLogs",value:function(e,t){var r=this,i=e.ts,a=e.token,s=e.customTypes,o=e.includeEmpty,l=e.includeFrozen;this.sb.ConnectionManager.ready((function(e,u){if(e)t(e,null);else{var c=n.Path.USERS_USERID_MY_GROUP_CHANNEL_CHANGELOGS.replace("%s",encodeURIComponent(u.userId)),d=new x({show_read_receipt:!0,show_delivery_receipt:!0,show_member:!0});a&&d.add("token",a),i&&d.add("change_ts",i),s&&0<s.length&&d.add("custom_types",s),"boolean"==typeof o&&d.add("show_empty",o),"boolean"==typeof l&&d.add("show_frozen",l),r.get(c,d,t)}}))}},{key:"getChannelInvitationPreference",value:function(e,t){var r=this;this.sb.ConnectionManager.ready((function(e,i){if(e)t(e,null);else{var a=n.Path.USERS_USERID_GROUP_CHANNEL_INVITATION_PREFERENCE.replace("%s",encodeURIComponent(i.userId));r.get(a,null,t)}}))}},{key:"getGroupChannelCount",value:function(e,t){var r=this,i=e.memberStateFilter;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=r.cls.GroupChannel,o=n.Path.USERS_USERID_GROUP_CHANNEL_COUNT.replace("%s",encodeURIComponent(a.userId)),l="";switch(i){case s.MemberStateFilter.JOINED:l="joined";break;case s.MemberStateFilter.INVITED:l="invited";break;case s.MemberStateFilter.INVITED_BY_FRIEND:l="invited_by_friend";break;case s.MemberStateFilter.INVITED_BY_NON_FRIEND:l="invited_by_non_friend";break;default:l="all"}var u=new x({state:l});r.get(o,u,t)}}))}},{key:"getUnreadItemCount",value:function(e,t){var r=this,i=e.keys;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.USERS_USERID_UNREAD_ITEM_COUNT.replace("%s",encodeURIComponent(a.userId)),o=new x({item_keys:i});r.get(s,o,t)}}))}},{key:"getTotalUnreadMessageCount",value:function(e,t){var r=this,i=e.customTypesFilter,a=e.superChannelFilter;this.sb.ConnectionManager.ready((function(e,s){if(e)t(e,null);else{var o=n.Path.USERS_USERID_UNREAD_MESSAGE_COUNT.replace("%s",encodeURIComponent(s.userId)),l=new x({super_mode:a});null!==i&&0<i.length&&l.add("custom_types",i),r.get(o,l,t)}}))}},{key:"getTotalUnreadChannelCount",value:function(e,t){var r=this;this.sb.ConnectionManager.ready((function(e,i){if(e)t(e,null);else{var a=n.Path.USERS_USERID_UNREAD_CHANNEL_COUNT.replace("%s",encodeURIComponent(i.userId));r.get(a,null,t)}}))}},{key:"searchMessages",value:function(e,t){var r=this,i=e.keyword,a=e.limit,s=e.reverse,o=e.exactMatch,l=e.channelUrl,u=e.channelCustomType,c=e.messageTimestampFrom,d=e.messageTimestampTo,f=e.order,h=e.nextToken;this.sb.ConnectionManager.ready((function(e,p){if(e)t(e,null);else{var g=n.Path.SEARCH_MESSAGE,y=new x({limit:a,reverse:s,query:i,custom_type:u});c&&y.add("message_ts_from",c),d&&y.add("message_ts_to",d),l&&y.add("channel_url",l),f&&y.add("sort_field",f),"boolean"==typeof o&&y.add("exact_match",o),null!==h&&0<h.length&&y.add("after",h),r.get(g,y,t)}}))}},{key:"markAsReadAll",value:function(e,t){var r=this,i=e.channelUrls;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.USERS_USERID_MARKASREADALL.replace("%s",encodeURIComponent(a.userId)),o=new x;i&&o.add("channel_urls",i),r.put(s,o,t)}}))}},{key:"markAsDelivered",value:function(e,t){var r=this,i=e.channelUrl,a=e.userId;this.sb.ConnectionManager.ready((function(e,s){if(e)t(e,null);else{var o=n.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MARKASDELIVERED.replace("%s",encodeURIComponent(i)),l=new x;a&&l.add("user_id",a),r.put(o,l,t)}}))}},{key:"setChannelInvitationPreference",value:function(e,t){var r=this,i=e.isAutoAccept;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.USERS_USERID_GROUP_CHANNEL_INVITATION_PREFERENCE.replace("%s",encodeURIComponent(a.userId)),o=new x({auto_accept:i});r.put(s,o,t)}}))}},{key:"blockUser",value:function(e,t){var r=this,i=e.blockedUserId;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.USERS_USERID_BLOCK.replace("%s",encodeURIComponent(a.userId)),o=new x({target_id:i});r.post(s,o,t)}}))}},{key:"unblockUser",value:function(e,t){var r=this,i=e.unblockedUserId;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.USERS_USERID_BLOCK_TARGETID.replace("%s",encodeURIComponent(a.userId)).replace("%s",encodeURIComponent(i));r.delete(s,null,t)}}))}},{key:"getPushTriggerOption",value:function(e,t){var r=this;this.sb.ConnectionManager.ready((function(e,i){if(e)t(e,null);else{var a=n.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(i.userId));r.get(a,null,t)}}))}},{key:"setPushTriggerOption",value:function(e,t){var r=this,i=e.pushTriggerOption;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(a.userId)),o=new x({push_trigger_option:i});r.put(s,o,t)}}))}},{key:"getPushTokens",value:function(e,t){var r=this,i=e.ts,a=e.token,s=e.type;this.sb.ConnectionManager.ready((function(e,o){if(e)t(e,null);else{var l=n.Path.USERS_USERID_PUSH_DEVICE_TOKENS.replace("%s",encodeURIComponent(o.userId)).replace("%s",encodeURIComponent(s)),u=new x;a&&u.add("token",a),i&&u.add("created_ts",i),r.get(l,u,t)}}))}},{key:"getPushTemplate",value:function(e,t){var r=this;this.sb.ConnectionManager.ready((function(e,i){if(e)t(e,null);else{var a=n.Path.USERS_USERID_PUSH_TEMPLATE.replace("%s",encodeURIComponent(i.userId));r.get(a,null,t)}}))}},{key:"setPushTemplate",value:function(e,t){var r=this,i=e.templateName;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.USERS_USERID_PUSH_TEMPLATE.replace("%s",encodeURIComponent(a.userId)),o=new x({name:i});r.put(s,o,t)}}))}},{key:"getDoNotDisturb",value:function(e,t){var r=this;this.sb.ConnectionManager.ready((function(e,i){if(e)t(e,null);else{var a=n.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(i.userId));r.get(a,null,t)}}))}},{key:"setDoNotDisturb",value:function(e,t){var r=this,i=e.doNotDisturbOn,a=e.startHour,s=e.startMin,o=e.endHour,l=e.endMin,u=e.timezone;this.sb.ConnectionManager.ready((function(e,c){if(e)t(e,null);else{var d=n.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(c.userId)),f=new x({do_not_disturb:i,start_hour:a,start_min:s,end_hour:o,end_min:l,timezone:u});r.put(d,f,t)}}))}},{key:"getSnoozePeriod",value:function(e,t){var r=this;this.sb.ConnectionManager.ready((function(e,i){if(e)t(e,null);else{var a=n.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(i.userId));r.get(a,null,t)}}))}},{key:"setSnoozePeriod",value:function(e,t){var r=this,i=e.snoozeOn,a=e.startTs,s=e.endTs;this.sb.ConnectionManager.ready((function(e,o){if(e)t(e,null);else{var l=n.Path.USERS_USERID_PUSHPREFERENCE.replace("%s",encodeURIComponent(o.userId)),u=new x({snooze_enabled:i,snooze_start_ts:a,snooze_end_ts:s});r.put(l,u,t)}}))}},{key:"registerGCMPushToken",value:function(e,t){var r=this,i=e.token;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.USERS_USERID_PUSH_GCM.replace("%s",encodeURIComponent(a.userId)),o=new x({gcm_reg_token:i,always_push:!0});r.post(s,o,t)}}))}},{key:"unregisterGCMPushToken",value:function(e,t){var r=this,i=e.token;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.USERS_USERID_PUSH_GCM_TOKEN.replace("%s",encodeURIComponent(a.userId)).replace("%s",encodeURIComponent(i));r.delete(s,null,t)}}))}},{key:"unregisterAllGCMPushTokens",value:function(e,t){var r=this;this.sb.ConnectionManager.ready((function(e,i){if(e)t(e,null);else{var a=n.Path.USERS_USERID_PUSH_GCM.replace("%s",encodeURIComponent(i.userId));r.delete(a,null,t)}}))}},{key:"registerAPNSPushToken",value:function(e,t){var r=this,i=e.token;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.USERS_USERID_PUSH_APNS.replace("%s",encodeURIComponent(a.userId)),o=new x({apns_device_token:i,always_push:!0});r.post(s,o,t)}}))}},{key:"unregisterAPNSPushToken",value:function(e,t){var r=this,i=e.token;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.USERS_USERID_PUSH_APNS_TOKEN.replace("%s",encodeURIComponent(a.userId)).replace("%s",encodeURIComponent(i));r.delete(s,null,t)}}))}},{key:"unregisterAllAPNSPushTokens",value:function(e,t){var r=this;this.sb.ConnectionManager.ready((function(e,i){if(e)t(e,null);else{var a=n.Path.USERS_USERID_PUSH_APNS.replace("%s",encodeURIComponent(i.userId));r.delete(a,null,t)}}))}},{key:"unregisterAllPushTokens",value:function(e,t){var r=this;this.sb.ConnectionManager.ready((function(e,i){if(e)t(e,null);else{var a=n.Path.USERS_USERID_PUSH.replace("%s",encodeURIComponent(i.userId));r.delete(a,null,t)}}))}},{key:"loadFriendList",value:function(e,t){var r=this,i=e.token,a=e.limit;this.sb.ConnectionManager.ready((function(e,s){if(e)t(e,null);else{var o=n.Path.FRIENDS.replace("%s",encodeURIComponent(s.userId)),l=new x({limit:a,token:i});r.get(o,l,t)}}))}},{key:"getFriendChangeLogsByToken",value:function(e,t){var r=this,i=e.token;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.FRIENDS_CHANGE_LOGS.replace("%s",encodeURIComponent(a.userId)),o=new x;i&&o.add("token",i),r.get(s,o,t)}}))}},{key:"addFriends",value:function(e,t){var r=this,i=e.userIds;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.FRIENDS.replace("%s",encodeURIComponent(a.userId)),o=new x({user_ids:i});r.post(s,o,t)}}))}},{key:"deleteFriends",value:function(e,t){var r=this,i=e.userIds;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.FRIENDS.replace("%s",encodeURIComponent(a.userId)),o=new x({user_ids:i});r.delete(s,o,t)}}))}},{key:"uploadFriendDiscoveries",value:function(e,t){var r=this,i=e.discoveries;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.FRIENDS_DISCOVERIES.replace("%s",encodeURIComponent(a.userId)),o=[];i.forEach((function(e){o.push({friend_discovery_key:e.friendDiscoveryKey,friend_name:"string"==typeof e.friendName||e.friendName?e.friendName:null})}));var l=new x({friend_discoveries:o});r.put(s,l,t)}}))}},{key:"deleteFriendDiscoveries",value:function(e,t){var r=this,i=e.discoveryKeys;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.FRIENDS_DISCOVERIES.replace("%s",encodeURIComponent(a.userId)),o=new x({friend_discovery_keys:i});r.delete(s,o,t)}}))}},{key:"loadUserList",value:function(e,t){var r=this,i=e.token,a=e.limit,s=e.userIdsFilter,o=e.metaDataKeyFilter,l=e.metaDataValuesFilter;this.sb.ConnectionManager.ready((function(e,u){if(e)t(e,null);else{var c=n.Path.USERS,d=new x({token:i,limit:a});s&&0<s.length&&d.add("user_ids",s),o&&l&&0<l.length&&(d.add("metadatakey",o),d.add("metadatavalues_in",l)),r.get(c,d,t)}}))}},{key:"loadBlockedUserList",value:function(e,t){var r=this,i=e.token,a=e.limit,s=e.userIdsFilter;this.sb.ConnectionManager.ready((function(e,o){if(e)t(e,null);else{var l=n.Path.USERS_USERID_BLOCK.replace("%s",encodeURIComponent(o.userId)),u=new x({token:i,limit:a});s&&0<s.length&&u.add("user_ids",s),r.get(l,u,t)}}))}},{key:"createUserMetaData",value:function(e,t){var r=this,i=e.metaData;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.USERS_USERID_METADATA.replace("%s",encodeURIComponent(a.userId)),o=new x({metadata:i});r.post(s,o,t)}}))}},{key:"updateUserMetaData",value:function(e,t){var r=this,i=e.metaData,a=e.upsert;this.sb.ConnectionManager.ready((function(e,s){if(e)t(e,null);else{var o=n.Path.USERS_USERID_METADATA.replace("%s",encodeURIComponent(s.userId)),l=new x({metadata:i,upsert:a});r.put(o,l,t)}}))}},{key:"deleteUserMetaData",value:function(e,t){var r=this,i=e.metaDataKey;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.USERS_USERID_METADATA_KEY.replace("%s",encodeURIComponent(a.userId)).replace("%s",encodeURIComponent(i));r.delete(s,null,t)}}))}},{key:"deleteAllUserMetaData",value:function(e,t){var r=this;this.sb.ConnectionManager.ready((function(e,i){if(e)t(e,null);else{var a=n.Path.USERS_USERID_METADATA.replace("%s",encodeURIComponent(i.userId));r.delete(a,null,t)}}))}},{key:"getMessageChangeLogs",value:function(e,t){var r=this,i=e.channelUrl,a=e.ts,s=e.timestamp,o=e.token,l=e.isOpenChannel,u=e.includeMetaArray,c=e.includeReactions,d=e.includeReplies,f=e.includeParentMessageText,h=e.includeThreadInfo;this.sb.ConnectionManager.ready((function(e,p){if(e)t(e,null);else{var g=l?n.Path.OPENCHANNELS_CHANNELURL_MESSAGES_CHANGELOGS.replace("%s",encodeURIComponent(i)):n.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_CHANGELOGS.replace("%s",encodeURIComponent(i)),y=new x;o&&y.add("token",o),a&&y.add("change_ts",a),s&&y.add("change_ts",s),"boolean"==typeof u&&y.add("with_sorted_meta_array",u),"boolean"==typeof c&&y.add("include_reactions",c),"boolean"==typeof d&&y.add("include_replies",d),"boolean"==typeof f&&y.add("include_parent_text_message",f),"boolean"==typeof h&&y.add("include_thread_info",h),r.get(g,y,t)}}))}},{key:"getMyMutedInfo",value:function(e,t){var r=this,i=e.channelUrl,a=e.userId,s=e.isGroupChannel;this.sb.ConnectionManager.ready((function(e,o){if(e)t(e,null);else{var l=s?n.Path.GROUPCHANNELS_CHANNELURL_MUTE_USERID.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(a)):n.Path.OPENCHANNELS_CHANNELURL_MUTE_USERID.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(a));r.get(l,null,t)}}))}},{key:"loadBannedUserList",value:function(e,t){var r=this,i=e.token,a=e.limit,s=e.channelUrl,o=e.isOpenChannel;this.sb.ConnectionManager.ready((function(e,l){if(e)t(e,null);else{var u=o?n.Path.OPENCHANNELS_CHANNELURL_BAN.replace("%s",encodeURIComponent(s)):n.Path.GROUPCHANNELS_CHANNELURL_BAN.replace("%s",encodeURIComponent(s)),c=new x({token:i,limit:a});r.get(u,c,t)}}))}},{key:"loadMutedUserList",value:function(e,t){var r=this,i=e.token,a=e.limit,s=e.channelUrl,o=e.isOpenChannel;this.sb.ConnectionManager.ready((function(e,l){if(e)t(e,null);else{var u=o?n.Path.OPENCHANNELS_CHANNELURL_MUTE.replace("%s",encodeURIComponent(s)):n.Path.GROUPCHANNELS_CHANNELURL_MUTE.replace("%s",encodeURIComponent(s)),c=new x({token:i,limit:a});r.get(u,c,t)}}))}},{key:"getMessageList",value:function(e,t){var r=this,i=e.channel,a=e.token,s=e.tokenType,o=e.isInclusive,l=e.prevResultSize,u=void 0===l?0:l,c=e.nextResultSize,d=void 0===c?0:c,f=e.shouldReverse,h=e.messageType,p=e.customType,g=e.senderUserIds,y=e.includeMetaArray,m=e.includeReactions,_=e.includeThreadInfo,v=e.includeReplies,E=e.includeParentMessageText,b=e.rootMessageId,C=e.parentMessageId;this.sb.ConnectionManager.ready((function(e,l){if(e)t(e,null);else{var c=i.isOpenChannel()?n.Path.OPENCHANNELS_CHANNELURL_MESSAGES.replace("%s",i.url):n.Path.GROUPCHANNELS_CHANNELURL_MESSAGES.replace("%s",i.url),S=new x({is_sdk:String(!0),prev_limit:String(u),next_limit:String(d),include:String(o),reverse:String(f)});"timestamp"===s?S.add("message_ts",a):"messageId"===s&&S.add("message_id",String(a)),h&&S.add("message_type",String(h)),p&&S.add("custom_type",String(p)),Array.isArray(g)&&0<g.length&&S.add("sender_ids",g),"boolean"==typeof y&&S.add("with_sorted_meta_array",y),"boolean"==typeof m&&S.add("include_reactions",m),"boolean"==typeof _&&S.add("include_thread_info",_),"boolean"==typeof v&&S.add("include_replies",v),"boolean"==typeof E&&S.add("include_parent_message_text",E),b&&S.add("root_message_id",b),C&&S.add("parent_message_id",C),r.get(c,S,t)}}))}},{key:"translateUserMessage",value:function(e,t){var r=this,i=e.channelUrl,a=e.isOpenChannel,s=e.messageId,o=e.translationTargetLanguages;this.sb.ConnectionManager.ready((function(e,l){if(e)t(e,null);else{var u=a?n.Path.OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_TRANSLATION.replace("%s",encodeURIComponent(i)).replace("%s",s):n.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_TRANSLATION.replace("%s",encodeURIComponent(i)).replace("%s",s),c=new x({target_langs:o});r.post(u,c,t)}}))}},{key:"getMessage",value:function(e,t){var r=this,i=e.channel,a=e.messageId;this.sb.ConnectionManager.ready((function(e,s){if(e)t(e,null);else{var o=i.isOpenChannel()?n.Path.OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID.replace("%s",encodeURIComponent(i.url)).replace("%s",encodeURIComponent(a)):n.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID.replace("%s",encodeURIComponent(i.url)).replace("%s",encodeURIComponent(a));r.get(o,null,t)}}))}},{key:"deleteMessage",value:function(e,t){var r=this,i=e.channelUrl,a=e.isOpenChannel,s=e.messageId;this.sb.ConnectionManager.ready((function(e,o){if(e)t(e,null);else{var l=a?n.Path.OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(s)):n.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(s));r.delete(l,null,t)}}))}},{key:"muteUser",value:function(e,t){var r=this,i=e.channelUrl,a=e.userId,s=e.description,o=e.seconds,l=e.isGroupChannel;this.sb.ConnectionManager.ready((function(e,u){if(e)t(e,null);else{var c=l?n.Path.GROUPCHANNELS_CHANNELURL_MUTE.replace("%s",encodeURIComponent(i)):n.Path.OPENCHANNELS_CHANNELURL_MUTE.replace("%s",encodeURIComponent(i)),d=new x({user_id:a});o&&(0<o||-1!==o)&&d.add("seconds",o),s&&d.add("description",s),r.post(c,d,t)}}))}},{key:"unmuteUser",value:function(e,t){var r=this,i=e.channelUrl,a=e.userId,s=e.isGroupChannel;this.sb.ConnectionManager.ready((function(e,o){if(e)t(e,null);else{var l=s?n.Path.GROUPCHANNELS_CHANNELURL_MUTE_USERID.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(a)):n.Path.OPENCHANNELS_CHANNELURL_MUTE_USERID.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(a));r.delete(l,null,t)}}))}},{key:"banUser",value:function(e,t){var r=this,i=e.channelUrl,a=e.userId,s=e.description,o=e.seconds,l=e.isGroupChannel;this.sb.ConnectionManager.ready((function(e,u){if(e)t(e,null);else{var c=l?n.Path.GROUPCHANNELS_CHANNELURL_BAN.replace("%s",encodeURIComponent(i)):n.Path.OPENCHANNELS_CHANNELURL_BAN.replace("%s",encodeURIComponent(i)),d=new x({user_id:a});s&&d.add("description",s),d.add("seconds",String(o)),r.post(c,d,t)}}))}},{key:"unbanUser",value:function(e,t){var r=this,i=e.channelUrl,a=e.userId,s=e.isGroupChannel;this.sb.ConnectionManager.ready((function(e,o){if(e)t(e,null);else{var l=s?n.Path.GROUPCHANNELS_CHANNELURL_BAN_USERID.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(a)):n.Path.OPENCHANNELS_CHANNELURL_BAN_USERID.replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(a));r.delete(l,null,t)}}))}},{key:"getMetaCounters",value:function(e,t){var r=this,i=e.channelUrl,a=e.isOpenChannel,s=e.keys;this.sb.ConnectionManager.ready((function(e,o){if(e)t(e,null);else{var l=a?n.Path.OPENCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(i)):n.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(i)),u=new x({keys:s});r.get(l,u,t)}}))}},{key:"createMetaCounters",value:function(e,t){var r=this,i=e.channelUrl,a=e.isOpenChannel,s=e.metaCounter;this.sb.ConnectionManager.ready((function(e,o){if(e)t(e,null);else{var l=a?n.Path.OPENCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(i)):n.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(i)),u=new x({metacounter:s});r.post(l,u,t)}}))}},{key:"updateMetaCounters",value:function(e,t){var r=this,i=e.channelUrl,a=e.isOpenChannel,s=e.metaCounter,o=e.upsert,l=e.mode;this.sb.ConnectionManager.ready((function(e,u){if(e)t(e,null);else{var c=a?n.Path.OPENCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(i)):n.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(i)),d=new x({metacounter:s,upsert:o,mode:l});r.put(c,d,t)}}))}},{key:"deleteMetaCounter",value:function(e,t){var r=this,i=e.channelUrl,a=e.isOpenChannel,s=e.key;this.sb.ConnectionManager.ready((function(e,o){if(e)t(e,null);else{var l=a?n.Path.OPENCHANNELS_CHANNELURL_METACOUNTER_KEY.replace("%s",encodeURIComponent(i)).replace("%s",s):n.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER_KEY.replace("%s",encodeURIComponent(i)).replace("%s",s);r.delete(l,null,t)}}))}},{key:"deleteAllMetaCounters",value:function(e,t){var r=this,i=e.channelUrl,a=e.isOpenChannel;this.sb.ConnectionManager.ready((function(e,s){if(e)t(e,null);else{var o=a?n.Path.OPENCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(i)):n.Path.GROUPCHANNELS_CHANNELURL_METACOUNTER.replace("%s",encodeURIComponent(i));r.delete(o,null,t)}}))}},{key:"getMetaData",value:function(e,t){var r=this,i=e.channelUrl,a=e.isOpenChannel,s=e.keys;this.sb.ConnectionManager.ready((function(e,o){if(e)t(e,null);else{var l=a?n.Path.OPENCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(i)):n.Path.GROUPCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(i)),u=new x({keys:s});r.get(l,u,t)}}))}},{key:"createMetaData",value:function(e,t){var r=this,i=e.channelUrl,a=e.isOpenChannel,s=e.metaData;this.sb.ConnectionManager.ready((function(e,o){if(e)t(e,null);else{var l=a?n.Path.OPENCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(i)):n.Path.GROUPCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(i)),u=new x({metadata:s});r.post(l,u,t)}}))}},{key:"updateMetaData",value:function(e,t){var r=this,i=e.channelUrl,a=e.isOpenChannel,s=e.metaData,o=e.upsert;this.sb.ConnectionManager.ready((function(e,l){if(e)t(e,null);else{var u=a?n.Path.OPENCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(i)):n.Path.GROUPCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(i)),c=new x({metadata:s,upsert:o});r.put(u,c,t)}}))}},{key:"deleteMetaData",value:function(e,t){var r=this,i=e.channelUrl,a=e.isOpenChannel,s=e.key;this.sb.ConnectionManager.ready((function(e,o){if(e)t(e,null);else{var l=a?n.Path.OPENCHANNELS_CHANNELURL_METADATA_KEY.replace("%s",encodeURIComponent(i)).replace("%s",s):n.Path.GROUPCHANNELS_CHANNELURL_METADATA_KEY.replace("%s",encodeURIComponent(i)).replace("%s",s);r.delete(l,null,t)}}))}},{key:"deleteAllMetaData",value:function(e,t){var r=this,i=e.channelUrl,a=e.isOpenChannel;this.sb.ConnectionManager.ready((function(e,s){if(e)t(e,null);else{var o=a?n.Path.OPENCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(i)):n.Path.GROUPCHANNELS_CHANNELURL_METADATA.replace("%s",encodeURIComponent(i));r.delete(o,null,t)}}))}},{key:"loadOperatorList",value:function(e,t){var r=this,i=e.channelUrl,a=e.isOpenChannel,s=e.token,o=e.limit;this.sb.ConnectionManager.ready((function(e,l){if(e)t(e,null);else{var u=a?n.Path.OPENCHANNELS_OPERATORS.replace("%s",encodeURIComponent(i)):n.Path.GROUPCHANNELS_OPERATORS.replace("%s",encodeURIComponent(i)),c=new x({token:s,limit:o});r.get(u,c,t)}}))}},{key:"getOpenChannel",value:function(e,t){var r=this,i=e.channelUrl,a=e.internalCall;this.sb.ConnectionManager.ready((function(e,s){if(e)t(e,null);else{var o=n.Path.OPENCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(i)),l=new x({});l.internal=a===k.INTERNAL_CALL,r.get(o,l,t)}}))}},{key:"loadOpenChannelList",value:function(e,t){var r=this,i=e.token,a=e.limit,s=e.nameKeyword,o=e.urlKeyword,l=e.customTypes,u=e.includeFrozen;this.sb.ConnectionManager.ready((function(e,c){if(e)t(e,null);else{var d=n.Path.OPENCHANNELS,f=new x({token:i,limit:a});s&&f.add("name_contains",s),o&&f.add("url_contains",o),l&&0<l.length&&f.add("custom_types",l),"boolean"==typeof u&&f.add("show_frozen",u),r.get(d,f,t)}}))}},{key:"loadParticipantList",value:function(e,t){var r=this,i=e.token,a=e.limit,s=e.channelUrl;this.sb.ConnectionManager.ready((function(e,o){if(e)t(e,null);else{var l=n.Path.OPENCHANNELS_CHANNELURL_PARTICIPANTS.replace("%s",encodeURIComponent(s)),u=new x({token:i,limit:a});r.get(l,u,t)}}))}},{key:"createOpenChannel",value:function(e,t){var r=this,i=e.name,a=e.coverUrlOrImage,s=e.data,o=e.operatorUserIds,l=e.customType;this.sb.ConnectionManager.ready((function(e,u){if(e)t(e,null);else{var c=n.Path.OPENCHANNELS,d=new x;"string"==typeof a&&d.add("cover_url",a),H.isFile(a)&&d.add("cover_file",a),null!==i&&"string"==typeof i&&d.add("name",i),s&&d.add("data",s),o&&(Array.isArray(o)?d.add("operators",o):d.add("operators",[o])),l&&d.add("custom_type",l),r.post(c,d,t)}}))}},{key:"updateOpenChannel",value:function(e,t){var r=this,i=e.channelUrl,a=e.name,s=e.coverUrlOrImage,o=e.data,l=e.operatorUserIds,u=e.customType;this.sb.ConnectionManager.ready((function(e,c){if(e)t(e,null);else{var d=n.Path.OPENCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(i)),f=new x;"string"==typeof s&&f.add("cover_url",s),H.isFile(s)&&f.add("cover_file",s,s.name),null!==a&&"string"==typeof a&&f.add("name",a),null!==o&&"string"==typeof o&&f.add("data",o),null!==l&&(Array.isArray(l)?f.add("operator_ids",l):f.add("operator_ids",[l])),null!==u&&"string"==typeof u&&f.add("custom_type",u),r.put(d,f,t)}}))}},{key:"deleteOpenChannel",value:function(e,t){var r=this,i=e.channelUrl;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.OPENCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(i));r.delete(s,null,t)}}))}},{key:"getGroupChannel",value:function(e,t){var r=this,i=e.channelUrl,a=e.showMember,s=e.internalCall;this.sb.ConnectionManager.ready((function(e,o){if(e)t(e,null);else{var l=n.Path.GROUPCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(i)),u=new x({show_member:a,show_read_receipt:!0,show_delivery_receipt:!0});u.internal=s===k.INTERNAL_CALL,r.get(l,u,t)}}))}},{key:"loadGroupChannelList",value:function(e,t){var r=this,i=e.token,a=e.limit,s=e.includeEmpty,o=e.order,l=e.userIdsFilter,u=e.nicknameContainsFilter,c=e.channelNameContainsFilter,d=e.channelUrlsFilter,f=e.customTypesFilter,h=e.customTypeStartsWithFilter,p=e.memberStateFilter,g=e.superChannelFilter,y=e.publicChannelFilter,m=e.unreadChannelFilter,_=e.metadataOrderKeyFilter,v=e.hiddenChannelFilter,E=e.searchFilter,b=e.includeFrozen;this.sb.ConnectionManager.ready((function(e,C){if(e)t(e,null);else{var S=n.Path.MYGROUPCHANNELS.replace("%s",encodeURIComponent(C.userId)),k=new x({token:i,limit:a,order:o,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:String(s),member_state_filter:p});f&&0<f.length&&k.add("custom_types",f),u&&k.add("members_nickname_contains",u),c&&k.add("name_contains",c),E.hasOwnProperty("search_query")&&E.hasOwnProperty("search_fields")&&(k.add("search_query",E.search_query),k.add("search_fields",E.search_fields)),l.userIds&&0<l.userIds.length&&(l.includeMode?(k.add("members_include_in",l.userIds),k.add("query_type",l.queryType.toUpperCase())):k.add("members_exactly_in",l.userIds)),d&&0<d.length&&k.add("channel_urls",d),k.add("super_mode",g),k.add("public_mode",y),k.add("unread_filter",m),_&&k.add("metadata_order_key",_),h&&k.add("custom_type_startswith",h),v&&k.add("hidden_mode",v),"boolean"==typeof b&&k.add("show_frozen",b),r.get(S,k,t)}}))}},{key:"loadPublicGroupChannelList",value:function(e,t){var r=this,i=e.token,a=e.limit,s=e.includeEmpty,o=e.order,l=e.channelNameContainsFilter,u=e.channelUrlsFilter,c=e.customTypesFilter,d=e.customTypeStartsWithFilter,f=e.superChannelFilter,h=e.membershipFilter,p=e.metadataOrderKeyFilter,g=e.includeFrozen;this.sb.ConnectionManager.ready((function(e,y){if(e)t(e,null);else{var m=r.cls.GroupChannel,_=n.Path.GROUPCHANNELS,v=new x({token:i,limit:a,order:o,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:String(s),public_mode:m.PublicChannelFilter.PUBLIC,public_membership_mode:h});c&&0<c.length&&v.add("custom_types",c),l&&v.add("name_contains",l),u&&0<u.length&&v.add("channel_urls",u),v.add("super_mode",f),p&&v.add("metadata_order_key",p),d&&v.add("custom_type_startswith",d),"boolean"==typeof g&&v.add("show_frozen",g),r.get(_,v,t)}}))}},{key:"createGroupChannel",value:function(e,t){var r=this,i=e.isDistinct,a=e.isSuper,s=e.isBroadcast,o=e.isPublic,l=e.channelUrl,u=e.isDiscoverable,c=e.isStrict,d=e.name,f=e.data,h=e.customType,p=e.coverUrl,g=e.coverImage,y=e.accessCode,m=e.isEphemeral,_=e._invitedUserIds,v=void 0===_?[]:_,E=e.operatorUserIds,C=e.messageSurvivalSeconds;this.sb.ConnectionManager.ready((function(e,_){if(e)t(e,null);else{var S=n.Path.GROUPCHANNELS,k=new x({user_ids:[_.userId].concat(b(v)).filter((function(e,n,t){return n===t.indexOf(e)}))});null!==p&&"string"==typeof p&&k.add("cover_url",p),H.isFile(g)&&k.add("cover_file",g,g.name),null!==l&&k.add("channel_url",l),null!==i&&k.add("is_distinct",i),null!==a&&k.add("is_super",a),null!==s&&k.add("is_broadcast",s),null!==o&&k.add("is_public",o),null!==u&&k.add("is_discoverable",u),null!==c&&k.add("strict",c),null!==m&&k.add("is_ephemeral",m),y&&k.add("access_code",y),null!==d&&"string"==typeof d&&k.add("name",d),f&&k.add("data",f),h&&k.add("custom_type",h),Array.isArray(E)&&0<E.length&&k.add("operator_ids",E),null!==C&&-1<C&&k.add("message_survival_seconds",C),r.post(S,k,t)}}))}},{key:"updateGroupChannel",value:function(e,t){var r=this,i=e.isDistinct,a=e.isPublic,s=e.channelUrl,o=e.isDiscoverable,l=e.name,u=e.data,c=e.customType,d=e.coverUrl,f=e.coverImage,h=e.accessCode,p=e.operatorUserIds,g=e.messageSurvivalSeconds;this.sb.ConnectionManager.ready((function(e,y){if(e)t(e,null);else{var m=n.Path.GROUPCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(s)),_=new x;null!==i&&_.add("is_distinct",i),null!==a&&_.add("is_public",a),null!==o&&_.add("is_discoverable",o),null!==h&&_.add("access_code",h),null!==d&&"string"==typeof d&&_.add("cover_url",d),H.isFile(f)&&_.add("cover_file",f,f.name),null!==l&&"string"==typeof l&&_.add("name",l),null!==u&&"string"==typeof u&&_.add("data",u),null!==c&&"string"==typeof c&&_.add("custom_type",c),null!==p&&(Array.isArray(p)?_.add("operator_ids",p):p&&_.add("operator_ids",[p])),null!==g&&-1<g&&_.add("message_survival_seconds",g),r.put(m,_,t)}}))}},{key:"addOperators",value:function(e,t){var r=this,i=e.channelUrl,a=e.isOpenChannel,s=void 0!==a&&a,o=e.operatorUserIds;this.sb.ConnectionManager.ready((function(e,a){if(!e){var l=(s?n.Path.OPENCHANNELS_CHANNELURL_OPERATORS:n.Path.GROUPCHANNELS_CHANNELURL_OPERATORS).replace("%s",encodeURIComponent(i)),u=new x({operator_ids:o});r.post(l,u,t)}}))}},{key:"removeOperators",value:function(e,t){var r=this,i=e.channelUrl,a=e.isOpenChannel,s=void 0!==a&&a,o=e.operatorUserIds;this.sb.ConnectionManager.ready((function(e,a){if(!e){var l=(s?n.Path.OPENCHANNELS_CHANNELURL_OPERATORS:n.Path.GROUPCHANNELS_CHANNELURL_OPERATORS).replace("%s",encodeURIComponent(i)),u=new x({operator_ids:o});r.delete(l,u,t)}}))}},{key:"inviteToGroupChannel",value:function(e,t){var r=this,i=e.channelUrl,a=e.userIds;this.sb.ConnectionManager.ready((function(e,s){if(e)t(e,null);else{var o=n.Path.GROUPCHANNELS_CHANNELURL_INVITE.replace("%s",encodeURIComponent(i)),l=new x({user_ids:a});r.post(o,l,t)}}))}},{key:"acceptInvitation",value:function(e,t){var r=this,i=e.channelUrl,a=e.accessCode;this.sb.ConnectionManager.ready((function(e,s){if(e)t(e,null);else{var o=n.Path.GROUPCHANNELS_CHANNELURL_ACCEPT_INVITATION.replace("%s",encodeURIComponent(i)),l=new x({user_id:s.userId});a&&l.add("access_code",a),r.put(o,l,t)}}))}},{key:"declineInvitation",value:function(e,t){var r=this,i=e.channelUrl;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.GROUPCHANNELS_CHANNELURL_DECLINE_INVITATION.replace("%s",encodeURIComponent(i)),o=new x({user_id:a.userId});r.put(s,o,t)}}))}},{key:"joinGroupChannel",value:function(e,t){var r=this,i=e.channelUrl,a=e.accessCode;this.sb.ConnectionManager.ready((function(e,s){if(e)t(e,null);else{var o=n.Path.GROUPCHANNELS_CHANNELURL_JOIN.replace("%s",encodeURIComponent(i)),l=new x({user_id:s.userId});a&&l.add("access_code",a),r.put(o,l,t)}}))}},{key:"leaveGroupChannel",value:function(e,t){var r=this,i=e.channelUrl;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.GROUPCHANNELS_CHANNELURL_LEAVE.replace("%s",encodeURIComponent(i)),o=new x({user_id:a.userId});r.put(s,o,t)}}))}},{key:"hideGroupChannel",value:function(e,t){var r=this,i=e.channelUrl,a=e.hidePreviousMessages,s=e.allowAutoUnhide;this.sb.ConnectionManager.ready((function(e,o){if(e)t(e,null);else{var l=n.Path.GROUPCHANNELS_CHANNELURL_HIDE.replace("%s",encodeURIComponent(i)),u=new x({user_id:o.userId,hide_previous_messages:a,allow_auto_unhide:s});r.put(l,u,t)}}))}},{key:"unhideGroupChannel",value:function(e,t){var r=this,i=e.channelUrl;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.GROUPCHANNELS_CHANNELURL_HIDE.replace("%s",encodeURIComponent(i));r.delete(s,null,t)}}))}},{key:"freeze",value:function(e,t){var r=this,i=e.channelUrl,a=e.isGroupChannel,s=e.freezing;this.sb.ConnectionManager.ready((function(e,o){if(e)t(e,null);else{var l=a?n.Path.GROUPCHANNELS_CHANNELURL_FREEZE.replace("%s",encodeURIComponent(i)):n.Path.OPENCHANNELS_CHANNELURL_FREEZE.replace("%s",encodeURIComponent(i)),u=new x({freeze:s});r.put(l,u,t)}}))}},{key:"deleteGroupChannel",value:function(e,t){var r=this,i=e.channelUrl;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.GROUPCHANNELS_CHANNELURL.replace("%s",encodeURIComponent(i));r.delete(s,null,t)}}))}},{key:"loadMemberList",value:function(e,t){var r=this,i=e.channelUrl,a=e.token,s=e.limit,o=e.mutedMemberFilter,l=e.order,u=e.memberStateFilter,c=e.nicknameStartsWithFilter;this.sb.ConnectionManager.ready((function(e,d){if(e)t(e,null);else{var f=n.Path.GROUPCHANNELS_MEMBERS.replace("%s",encodeURIComponent(i)),h=new x({token:a,limit:s,order:l.toLowerCase(),muted_member_filter:o.toLowerCase(),member_state_filter:u,show_member_is_muted:!0,show_read_receipt:!0,show_delivery_receipt:!0});c&&h.add("nickname_startswith",c),r.get(f,h,t)}}))}},{key:"report",value:function(e,t){var r=this,i=e.channelUrl,a=e.isOpenChannel,s=e.reportCategory,o=e.reportingUserId,l=e.reportDescription;this.sb.ConnectionManager.ready((function(e,u){if(e)t(e,null);else{var c=n.Path.REPORT_CHANNELS.replace("%s",encodeURIComponent(a?"open_channels":"group_channels")).replace("%s",encodeURIComponent(i)),d=new x({report_category:s});null!=o&&d.add("reporting_user_id",o),null!=l&&d.add("report_description",l),r.post(c,d,t)}}))}},{key:"reportUser",value:function(e,t){var r=this,i=e.offendingUserId,a=e.channelUrl,s=e.isOpenChannel,o=e.reportCategory,l=e.reportingUserId,u=e.reportDescription;this.sb.ConnectionManager.ready((function(e,c){if(e)t(e,null);else{var d=n.Path.REPORT_USERS.replace("%s",encodeURIComponent(i)),f=new x({channel_url:a,channel_type:s?"open_channels":"group_channels",report_category:o});null!=l&&f.add("reporting_user_id",l),null!=u&&f.add("report_description",u),r.post(d,f,t)}}))}},{key:"reportMessage",value:function(e,t){var r=this,i=e.channelUrl,a=e.isOpenChannel,s=e.messageId,o=e.reportCategory,l=e.reportingUserId,u=e.reportDescription,c=e.offendingUserId;this.sb.ConnectionManager.ready((function(e,d){if(e)t(e,null);else{var f=n.Path.REPORT_MESSAGES.replace("%s",encodeURIComponent(a?"open_channels":"group_channels")).replace("%s",encodeURIComponent(i)).replace("%s",encodeURIComponent(s)),h=new x({report_category:o,offending_user_id:c});null!=l&&h.add("reporting_user_id",l),null!=u&&h.add("report_description",u),r.post(f,h,t)}}))}},{key:"sendUserMessage",value:function(e,t){var r=this,i=e.channelUrl,a=e.isOpenChannel,s=e.message,o=e.data,l=e.customType,u=e.translationTargetLanguages,c=e.metaArrays,d=e.mentionType,f=e.mentionedUserIds,h=e.pushNotificationDeliveryOption,p=e.rootMessageId,g=e.parentMessageId;this.sb.ConnectionManager.ready((function(e,y){if(e)t(e,null);else{var m=r.cls.FileMessageParams,_=a?n.Path.OPENCHANNELS_CHANNELURL_MESSAGES.replace("%s",encodeURIComponent(i)):n.Path.GROUPCHANNELS_CHANNELURL_MESSAGES.replace("%s",encodeURIComponent(i)),v=new x({message_type:"MESG",user_id:y.userId,message:s,mention_type:d,mentioned_user_ids:[]});null!=o&&v.add("data",o),null!=l&&v.add("custom_type",l),u&&v.add("translation_target_langs",u),c&&0<c.length&&v.add("sorted_metaarray",c.map((function(e){return e.encode()}))),d===r.cls.BaseMessageParams.MentionType.CHANNEL?v.add("mentioned_user_ids",[]):Array.isArray(f)&&0<f.length&&v.add("mentioned_user_ids",f),h&&h!==m.PushNotificationDeliveryOption.DEFAULT&&v.add("push_option",h),p&&v.add("root_message_id",p),g&&v.add("parent_message_id",g),r.post(_,v,t)}}))}},{key:"sendFileMessage",value:function(e,t){var r=this,i=e.channelUrl,a=e.isOpenChannel,s=e.fileUrl,o=e.fileName,l=e.fileSize,u=e.fileType,c=e.data,d=e.customType,f=e.thumbnailSizes,h=e.requireAuth,p=e.metaArrays,g=e.mentionType,y=e.mentionedUserIds,m=e.pushNotificationDeliveryOption,_=e.rootMessageId,v=e.parentMessageId;this.sb.ConnectionManager.ready((function(e,E){if(e)t(e,null);else{var b=r.cls.FileMessageParams,C=a?n.Path.OPENCHANNELS_CHANNELURL_MESSAGES.replace("%s",encodeURIComponent(i)):n.Path.GROUPCHANNELS_CHANNELURL_MESSAGES.replace("%s",encodeURIComponent(i)),S=new x({message_type:"FILE",user_id:E.userId,url:s,mention_type:g,mentioned_user_ids:[]});null!=o&&S.add("file_name",o),null!=l&&S.add("file_size",l),null!=u&&S.add("file_type",u),null!=c&&S.add("custom_field",c),null!=d&&S.add("custom_type",d),f&&S.add("thumbnails",f),h&&S.add("require_auth",h),p&&0<p.length&&S.add("sorted_metaarray",p.map((function(e){return e.encode()}))),g===r.cls.BaseMessageParams.MentionType.CHANNEL?S.add("mentioned_user_ids",[]):Array.isArray(y)&&0<y.length&&S.add("mentioned_user_ids",y),m&&m!==b.PushNotificationDeliveryOption.DEFAULT&&S.add("push_option",m),_&&S.add("root_message_id",_),v&&S.add("parent_message_id",v),r.post(C,S,t)}}))}},{key:"uploadFile",value:function(e,t){var r=this,i=e.file,a=e.thumbnailSizes,s=e.channelUrl,o=e.progressHandler,l=e.reqId;this.sb.ConnectionManager.ready((function(e,u){if(e)t(e,null);else{var c=n.Path.STORAGE_FILE,d=new x;if(d.add("file",i,i.name),s&&"string"==typeof s&&d.add("channel_url",s),a)for(var f=0;f<a.length;f++)d.add("thumbnail"+(f+1),a[f].maxWidth+","+a[f].maxHeight);d.upload.reqId=l,d.upload.deleteRequest=function(){var e=r.cls.FileMessageQueue;e.uploadRequest[l]&&delete e.uploadRequest[l]},d.upload.progressHandler=function(e){o&&"function"==typeof o&&o(e,l)},r.post(c,d,t)}}))}},{key:"registerScheduledUserMessage",value:function(e,t){var r=this,i=e.groupChannelParams,a=e.channelUrl,s=e.isOpenChannel;this.sb.ConnectionManager.ready((function(e,o){if(e)t(e,null);else{var l=s?n.Path.OPENCHANNELS_CHANNELURL_SCHEDULED_MESSAGES.replace("%s",encodeURIComponent(a)):n.Path.GROUPCHANNELS_CHANNELURL_SCHEDULED_MESSAGES.replace("%s",encodeURIComponent(a)),u=new x({scheduled_dt:i._getScheduleString(),user_id:o.userId,message:i.message,data:i.data});i.customType&&u.add("custom_type",i.customType),i.metaArrayKeys&&0<Object.keys(i.metaArrayKeys).length&&u.add("metaarray",i.metaArrayKeys),i.mentionType&&u.add("mention_type",i._mentionType),i._mentionType===r.cls.BaseMessageParams.MentionType.CHANNEL?u.add("mentioned_user_ids",[]):Array.isArray(i._mentionedUserIds)&&0<i._mentionedUserIds.length&&u.add("mentioned_user_ids",i._mentionedUserIds),i.translationTargetLanguages&&0<i.translationTargetLanguages.length&&u.add("translation_target_langs",i.translationTargetLanguages),i.pushNotificationDeliveryOption&&i.pushNotificationDeliveryOption!==r.cls.BaseMessageParams.PushNotificationDeliveryOption.DEFAULT&&u.add("push_option",i.pushNotificationDeliveryOption),r.post(l,u,t)}}))}},{key:"getMyPushTriggerOption",value:function(e,t){var r=this,i=e.channelUrl;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.USERS_USERID_PUSHPREFERENCE_CHANNELURL.replace("%s",encodeURIComponent(a.userId)).replace("%s",encodeURIComponent(i));r.get(s,null,t)}}))}},{key:"setMyPushTriggerOption",value:function(e,t){var r=this,i=e.channelUrl,a=e.pushTriggerOption,s=e.enable;this.sb.ConnectionManager.ready((function(e,o){if(e)t(e,null);else{var l=n.Path.USERS_USERID_PUSHPREFERENCE_CHANNELURL.replace("%s",encodeURIComponent(o.userId)).replace("%s",encodeURIComponent(i)),u=new x;a&&u.add("push_trigger_option",a),"boolean"==typeof s&&u.add("enable",s),r.put(l,u,t)}}))}},{key:"setMyCountPreference",value:function(e,t){var r=this,i=e.channelUrl,a=e.countPreference;this.sb.ConnectionManager.ready((function(e,s){if(e)t(e,null);else{var o=n.Path.USERS_COUNT_PREFERENCE.replace("%s",encodeURIComponent(s.userId)).replace("%s",encodeURIComponent(i)),l=new x({count_preference:a});r.put(o,l,t)}}))}},{key:"resetMyHistory",value:function(e,t){var r=this,i=e.channelUrl;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.GROUPCHANNELS_RESET_USER_HISTORY.replace("%s",encodeURIComponent(i));r.put(s,null,t)}}))}},{key:"addReaction",value:function(e,t){var r=this,i=e.isGroupChannel,a=e.channelUrl,s=e.messageId,o=e.key;this.sb.ConnectionManager.ready((function(e,l){if(e)t(e,null);else{var u=i?n.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION.replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(s)):n.Path.OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION.replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(s)),c=new x({reaction:o});r.post(u,c,t)}}))}},{key:"deleteReaction",value:function(e,t){var r=this,i=e.isGroupChannel,a=e.channelUrl,s=e.messageId,o=e.key;this.sb.ConnectionManager.ready((function(e,l){if(e)t(e,null);else{var u=i?n.Path.GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION.replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(s)):n.Path.OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION.replace("%s",encodeURIComponent(a)).replace("%s",encodeURIComponent(s)),c=new x({reaction:o});r.delete(u,c,t)}}))}},{key:"getAllEmoji",value:function(e){var t=this;this.sb.ConnectionManager.ready((function(r,i){r?e(r,null):t.get(n.Path.EMOJI_CATEGORIES,null,e)}))}},{key:"getEmojiCategory",value:function(e,t){var r=this,i=e.categoryId;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.EMOJI_CATEGORIES_CATEGORYID.replace("%s",i);r.get(s,null,t)}}))}},{key:"getEmoji",value:function(e,t){var r=this,i=e.emojiKey;this.sb.ConnectionManager.ready((function(e,a){if(e)t(e,null);else{var s=n.Path.EMOJIS_EMOJIKEY.replace("%s",i);r.get(s,null,t)}}))}}],[{key:"Path",get:function(){return{USERS:"/users",USERS_USERID:"/users/%s",USERS_USERID_LOGIN:"/users/%s/login",USERS_USERID_METADATA:"/users/%s/metadata",USERS_USERID_METADATA_KEY:"/users/%s/metadata/%s",USERS_USERID_MARKASREADALL:"/users/%s/mark_as_read_all",USERS_USERID_MY_GROUP_CHANNEL_CHANGELOGS:"/users/%s/my_group_channels/changelogs",USERS_USERID_UNREAD_ITEM_COUNT:"/users/%s/unread_item_count",USERS_USERID_UNREAD_MESSAGE_COUNT:"/users/%s/unread_message_count",USERS_USERID_UNREAD_CHANNEL_COUNT:"/users/%s/unread_channel_count",USERS_USERID_PUSH_GCM_TOKEN:"/users/%s/push/gcm/%s",USERS_USERID_PUSH_GCM:"/users/%s/push/gcm",USERS_USERID_PUSH_DEVICE_TOKENS:"/users/%s/push/%s/device_tokens",USERS_USERID_PUSHPREFERENCE_CHANNELURL:"/users/%s/push_preference/%s",USERS_USERID_PUSHPREFERENCE:"/users/%s/push_preference/",USERS_USERID_PUSH_TEMPLATE:"/users/%s/push/template",USERS_USERID_BLOCK:"/users/%s/block",USERS_USERID_BLOCK_TARGETID:"/users/%s/block/%s",USERS_USERID_PUSH_APNS_TOKEN:"/users/%s/push/apns/%s",USERS_USERID_PUSH_APNS:"/users/%s/push/apns",USERS_USERID_PUSH:"/users/%s/push",USERS_USERID_GROUP_CHANNEL_INVITATION_PREFERENCE:"/users/%s/channel_invitation_preference",USERS_USERID_GROUP_CHANNEL_COUNT:"/users/%s/group_channel_count",USERS_COUNT_PREFERENCE:"/users/%s/count_preference/%s",OPENCHANNELS:"/open_channels",OPENCHANNELS_CHANNELURL:"/open_channels/%s",OPENCHANNELS_CHANNELURL_MESSAGES:"/open_channels/%s/messages",OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID:"/open_channels/%s/messages/%s",OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_TRANSLATION:"/open_channels/%s/messages/%s/translation",OPENCHANNELS_CHANNELURL_MESSAGES_CHANGELOGS:"/open_channels/%s/messages/changelogs",OPENCHANNELS_CHANNELURL_SCHEDULED_MESSAGES:"/open_channels/%s/scheduled_messages",OPENCHANNELS_CHANNELURL_PARTICIPANTS:"/open_channels/%s/participants",OPENCHANNELS_CHANNELURL_OPERATORS:"/open_channels/%s/operators",OPENCHANNELS_CHANNELURL_METADATA:"/open_channels/%s/metadata",OPENCHANNELS_CHANNELURL_METADATA_KEY:"/open_channels/%s/metadata/%s",OPENCHANNELS_CHANNELURL_METACOUNTER:"/open_channels/%s/metacounter",OPENCHANNELS_CHANNELURL_METACOUNTER_KEY:"/open_channels/%s/metacounter/%s",OPENCHANNELS_CHANNELURL_BAN:"/open_channels/%s/ban",OPENCHANNELS_CHANNELURL_BAN_USERID:"/open_channels/%s/ban/%s",OPENCHANNELS_CHANNELURL_MUTE:"/open_channels/%s/mute",OPENCHANNELS_CHANNELURL_MUTE_USERID:"/open_channels/%s/mute/%s",OPENCHANNELS_CHANNELURL_FREEZE:"/open_channels/%s/freeze",OPENCHANNELS_OPERATORS:"/open_channels/%s/operators",OPENCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION:"/open_channels/%s/messages/%s/reactions",GROUPCHANNELS:"/group_channels",MYGROUPCHANNELS:"/users/%s/my_group_channels",GROUPCHANNELS_CHANNELURL:"/group_channels/%s",GROUPCHANNELS_CHANNELURL_INVITE:"/group_channels/%s/invite",GROUPCHANNELS_CHANNELURL_ACCEPT_INVITATION:"/group_channels/%s/accept",GROUPCHANNELS_CHANNELURL_DECLINE_INVITATION:"/group_channels/%s/decline",GROUPCHANNELS_CHANNELURL_HIDE:"/group_channels/%s/hide",GROUPCHANNELS_CHANNELURL_LEAVE:"/group_channels/%s/leave",GROUPCHANNELS_CHANNELURL_JOIN:"/group_channels/%s/join",GROUPCHANNELS_CHANNELURL_OPERATORS:"/group_channels/%s/operators",GROUPCHANNELS_CHANNELURL_MESSAGES:"/group_channels/%s/messages",GROUPCHANNELS_CHANNELURL_MESSAGES_MARKASREAD:"/group_channels/%s/messages/mark_as_read",GROUPCHANNELS_CHANNELURL_MESSAGES_MARKASDELIVERED:"/group_channels/%s/messages/mark_as_delivered",GROUPCHANNELS_CHANNELURL_MESSAGES_TOTALCOUNT:"/group_channels/%s/messages/total_count",GROUPCHANNELS_CHANNELURL_MESSAGES_UNREADCOUNT:"/group_channels/%s/messages/unread_count",GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID:"/group_channels/%s/messages/%s",GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_TRANSLATION:"/group_channels/%s/messages/%s/translation",GROUPCHANNELS_CHANNELURL_MESSAGES_CHANGELOGS:"/group_channels/%s/messages/changelogs",GROUPCHANNELS_CHANNELURL_SCHEDULED_MESSAGES:"/group_channels/%s/scheduled_messages",GROUPCHANNELS_CHANNELURL_MEMBERS:"/group_channels/%s/members",GROUPCHANNELS_CHANNELURL_METADATA:"/group_channels/%s/metadata",GROUPCHANNELS_CHANNELURL_METADATA_KEY:"/group_channels/%s/metadata/%s",GROUPCHANNELS_CHANNELURL_METACOUNTER:"/group_channels/%s/metacounter",GROUPCHANNELS_CHANNELURL_METACOUNTER_KEY:"/group_channels/%s/metacounter/%s",GROUPCHANNELS_RESET_USER_HISTORY:"/group_channels/%s/reset_user_history",GROUPCHANNELS_OPERATORS:"/group_channels/%s/operators",GROUPCHANNELS_MEMBERS:"/group_channels/%s/members",GROUPCHANNELS_CHANNELURL_BAN:"/group_channels/%s/ban",GROUPCHANNELS_CHANNELURL_BAN_USERID:"/group_channels/%s/ban/%s",GROUPCHANNELS_CHANNELURL_MUTE:"/group_channels/%s/mute",GROUPCHANNELS_CHANNELURL_MUTE_USERID:"/group_channels/%s/mute/%s",GROUPCHANNELS_CHANNELURL_FREEZE:"/group_channels/%s/freeze",GROUPCHANNELS_CHANNELURL_MESSAGES_MESSAGEID_REACTION:"/group_channels/%s/messages/%s/reactions",STORAGE_FILE:"/storage/file",STORAGE_PROFILE:"/storage/profile_image",FRIENDS:"/users/%s/friends",FRIENDS_CHANGE_LOGS:"/users/%s/friends/changelogs",FRIENDS_DISCOVERIES:"/users/%s/friend_discoveries",SEARCH_MESSAGE:"/search/messages",REPORT_USERS:"/report/users/%s",REPORT_CHANNELS:"/report/%s/%s",REPORT_MESSAGES:"/report/%s/%s/messages/%s",EMOJIS_EMOJIKEY:"/emojis/%s",EMOJI_CATEGORIES:"/emoji_categories",EMOJI_CATEGORIES_CATEGORYID:"/emoji_categories/%s"}}}]),n}(),z=function(){function e(n,t){s(this,e),this.sb=n,this.ws=null,this.wsHost=null,this.WebSocket=null,this.handler=t||new e.ConnectionHandler,this.explicitDisconnect=!1,this.lastActiveMillis=0;try{this.WebSocket="undefined"==typeof WebSocket?i:WebSocket}catch(n){this.WebSocket=WebSocket}}return l(e,[{key:"connect",value:function(e,n,t){var r=this;O.debug("WSClient connect called");var i=w.get(this.sb._iid).container,a=i.pinger,s=i.auth,o=i.extensions,l=i.getUserAgentWithExtensions;this.wsHost=t;try{var u="/?p=JS&pv="+encodeURIComponent(k.OS_VERSION)+"&sv="+encodeURIComponent(k.SDK_VERSION)+"&ai="+encodeURIComponent(this.sb.getApplicationId());if(s.sessionKey?u+="&key="+encodeURIComponent(s.sessionKey):u+="&user_id="+encodeURIComponent(e)+"&access_token="+encodeURIComponent(n),u+="&active=1",u+="&SB-User-Agent="+encodeURIComponent(l(o)),u+="&Request-Sent-Timestamp="+(new Date).getTime().toString(),u+="&include_extra_data="+encodeURIComponent(["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash"].join(",")),this.ws=new this.WebSocket(this.wsHost+u),!this.ws)return this.sb.isReconnectingOnError=!0,void this.handler.onError("ws does not exist.")}catch(e){return this.sb.isReconnectingOnError=!0,void this.handler.onError(e)}try{this.sb.getDebugMode()&&"undefined"!=typeof window&&(window.ws=this.ws)}catch(e){O.debug("window object does not exist.")}var c=!1;this.ws.onopen=function(e){O.debug("WSClient onopen called"),r.handler.onOpen(e)},this.ws.onmessage=function(e){r.active();var n=e.data.split("\n");for(var t in n){var i=n[t];if(i&&"string"==typeof i){try{if("PONG"===i.substring(0,4)){a.pong();continue}}catch(e){O.debug("ws.onmessage-command check error: ",e)}r.handler.onMessage(i)}}},this.ws.onerror=function(e){O.debug("WSClient ws.onerror called: ",e),a&&a.stop(),c=!0,r.sb.isReconnectingOnError=!0,r.handler.onError(e)},this.ws.onclose=function(e){O.debug("WSClient ws.onclose called - e, explicitDisconnect: ",e,r.explicitDisconnect),a&&a.stop(),r.explicitDisconnect?r.handler.onClose(e):c||r.handler.onError(e),r.explicitDisconnect=!1}}},{key:"disconnect",value:function(e,n){O.debug("WSClient disconnect called [explicit]: ",e);var t=w.get(this.sb._iid).container.pinger;t&&t.stop(),this.explicitDisconnect=!0===e,this.ws&&(this.ws.onopen=function(){},this.ws.onmessage=function(){},this.ws.onclose=function(){n&&n()},this.ws.onerror=function(){},this.ws.close(),this.ws=null),this.explicitDisconnect?this.handler.onClose():this.handler.onError(),this.explicitDisconnect=!1}},{key:"send",value:function(e,n){1!==this.ws.readyState?n&&n(new T("Connection is not valid. Please reconnect.",T.WEBSOCKET_CONNECTION_CLOSED),null):(this.ws.send(e.encode()),n&&n(null,null))}},{key:"active",value:function(){this.lastActiveMillis=(new Date).getTime()}},{key:"getConnectionState",value:function(){try{return 1===this.ws.readyState?this.sb.ConnectionState.OPEN:0===this.ws.readyState?this.sb.ConnectionState.CONNECTING:this.sb.ConnectionState.CLOSED}catch(I){return this.sb.ConnectionState.CLOSED}}}]),e}();z.ConnectionHandler=function e(){s(this,e),this.onReady=function(){},this.onOpen=function(){},this.onClose=function(){},this.onMessage=function(){},this.onError=function(){}},Number.MAX_SAFE_INTEGER||Object.defineProperty(Number,"MAX_SAFE_INTEGER",{value:Math.pow(2,53)-1});var j=function(){function e(n){s(this,e),this.sb=n,this.cls=P.get(this.sb._iid),this.ws=new z(this.sb),this.reconnectParams={interval:3,retryCount:3,multiplier:2,maxInterval:24},this.reconnectCount=0,this.reconnectDelay=0}return l(e,[{key:"connect",value:function(e,n){var t=this,r=w.get(this.sb._iid).container,i=r.auth,a=r.apiClient,s=r.commandHandler,o=this.cls.GroupChannel,l=new z.ConnectionHandler;this.ws=new z(this.sb,l),l.onMessage=function(e){s.onRawCommandReceived(e)},this.sb.loginHandler=function(e,n){if(t.sb.connecting=!1,e)t.disconnect({clearSession:!0,err:e},null);else{clearInterval(t.sb.globalTimer);var r=function(){if(o.cachedChannels)for(var e in o.cachedChannels){var n=o.cachedChannels[e];if(n.invalidateTypingStatus())for(var r in t.sb.channelHandlers)t.sb.channelHandlers[r].onTypingStatusUpdated(n)}};r(),t.sb.globalTimer=setInterval((function(){return r()}),1e3),t.flushConnectionCallbacks(null,n),t.sb.connecting=!1,t.sb.reconnecting=!1,t.sb.ConnectionManager.processAllReadyHandler(null)}},l.onOpen=function(){t.sb.loginTimer=setTimeout((function(){t.sb.loginTimer=null,t.sb.onLoginTimerCancel=null,t.flushConnectionCallbacks(new T("Connection timeout.",T.LOGIN_TIMEOUT),null),t.sb.disconnect(null)}),t.sb.Options.websocketResponseTimeout),t.sb.onLoginTimerCancel=function(){t.flushConnectionCallbacks(new T("Connection has been canceled.",T.REQUEST_FAILED),null)},t.sb.connecting=!1},l.onError=function(n){O.debug("WebSocketClient.ConnectionHandler.onError",n),i.sessionKey?(t.sb.isReconnectingOnError=!0,t.sb.ConnectionManager.errorAllReadyHandler(),t.reconnect(e,!0)):t.flushConnectionCallbacks(new T("Websocket connection failed.",T.WEBSOCKET_CONNECTION_FAILED),null),t.sb.connecting=!1},l.onClose=function(){O.debug("WebSocketClient.ConnectionHandler.onClose"),t.sb.connecting=!1},a.checkRouting((function(r,i){if(r)return t.sb.connecting=!1,void t.flushConnectionCallbacks(new T("Connection routing failed.",T.REQUEST_FAILED),null);a.dummyCall((function(e){e&&O.log("API dummy call failed",e)})),t.ws.connect(e,n,i.wsHost)}))}},{key:"reconnect",value:function(e,n){var t=this,r=!(1<arguments.length&&void 0!==n)||n,i=w.get(this.sb._iid).container,a=i.auth,s=i.apiClient,o=i.commandHandler,l=this.cls.OpenChannel;if(this.sb.reconnecting=!0,this.sb.reconnectTimer)O.debug("still reconnecting");else{if(this.reconnectCount+=1,this.reconnectCount<=1){if(r)for(var u in this.sb.connectionHandlers)this.sb.connectionHandlers[u].onReconnectStarted();this.reconnectDelay=0}else this.reconnectDelay=Math.min(1e3*this.reconnectParams.interval*Math.pow(this.reconnectParams.multiplier,this.reconnectCount-2),0<this.reconnectParams.maxInterval?1e3*this.reconnectParams.maxInterval:Number.MAX_SAFE_INTEGER);if(!e||!a.sessionKey||0<this.reconnectParams.retryCount&&this.reconnectCount>this.reconnectParams.retryCount){for(var c in this.disconnect({clearSession:!1,err:new T("Websocket connection failed.",T.WEBSOCKET_CONNECTION_FAILED)},null),this.reconnectCount=0,this.sb.connectionHandlers)this.sb.connectionHandlers[c].onReconnectFailed();return this.sb.connecting=!1,this.sb.reconnecting=!1,this.sb.isReconnectingOnError=!1,void this.sb.ConnectionManager.errorAllReadyHandler()}this.sb.onReconnectTimerCancel=function(){t.reconnectCount=0},this.sb.reconnectTimer=setTimeout((function(){t.sb.reconnectTimer=null,t.sb.onReconnectTimerCancel=null,t.ws&&t.ws.disconnect(!0);var n=new z.ConnectionHandler;t.ws=new z(t.sb,n),t.sb.loginHandler=function(){for(var e in t.reconnectCount=0,t.sb.connecting=!1,t.sb.reconnecting=!1,t.sb.isReconnectingOnError=!1,t.sb.connectionHandlers)t.sb.connectionHandlers[e].onReconnectSucceeded();if(t.sb.ConnectionManager.processAllReadyHandler(null),t.sb.isReconnectingOnError)for(var n in t.sb.ConnectionManager.networkHandlers)t.sb.ConnectionManager.networkHandlers[n].onReconnected();Object.keys(l.enteredChannels).forEach((function(e){l.enteredChannels[e].enter((function(n,r){if(n){var i=t.cls.FileMessageQueue;delete l.enteredChannels[e],i.delete(e)}}))}))},n.onOpen=function(){O.debug("reconnect onOpen"),t.sb.loginTimer=setTimeout((function(){O.debug("reconnect loginTimer timeout"),t.sb.loginTimer=null,t.reconnect(e,!0)}),t.sb.Options.websocketResponseTimeout),t.sb.onLoginTimerCancel=null,t.sb.reconnecting=!1},n.onMessage=function(e){o.onRawCommandReceived(e)},n.onError=function(n){O.debug("reconnect onError",n),t.sb.isReconnectingOnError=!0,t.sb.ConnectionManager.errorAllReadyHandler(),t.reconnect(e,!0)},n.onClose=function(){O.debug("reconnect onClose"),t.sb.reconnecting=!1},s.checkRouting((function(n,r){n?t.reconnect(e,!0):(t.sb.getCurrentApiHost()!==r.apiHost&&s.get("/",null,(function(){})),t.ws.connect(e,null,r.wsHost))}))}),this.reconnectDelay)}}},{key:"disconnect",value:function(e,n){var t=w.get(this.sb._iid),r=t.container.ackStateMap,i=this.cls,a=i.GroupChannel,s=i.OpenChannel,o=e.clearSession,l=e.err;if(this.sb.loginTimer&&(clearTimeout(this.sb.loginTimer),this.sb.onLoginTimerCancel&&(this.sb.onLoginTimerCancel(),this.sb.onLoginTimerCancel=null),this.sb.loginTimer=null),this.sb.reconnectTimer&&(clearTimeout(this.sb.reconnectTimer),this.sb.onReconnectTimerCancel&&(this.sb.onReconnectTimerCancel(),this.sb.onReconnectTimerCancel=null),this.sb.reconnectTimer=null),this.ws&&(this.reconnectCount=0,this.ws.disconnect(!0),this.ws=null),o){for(var u in s.clearEnteredChannels(),s.clearCache(),a.clearCache(),this.sb.globalTimer&&(clearInterval(this.sb.globalTimer),this.sb.globalTimer=null),r)clearTimeout(r[u].timer);this.sb.currentUser=null,t.set("ackStateMap",{}),t.set("subscribedUnreadMessageCount",{all:0,custom_types:{},ts:0}),t.set("auth",new N)}l&&(this.flushConnectionCallbacks(l,null),this.sb.connecting=!1,this.sb.reconnecting=!1,this.sb.isReconnectingOnError=!1),n&&n(null,null)}},{key:"flushConnectionCallbacks",value:function(e,n){var t=this.sb.connectionCallbacks;this.sb.connectionCallbacks=[],t.forEach((function(t){return t(e,n)}))}}]),e}(),q=function(){function e(n){var t=n.type,r=n.nullable,i=void 0!==r&&r,a=n.optional,o=void 0!==a&&a,l=n.optionalIf,u=void 0===l?null:l,c=n.ignoreIf,d=void 0===c?null:c,f=n.defaultValue,h=void 0===f?null:f,p=n.constraint,g=void 0===p?null:p;s(this,e),this.type=t,this.nullable=i,this.optional=o,this.optionalIf=u,this.ignoreIf=d,this.defaultValue=h,this.constraint=g}return l(e,[{key:"isMatchingType",value:function(e){function n(n,t){return"string"==typeof t?a(n)===t||"array"===t&&Array.isArray(n)||"file"===t&&H.isFile(n)||"null"===t&&null===n||"date"===t&&n instanceof Date:"function"==typeof t?n instanceof t:"object"===a(t)&&-1<Object.keys(t).map((function(e){return t[e]})).indexOf(e)}return n(e,this.type)||Array.isArray(this.type)&&this.type.some((function(t){return n(e,t)}))||this.nullable&&null===e}}],[{key:"parse",value:function(n,t){for(n=e.toArray(n);void 0===n[n.length-1];)n.pop();var r=!1,i=null;"callback"===t[t.length-1].type&&("function"==typeof n[n.length-1]&&(i=n.pop()),t.pop(),r=!0);var a=[],s=null,o=0;for(var l in t){var u=t[l];"function"==typeof u.ignoreIf&&u.ignoreIf(n)?a.push(u.hasOwnProperty("defaultValue")?u.defaultValue:null):u.isMatchingType(n[o])?(u.nullable&&null===n[o]||!u.constraint||u.constraint(n[o])||(s=e.error),a.push(n[o]),o++):u.optional||"function"==typeof u.optionalIf&&u.optionalIf(n)?a.push(u.hasOwnProperty("defaultValue")?u.defaultValue:null):(s=e.error,a.push(n[o]),o++)}return r&&i&&a.push(i),n.length!==o&&(s=e.error),[s].concat(a)}},{key:"toArray",value:function(e){for(var n=[],t=0;t<e.length;t++)n.push(e[t]);return n}},{key:"error",get:function(){return new T("Invalid parameter.",T.INVALID_PARAMETER)}}]),e}(),Q=function(){function e(n){s(this,e),this.sb=n,this.authCount=0,this.readyHandlers=[],this.networkHandlers={},this.authenticateTimer=1e4,this.authInfoRequester=null}return l(e,[{key:"addReadyHandler",value:function(e){e&&"function"==typeof e&&this.readyHandlers.push(e)}},{key:"ready",value:function(e,n){var t=!(1<arguments.length&&void 0!==n)||n,r=w.get(this.sb._iid).container,i=r.auth,a=r.isInBackground;t&&i.hasSession()?e&&(this.sb.currentUser?e(null,this.sb.currentUser):(this.addReadyHandler(e),this.errorAllReadyHandler()),this.sb.getConnectionState()!==this.sb.ConnectionState.CLOSED||a||this.sb.reconnect()):(this.addReadyHandler(e),this.sb.isReconnectingOnError?this.errorAllReadyHandler():this.sb.getConnectionState()===this.sb.ConnectionState.OPEN?this.processAllReadyHandler(null):this.sb.getConnectionState()===this.sb.ConnectionState.CONNECTING||this.errorAllReadyHandler())}},{key:"processAllReadyHandler",value:function(e){if(0<this.readyHandlers.length){var n=this.sb.currentUser,t=this.readyHandlers;this.readyHandlers=[],t.forEach((function(t){t&&"function"==typeof t&&t(e,n)}))}}},{key:"errorAllReadyHandler",value:function(){this.processAllReadyHandler(new T("Connection should be made first.",T.CONNECTION_REQUIRED))}},{key:"NetworkHandler",value:function(){this.onReconnected=function(){}}},{key:"addNetworkHandler",value:function(e,n){this.networkHandlers[e]=n}},{key:"removeNetworkHandler",value:function(e){delete this.networkHandlers[e]}},{key:"removeAllNetworkHandler",value:function(){this.networkHandlers={}}},{key:"authenticate",value:function(e){var n=this;if(this.sb.getConnectionState()===this.sb.ConnectionState.OPEN||this.sb.reconnecting)this.sb.connecting=!1,e(null,this.sb.currentUser);else if(this.authInfoRequester&&"function"==typeof this.authInfoRequester){this.sb.connecting=!0,this.authCount++;var t=setTimeout((function(){t=null,n.authCount--,0===n.authCount&&0===n.sb.connectionCallbacks.length&&(n.sb.connecting=!1),n.errorAllReadyHandler(),e(new T("Connection should be made first.",T.CONNECTION_REQUIRED),null)}),this.authenticateTimer);this.authInfoRequester((function(r){if(t){clearTimeout(t),t=null,n.authCount--;var i=function(t){n.sb.connecting=!1,e(t,null)};r&&r.hasOwnProperty("userId")?r.accessToken?r.apiHost&&r.wsHost?n.sb.connect(r.userId,r.accessToken,r.apiHost,r.wsHost,i):n.sb.connect(r.userId,r.accessToken,i):r.apiHost&&r.wsHost?n.sb.connect(r.userId,r.apiHost,r.wsHost,i):n.sb.connect(r.userId,i):e(q.error,null)}}))}else e(q.error,null)}}]),e}(),Y=function(){function e(n){s(this,e),this.sb=n}return l(e,[{key:"onlineWorker",value:function(){try{if("undefined"!=typeof navigator&&navigator.onLine){var e=w.get(this.sb._iid).container.auth;this.sb.reconnecting||this.sb.connecting||!e.sessionKey||this.sb.getConnectionState()===this.sb.ConnectionState.OPEN||this.sb.reconnect()}}catch(e){O.debug("There is no window.addEventListener.ononline or navigator.onLine")}}},{key:"offlineWorker",value:function(){try{if("undefined"!=typeof navigator&&!navigator.onLine){var e=w.get(this.sb._iid).container,n=e.auth,t=e.pinger;this.sb.reconnecting||this.sb.connecting||!n.sessionKey||(t&&t.stop(),this.sb.reconnect())}}catch(e){O.debug("There is no window.addEventListener.ononline or navigator.onLine")}}},{key:"start",value:function(){try{"undefined"!=typeof window&&window.addEventListener&&"ononline"in window&&"onoffline"in window&&"undefined"!=typeof navigator&&"boolean"==typeof navigator.onLine&&(window.addEventListener("online",this.onlineWorker),window.addEventListener("offline",this.offlineWorker))}catch(I){O.debug("There is no window.addEventListener.ononline or navigator.onLine")}}},{key:"stop",value:function(){try{window.removeEventListener("online",this.onlineWorker,!1),window.removeEventListener("offline",this.offlineWorker,!1)}catch(I){O.debug("There is no window.addEventListener.ononline or navigator.onLine")}}}]),e}(),V=(new Date).getTime(),W=function(){function e(n,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;switch(s(this,e),this.command=n,this.requestId=r,arguments.length){case 1:if(!n||n.length<=4)this.command="NOOP",this.payload="{}";else if(this.decode(n),this.isRequestIdCommand){var i=this.getJsonElement();i&&(this.requestId=i.req_id||"")}break;case 2:case 3:!this.requestId&&this.isRequestIdCommand&&(this.requestId=e.generateRequestId()),t.req_id=this.requestId||"",this.payload=JSON.stringify(t)}}return l(e,[{key:"encode",value:function(){return this.command+this.payload+"\n"}},{key:"decode",value:function(e){e=e.trim(),this.command=e.substring(0,4),this.payload=e.substring(4)}},{key:"getJsonElement",value:function(){return JSON.parse(this.payload)}},{key:"isRequestIdCommand",get:function(){return this.isAckRequired||"EROR"===this.command}},{key:"isAckRequired",get:function(){return"MESG"===this.command||"FILE"===this.command||"ENTR"===this.command||"EXIT"===this.command||"READ"===this.command||"MEDI"===this.command||"FEDI"===this.command}}],[{key:"bPing",value:function(){return new this("PING",{id:(new Date).getTime(),active:1})}},{key:"bMessage",value:function(e){var n=e.channelUrl,t=e.message,r=e.data,i=e.customType,a=e.metaArrays,s=e.mentionType,o=e.mentionedUserIds,l=e.translationTargetLanguages,u=e.pushNotificationDeliveryOption,c=e.requestId,d=void 0===c?null:c,f=e.silent,h=void 0!==f&&f,p=e.rootMessageId,g=void 0===p?null:p,y=e.parentMessageId,m=void 0===y?null:y,_=P.get(this._iid),v=_.UserMessageParams,E=_.BaseMessageParams,b={};return b.channel_url=n,b.message=t,b.data=r,a&&0<a.length&&(b.metaarray=a.map((function(e){return e.encode()}))),s&&(b.mention_type=s),b.mentioned_user_ids=[],s===E.MentionType.CHANNEL?b.mentioned_user_ids=[]:Array.isArray(o)&&0<o.length&&(b.mentioned_user_ids=o),i&&(b.custom_type=i),l&&0<l.length&&(b.target_langs=l),u&&u!==v.PushNotificationDeliveryOption.DEFAULT&&(b.push_option=u),h&&(b.silent=h),g&&(b.root_message_id=g),m&&(b.parent_message_id=m),new this("MESG",b,d)}},{key:"bFile",value:function(e){var n=e.channelUrl,t=e.url,r=e.name,i=e.type,a=e.size,s=e.data,o=e.customType,l=e.thumbnailSizes,u=e.requireAuth,c=e.metaArrays,d=e.mentionType,f=e.mentionedUserIds,h=e.pushNotificationDeliveryOption,p=e.requestId,g=void 0===p?null:p,y=e.silent,m=void 0!==y&&y,_=e.rootMessageId,v=void 0===_?null:_,E=e.parentMessageId,b=void 0===E?null:E,C=P.get(this._iid),S=C.BaseMessageParams,k=C.FileMessageParams,U={};return U.channel_url=n,U.url=t,U.name=r||"",U.type=i||"",U.size=a||0,U.custom=s,o&&(U.custom_type=o),l&&(U.thumbnails=l),u&&(U.require_auth=u),c&&0<c.length&&(U.metaarray=c.map((function(e){return e.encode()}))),d&&(U.mention_type=d),U.mentioned_user_ids=[],d===S.MentionType.CHANNEL?U.mentioned_user_ids=[]:Array.isArray(f)&&0<f.length&&(U.mentioned_user_ids=f),h&&h!==k.PushNotificationDeliveryOption.DEFAULT&&(U.push_option=h),m&&(U.silent=m),v&&(U.root_message_id=v),b&&(U.parent_message_id=b),new this("FILE",U,g)}},{key:"bUpdateUserMessage",value:function(e){var n=e.channelUrl,t=e.messageId,r=e.message,i=void 0===r?null:r,a=e.data,s=void 0===a?null:a,o=e.customType,l=void 0===o?null:o,u=e.mentionType,c=void 0===u?null:u,d=e.mentionedUserIds,f=void 0===d?null:d,h=e.metaArrayParams,p=void 0===h?null:h,g=P.get(this._iid).BaseMessageParams,y={};return y.channel_url=n,y.msg_id=t,null!=i&&void 0!==i&&(y.message=i),null!=s&&void 0!==s&&(y.data=s),null!=l&&void 0!==l&&(y.custom_type=l),c&&(y.mention_type=c),c===g.MentionType.CHANNEL?y.mentioned_user_ids=[]:Array.isArray(f)&&0<f.length&&(y.mentioned_user_ids=f),p&&(y.metaarray=p),new this("MEDI",y)}},{key:"bUpdateFileMessage",value:function(e){var n=e.channelUrl,t=e.messageId,r=e.data,i=void 0===r?null:r,a=e.customType,s=void 0===a?null:a,o=e.mentionType,l=void 0===o?null:o,u=e.mentionedUserIds,c=void 0===u?null:u,d=e.metaArrayParams,f=void 0===d?null:d,h=P.get(this._iid).BaseMessageParams,p={};return p.channel_url=n,p.msg_id=t,null!=i&&void 0!==i&&(p.data=i),null!=s&&void 0!==s&&(p.custom_type=s),l&&(p.mention_type=l),l===h.MentionType.CHANNEL?p.mentioned_user_ids=[]:Array.isArray(c)&&0<c.length&&(p.mentioned_user_ids=c),f&&(p.metaarray=f),new this("FEDI",p)}},{key:"bRead",value:function(e){var n=e.channelUrl,t={};return t.channel_url=n,new this("READ",t)}},{key:"bMessageAck",value:function(e){var n=e.channelUrl,t=e.messageId,r={};return r.channel_url=n,r.msg_id=t,new this("MACK",r)}},{key:"bTypeStart",value:function(e){var n=e.channelUrl,t=e.time,r={};return r.channel_url=n,r.time=t,new this("TPST",r)}},{key:"bTypeEnd",value:function(e){var n=e.channelUrl,t=e.time,r={};return r.channel_url=n,r.time=t,new this("TPEN",r)}},{key:"bEnter",value:function(e){var n=e.channelUrl,t={};return t.channel_url=n,new this("ENTR",t)}},{key:"bExit",value:function(e){var n=e.channelUrl,t={};return t.channel_url=n,new this("EXIT",t)}},{key:"generateRequestId",value:function(){return V++,String(V)}}]),e}(),K=new WeakMap,J=function(){function e(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};s(this,e);var t=[];if(n.hasOwnProperty("premium_feature_list")&&Array.isArray(n.premium_feature_list))try{var r=n.premium_feature_list;t.push.apply(t,b(r))}catch(n){}var i=[];if(n.hasOwnProperty("application_attributes")&&Array.isArray(n.application_attributes))try{var a=n.application_attributes;i.push.apply(i,b(a))}catch(n){}K.set(this,{emojiHash:n.hasOwnProperty("emoji_hash")?n.emoji_hash:"",uploadSizeLimit:n.hasOwnProperty("file_upload_size_limit")?1048576*n.file_upload_size_limit:Number.MAX_VALUE,useReaction:n.hasOwnProperty("use_reaction")&&n.use_reaction,applicationAttributes:i,premiumFeatureList:t})}return l(e,[{key:"emojiHash",get:function(){return K.get(this).emojiHash}},{key:"uploadSizeLimit",get:function(){return K.get(this).uploadSizeLimit}},{key:"premiumFeatureList",get:function(){return K.get(this).premiumFeatureList}},{key:"applicationAttributes",get:function(){return K.get(this).applicationAttributes}},{key:"isUsingReaction",get:function(){return K.get(this).useReaction}}]),e}(),$=function(){function e(){s(this,e),this.messageId=null,this.userId=null,this.key=null,this.operation="",this.updatedAt=null}return l(e,null,[{key:"createFromJson",value:function(e){var n=parseInt(e.msg_id),t=e.user_id,r=e.operation,i=e.reaction,a=e.updated_at;if(n&&"string"==typeof t&&"string"==typeof r&&0<=["add","delete"].indexOf(r.toLowerCase())&&"string"==typeof i&&i&&"number"==typeof a){var s=new this;return s.messageId=n,s.userId=t,s.key=i,s.operation=r.toLowerCase(),s.updatedAt=a,s}return null}}]),e}(),X=function(){function e(){s(this,e)}return l(e,null,[{key:"serialize",value:function(e,n){var t=1<arguments.length&&void 0!==n?n:null,r=JSON.parse(JSON.stringify(e));return t&&t(r),function e(n){return Object.keys(n).forEach((function(t){n[t]&&"object"===a(n[t])&&e(n[t])})),Object.freeze(n)}(r)}},{key:"deserialize",value:function(e,n){var t=1<arguments.length&&void 0!==n?n:null,r=JSON.parse(JSON.stringify(e));return t&&t(r),r}}]),e}();function Z(e,n,t){return void 0===t?new Promise((function(e,t){n((function(n,r){return n?t(n):e(r)}))})):n((function(n,r){t&&(w.get(e).container.isErrorFirstInCallback?t(n,r):t(r,n))}))}"undefined"==typeof Promise&&(Promise=function(){function e(n){var t=this;if(s(this,e),this.state=0,this._value=null,this._reason=null,"function"!=typeof n)throw"Promise resolver ".concat(n," is not a function");n((function(e){0===t.state&&(t.state=1,t._value=e)}),(function(e){0===t.state&&(t.state=2,t._reason=e)}))}return l(e,[{key:"then",value:function(n,t){var r=this,i=this;switch(this.state){case 0:setTimeout((function(){return r.then(n,t)}),100);break;case 1:n&&"function"==typeof n&&(i=n(this._value));break;case 2:t&&"function"==typeof t&&(i=t(this._reason))}return i instanceof e?i:this}},{key:"catch",value:function(n){var t=this,r=this;switch(this.state){case 0:setTimeout((function(){return t.catch(n)}),100);break;case 1:break;case 2:r=n(this._reason)}return r instanceof e?r:this}},{key:"finally",value:function(n){var t=this,r=this;switch(this.state){case 0:setTimeout((function(){return t.finally(n)}),100);break;case 1:case 2:r=n()}return r instanceof e?r:this}},{key:"length",get:function(){return 1}}],[{key:"all",value:function(n){return new e((function(t,r){if(Array.isArray(n)||"string"==typeof n)if(0<n.length){var i=[];for(var s in n)n[s]instanceof e?i.push(n[s]):i.push(e.resolve(n[s]));var o=new Array(i.length).fill(null),l=i.length,u=function(e,n,i){n?r(n):(l--,o[e]=i,l<=0&&t(o))};i.forEach((function(e,n){e.then((function(e){u(n,null,e)})).catch((function(e){u(n,e,null)}))}))}else t([]);else r(new Error("Uncaught (in promise) TypeError: ".concat(a(n)," ").concat(n," is not iterable")))}))}},{key:"resolve",value:function(n){return new e((function(e){e(n)}))}},{key:"reject",value:function(n){return new e((function(e,t){t(n)}))}}]),e}());var ee={TIMESTAMP:"timestamp",MESSAGE_ID:"messageId"},ne=new WeakMap,te=function(){function e(n){s(this,e),this.messageId=0,this.messageType=e.MESSAGE_TYPE_BASE,this.channelUrl="",this.data=null,this.customType=null,this.silent=!1,this.createdAt=0,this.updatedAt=0,this.channelType=null,this.metaArrays=[],this.reactions=[],this.mentionType=null,this.mentionedUsers=[],ne.set(this,0),this.parentMessageId=0,this.parentMessageText=null,this.threadInfo=null,this.ogMetaData=null,this.isOperatorMessage=!1,n&&this.__update(n)}return l(e,[{key:"serialize",value:function(){return X.serialize(this,(function(e){e.hasOwnProperty("_sender")&&(e.sender=e._sender,delete e._sender)}))}},{key:"isIdentical",value:function(e){return!("object"!==a(e)||!e.hasOwnProperty("messageId"))&&(0!==this.messageId&&0!==e.messageId?this.messageId===e.messageId:this.reqId===e.reqId)}},{key:"isEqual",value:function(e){return H.deepEqual(this,e)}},{key:"isOpenChannel",value:function(){var e=P.get(this._iid).BaseChannel;return this.channelType===e.CHANNEL_TYPE_OPEN}},{key:"isGroupChannel",value:function(){var e=P.get(this._iid).BaseChannel;return this.channelType===e.CHANNEL_TYPE_GROUP}},{key:"isUserMessage",value:function(){return this.messageType===e.MESSAGE_TYPE_USER}},{key:"isAdminMessage",value:function(){return this.messageType===e.MESSAGE_TYPE_ADMIN}},{key:"isFileMessage",value:function(){return this.messageType===e.MESSAGE_TYPE_FILE}},{key:"__update",value:function(e){var n=this,t=P.get(this._iid),r=t.User,i=t.BaseChannel,a=t.BaseMessageParams,s=t.Reaction,o=t.MessageMetaArray,l=t.ThreadInfo,u=t.OGMetaData;e.hasOwnProperty("msg_id")&&(this.messageId=parseInt(e.msg_id)),e.hasOwnProperty("message_id")&&(this.messageId=parseInt(e.message_id)),this.channelUrl=e.hasOwnProperty("channel_url")?String(e.channel_url):"",this.data=e.hasOwnProperty("data")?String(e.data):"",this.customType=e.hasOwnProperty("custom_type")?String(e.custom_type):"",this.silent=!!e.hasOwnProperty("silent")&&e.silent,this.createdAt=e.hasOwnProperty("ts")?parseInt(e.ts):0,e.hasOwnProperty("created_at")&&(this.createdAt=parseInt(e.created_at)),this.updatedAt=e.hasOwnProperty("updated_at")?parseInt(e.updated_at):0,this.channelType=e.hasOwnProperty("channel_type")?String(e.channel_type):i.CHANNEL_TYPE_GROUP;var c=e.hasOwnProperty("metaarray")?e.metaarray:{},d=e.hasOwnProperty("metaarray_key_order")?e.metaarray_key_order:Object.keys(c).sort((function(e,n){return e.localeCompare(n)}));this.metaArrays=[];for(var f=0;f<d.length;f++){var h=d[f];this.metaArrays.push(new o(h,c[h]||[]))}if(e.hasOwnProperty("sorted_metaarray")){var p=e.sorted_metaarray;Array.isArray(p)&&(this.metaArrays=p.map((function(e){return new o(e.key,e.value)})))}if(this.reactions=[],e.hasOwnProperty("reactions")&&Array.isArray(e.reactions))for(var g in e.reactions){var y=s.createFromJson(e.reactions[g]);y&&this.reactions.push(y)}this.mentionType=e.hasOwnProperty("mention_type")?e.mention_type:a.MentionType.USERS,this.mentionedUsers=[],e.hasOwnProperty("mentioned_users")&&e.mentioned_users.forEach((function(e){var t=new r(e);n.mentionedUsers.push(t)})),e.hasOwnProperty("root_message_id")&&ne.set(this,parseInt(e.root_message_id)),e.hasOwnProperty("parent_message_id")&&(this.parentMessageId=parseInt(e.parent_message_id)),e.hasOwnProperty("parent_message_text")&&(this.parentMessageText=e.parent_message_text),this.threadInfo=new l(e.thread_info),e.hasOwnProperty("og_tag")&&(this.ogMetaData=new u(e.og_tag)),this.isOperatorMessage=!!e.hasOwnProperty("is_op_msg")&&e.is_op_msg}},{key:"getMetaArraysByKeys",value:function(e){return Array.isArray(e)?this.metaArrays.filter((function(n){return-1<e.indexOf(n.key)})):[]}},{key:"getMetaArrayByKeys",value:function(e){var n={};return this.getMetaArraysByKeys(e).forEach((function(e){n[e.key]=e.value})),n}},{key:"applyReactionEvent",value:function(e){var n,t=this,r=P.get(this._iid).Reaction,i=E(q.parse(arguments,[new q({type:$,constraint:function(e){return parseInt(e.messageId)===parseInt(t.messageId)}})]),2);if(n=i[0],e=i[1],!n){var a=!1;for(var s in this.reactions)if(this.reactions[s].key===e.key){this.reactions[s]._applyEvent(e),this.reactions[s].isEmpty&&this.reactions.splice(s,1),a=!0;break}a||"add"!==e.operation||this.reactions.push(new r(e.key,[e.userId],e.updatedAt))}}},{key:"_getThreadedMessageList",value:function(e,n,t,r){var i,a=this,s=P.get(this._iid).ThreadedMessageListParams,o=E(q.parse(arguments,[new q({type:"number"}),new q({type:"string",constraint:function(e){return Object.values(ee).includes(e)}}),new q({type:s,constraint:function(e){return e._validate()}}),new q({type:"callback"})]),5);return i=o[0],e=o[1],n=o[2],t=o[3],r=o[4],Z(this._iid,(function(r){if(i)r(i,null);else{var s=P.get(a._iid),o=s.GroupChannel,l=s.OpenChannel;a.isGroupChannel()?o.getChannel(a.channelUrl,k.INTERNAL_CALL,(function(i,s){if(SendBird.getInstance(a._iid).getErrorFirstCallback()){var o=[i,s];s=o[0],i=o[1]}s?r(s,null):w.get(a._iid).container.apiClient.getMessageList(c(c({channel:i,token:e,tokenType:n},t),{},{shouldReverse:t.reverse,rootMessageId:a.messageId,includeReplies:!0,includeThreadInfo:!0}),(function(e,n){if(e)r(e,null);else{var t=P.get(a._iid).BaseChannel,i=n.messages.map((function(e){return t.buildMessage(e,a)})).filter((function(e){return null!==e})),s=i.filter((function(e){return e.messageId===a.messageId}))[0],o=i.filter((function(e){return e.parentMessageId===a.messageId}));r(null,{parentMessage:s,threadedReplies:o})}}))})):a.isOpenChannel()&&l.getChannel(a.channelUrl,k.INTERNAL_CALL,(function(i,s){if(SendBird.getInstance(a._iid).getErrorFirstCallback()){var o=[i,s];s=o[0],i=o[1]}s?r(s,null):w.get(a._iid).container.apiClient.getMessageList(c(c({channel:i,token:e,tokenType:n},t),{},{shouldReverse:t.reverse,rootMessageId:a.messageId,includeReplies:!0,includeThreadInfo:!0}),(function(e,n){if(e)r(e,null);else{var t=P.get(a._iid).BaseChannel,i=n.messages.map((function(e){return t.buildMessage(e,a)})).filter((function(e){return null!==e})),s=i.filter((function(e){return e.messageId===a.messageId}))[0],o=i.filter((function(e){return e.parentMessageId===a.messageId}));r(null,{parentMessage:s,threadedReplies:o})}}))}))}}),r)}},{key:"getThreadedMessagesByTimestamp",value:function(e,n,t){return this._getThreadedMessageList(e,ee.TIMESTAMP,n,t)}},{key:"applyThreadInfoUpdateEvent",value:function(e){var n,t=P.get(this._iid),r=t.ThreadInfo,i=t.ThreadInfoUpdateEvent,a=ne.get(this),s=E(q.parse(arguments,[new q({type:i,constraint:function(e){return parseInt(e.targetMessageId)===parseInt(a)}})]),2);if(n=s[0],e=s[1],n)return!1;var o=e.threadInfo;return this.threadInfo=new r(o),!0}},{key:"metaArray",get:function(){var e={};return this.metaArrays.forEach((function(n){e[n.key]=n.value})),e},set:function(e){if("object"===a(e)&&e){var n=P.get(this._iid).MessageMetaArray,t=[];for(var r in e)t.push(new n(r,e[r]));this.metaArrays=t}}}],[{key:"getMessage",value:function(e,n){var t,r=this,i=P.get(this._iid),a=i.BaseChannel,s=i.MessageRetrievalParams,o=E(q.parse(arguments,[new q({type:s,constraint:function(e){return e._validate()}}),new q({type:"callback"})]),3);return t=o[0],e=o[1],n=o[2],Z(this._iid,(function(n){if(t)n(t,null);else{var i=P.get(r._iid),s=i.GroupChannel,o=i.OpenChannel;switch(e.channelType){case a.CHANNEL_TYPE_GROUP:s.getChannel(e.channelUrl,k.INTERNAL_CALL,(function(t,i){if(SendBird.getInstance(r._iid).getErrorFirstCallback()){var s=[t,i];i=s[0],t=s[1]}i?n(i,null):w.get(r._iid).container.apiClient.getMessage(c({channel:t},e),(function(e,r){if(e)n(e,null);else{var i=a.buildMessage(r,t);n(null,i)}}))}));break;case a.CHANNEL_TYPE_OPEN:o.getChannel(e.channelUrl,k.INTERNAL_CALL,(function(t,i){if(SendBird.getInstance(r._iid).getErrorFirstCallback()){var s=[t,i];i=s[0],t=s[1]}i?n(i,null):w.get(r._iid).container.apiClient.getMessage(c({channel:t},e),(function(e,r){if(e)n(e,null);else{var i=a.buildMessage(r,t);n(null,i)}}))}))}}}),n)}},{key:"MESSAGE_TYPE_BASE",get:function(){return"base"}},{key:"MESSAGE_TYPE_ADMIN",get:function(){return"admin"}},{key:"MESSAGE_TYPE_USER",get:function(){return"user"}},{key:"MESSAGE_TYPE_FILE",get:function(){return"file"}},{key:"SendingStatus",get:function(){return{NONE:"none",PENDING:"pending",FAILED:"failed",CANCELED:"canceled",SUCCEEDED:"succeeded"}}}]),e}(),re=function(){function e(n){s(this,e),this.nickname="",this.plainProfileUrl="",this.userId="",this.connectionStatus="",this.lastSeenAt=null,this.metaData={},this.isActive=!0,this.friendDiscoveryKey=null,this.friendName=null,this._preferredLanguages=null,this.requireAuth=null,n&&this.__update(n)}return l(e,[{key:"__update",value:function(n){n.hasOwnProperty("guest_id")&&(this.userId=String(n.guest_id)),n.hasOwnProperty("user_id")&&(this.userId=String(n.user_id)),n.hasOwnProperty("name")&&(this.nickname=String(n.name)),n.hasOwnProperty("nickname")&&(this.nickname=String(n.nickname)),n.hasOwnProperty("image")&&(this.plainProfileUrl=String(n.image)),n.hasOwnProperty("profile_url")&&(this.plainProfileUrl=String(n.profile_url)),n.hasOwnProperty("is_online")&&n.is_online!==e.NON_AVAILABLE?this.connectionStatus=n.is_online?e.ONLINE:e.OFFLINE:this.connectionStatus=e.NON_AVAILABLE,n.hasOwnProperty("last_seen_at")?this.lastSeenAt=parseInt(n.last_seen_at):this.lastSeenAt=0,n.hasOwnProperty("metadata")?this.metaData=n.metadata:this.metaData={},n.hasOwnProperty("is_active")?this.isActive=void 0===n.is_active||n.is_active:this.isActive=!0,n.hasOwnProperty("friend_discovery_key")?this.friendDiscoveryKey=n.friend_discovery_key:this.friendDiscoveryKey=null,n.hasOwnProperty("friend_name")?this.friendName=n.friend_name:this.friendName=null,n.hasOwnProperty("preferred_languages")?this._preferredLanguages=n.preferred_languages||null:this._preferredLanguages=null,n.hasOwnProperty("require_auth_for_profile_image")?this.requireAuth=n.require_auth_for_profile_image:this.requireAuth=null}},{key:"_updateMetaData",value:function(e,n){var t=1<arguments.length&&void 0!==n&&n,r=P.get(this._iid).GroupChannel;for(var i in e)t?delete this.metaData[i]:this.metaData[i]=e[i];for(var a in r.cachedChannels)if(r.cachedChannels.hasOwnProperty(a)){var s=r.cachedChannels[a];s.memberMap.hasOwnProperty(this.userId)&&(s.memberMap[this.userId].metaData=this.metaData)}}},{key:"serialize",value:function(){return X.serialize(this,(function(e){e.hasOwnProperty("_preferredLanguages")&&(e.preferredLanguages=e._preferredLanguages,delete e._preferredLanguages)}))}},{key:"getOriginalProfileUrl",value:function(){var e="";if((-1<(e=(e=-1<this.plainProfileUrl.indexOf("://")?this.plainProfileUrl.split("/")[2]:this.plainProfileUrl.split("/")[0]).split("?")[0]).indexOf("sendbird.com")||-1<e.indexOf("intoz.com")||-1<e.indexOf("file-local"))&&-1<this.plainProfileUrl.indexOf(e+"/profile_images/")){var n=this.plainProfileUrl.replace("profile_images/","");return n===this.plainProfileUrl?"":n}return""}},{key:"createMetaData",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"object",constraint:function(e){return 0<Object.keys(e).length&&!Array.isArray(e)}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.createUserMetaData({metaData:e},(function(e,t){e||r._updateMetaData(t),n(e,t)}))}),n)}},{key:"updateMetaData",value:function(e,n,t){var r,i=this,a=E(q.parse(arguments,[new q({type:"object",constraint:function(e){return!Array.isArray(e)&&0<Object.keys(e).length&&Object.keys(e).map((function(n){return e[n]})).every((function(e){return"string"==typeof e}))}}),new q({type:"boolean",optional:!0,defaultValue:!1}),new q({type:"callback"})]),4);return r=a[0],e=a[1],n=a[2],t=a[3],Z(this._iid,(function(t){r?t(r,null):w.get(i._iid).container.apiClient.updateUserMetaData({metaData:e,upsert:n},(function(e,n){e||i._updateMetaData(n),t(e,n)}))}),t)}},{key:"deleteMetaData",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"string",constraint:function(e){return 0<e.length}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){if(t)n(t,null);else{var i={};i[e]="",w.get(r._iid).container.apiClient.deleteUserMetaData({metaDataKey:e},(function(e,t){e||r._updateMetaData(i,!0),n(e,t)}))}}),n)}},{key:"deleteAllMetaData",value:function(e){var n=this;return Z(this._iid,(function(e){var t=n.metaData;w.get(n._iid).container.apiClient.deleteAllUserMetaData({},(function(r,i){r||n._updateMetaData(t,!0),e(r,i)}))}),e)}},{key:"profileUrl",get:function(){if(this.requireAuth){var e=w.get(this._iid).container.auth;return"".concat(this.plainProfileUrl,"?auth=").concat(e.eKey)}return this.plainProfileUrl}},{key:"preferredLanguages",get:function(){return this._preferredLanguages}}],[{key:"objectify",value:function(e){var n=e.userId,t=void 0===n?null:n,r=e.nickname,i=void 0===r?"":r,a=e.plainProfileUrl,s=void 0===a?"":a,o=e.connectionStatus,l=void 0===o?"":o,u=e.lastSeenAt,c=void 0===u?0:u,d=e.metaData,f=void 0===d?{}:d,h=e.isActive,p=void 0===h||h,g=e.friendDiscoveryKey,y=void 0===g?null:g,m=e.friendName,_=void 0===m?null:m,v=e.preferredLanguages,E=void 0===v?null:v,b=e.requireAuth;return{user_id:t,nickname:i,profile_url:s,is_online:l,last_seen_at:c,metadata:f,is_active:p,friend_discovery_key:y,friend_name:_,preferred_languages:E,require_auth_for_profile_image:void 0!==b&&b}}},{key:"build",value:function(e,n,t,r,i,a,s,o,l,u,c){return this.objectify({userId:e,nickname:n,plainProfileUrl:t,connectionStatus:r,lastSeenAt:i,metaData:a,isActive:s,friendDiscoveryKey:o,friendName:l,preferredLanguages:u,requireAuth:c})}},{key:"buildFromSerializedData",value:function(e){var n=P.get(this._iid).User,t=X.deserialize(e);return new n(n.objectify(t))}},{key:"NON_AVAILABLE",get:function(){return"nonavailable"}},{key:"ONLINE",get:function(){return"online"}},{key:"OFFLINE",get:function(){return"offline"}}]),e}(),ie={TIMESTAMP:"timestamp",MESSAGE_ID:"messageId"},ae=function(){function e(n){s(this,e),this.url="",this.channelType=e.CHANNEL_TYPE_BASE,this.name="",this.coverUrl="",this.creator=null,this.createdAt=0,this.data=null,this.customType=null,this.isFrozen=!1,this.isEphemeral=!1,n&&(this.__update(n),n.__wk&&(this.__wk=n.__wk))}return l(e,[{key:"__update",value:function(e){this.url=e.hasOwnProperty("channel_url")?String(e.channel_url):"",this.name=e.hasOwnProperty("name")?String(e.name):"",this.coverUrl=e.hasOwnProperty("cover_url")?String(e.cover_url):"",this.createdAt=e.hasOwnProperty("created_at")?1e3*e.created_at:0,this.data=e.hasOwnProperty("data")?String(e.data):"",this.customType=e.hasOwnProperty("custom_type")?e.custom_type:"",this.isFrozen=!!e.hasOwnProperty("freeze")&&e.freeze,this.isEphemeral=!!e.hasOwnProperty("is_ephemeral")&&e.is_ephemeral,e.hasOwnProperty("created_by")&&null!==e.created_by&&"object"===a(e.created_by)&&0<Object.keys(e.created_by).length?this.creator=new re(e.created_by):this.creator=null}},{key:"isGroupChannel",value:function(){var e=P.get(this._iid).BaseChannel;return this.channelType===e.CHANNEL_TYPE_GROUP}},{key:"isOpenChannel",value:function(){var e=P.get(this._iid).BaseChannel;return this.channelType===e.CHANNEL_TYPE_OPEN}},{key:"createOperatorListQuery",value:function(){return new(P.get(this._iid).OperatorListQuery)(this)}},{key:"createMessageListQuery",value:function(){return new(P.get(this._iid).MessageListQuery)(this)}},{key:"createPreviousMessageListQuery",value:function(){return new(P.get(this._iid).PreviousMessageListQuery)(this)}},{key:"serialize",value:function(){return X.serialize(this,(function(e){if(null!==e.lastMessage&&"object"===a(e.lastMessage)){var n=e.lastMessage;n.hasOwnProperty("_sender")&&(n.sender=n._sender,delete n._sender,e.lastMessage=n)}e.hasOwnProperty("_messageOffsetTimestamp")&&(e.messageOffsetTimestamp=e._messageOffsetTimestamp,delete e._messageOffsetTimestamp)}))}},{key:"getMessageChangeLogsByTimestamp",value:function(e,n,t,r){var i,a=this,s=E(q.parse(arguments,[new q({type:"number",constraint:function(e){return 0<=e}}),new q({type:"boolean",optional:!0,defaultValue:!1}),new q({type:"boolean",optional:!0,defaultValue:!1}),new q({type:"callback"})]),5);return i=s[0],e=s[1],n=s[2],t=s[3],r=s[4],Z(this._iid,(function(r){i?r(i,null):w.get(a._iid).container.apiClient.getMessageChangeLogs({channelUrl:a.url,ts:e,token:null,isOpenChannel:a.isOpenChannel(),includeMetaArray:n,includeReactions:t},(function(e,n){var t=null;if(!e){var i=P.get(a._iid).BaseChannel;t={updatedMessages:n.updated.map((function(e){return i.buildMessage(e,a)})),deletedMessageIds:n.deleted.map((function(e){return parseInt(e.message_id)})),hasMore:n.has_more,token:n.next}}r(e,t)}))}),r)}},{key:"getMessageChangeLogsByToken",value:function(e,n,t,r){var i,a=this,s=E(q.parse(arguments,[new q({type:"string",nullable:!0}),new q({type:"boolean",optional:!0,defaultValue:!1}),new q({type:"boolean",optional:!0,defaultValue:!1}),new q({type:"callback"})]),5);return i=s[0],e=s[1],n=s[2],t=s[3],r=s[4],Z(this._iid,(function(r){i?r(i,null):w.get(a._iid).container.apiClient.getMessageChangeLogs({channelUrl:a.url,ts:null,token:e,isOpenChannel:a.isOpenChannel(),includeMetaArray:n,includeReactions:t},(function(e,n){var t=null;if(!e){var i=P.get(a._iid).BaseChannel;t={updatedMessages:n.updated.map((function(e){return i.buildMessage(e,a)})),deletedMessageIds:n.deleted.map((function(e){return parseInt(e.message_id)})),hasMore:n.has_more,token:n.next}}r(e,t)}))}),r)}},{key:"getMessageChangeLogsSinceToken",value:function(e,n,t){var r,i=this,a=P.get(this._iid),s=a.BaseChannel,o=a.MessageChangeLogsParams,l=E(q.parse(arguments,[new q({type:"string",nullable:!0}),new q({type:o}),new q({type:"callback"})]),4);return r=l[0],e=l[1],n=l[2],t=l[3],Z(this._iid,(function(t){r?t(r,null):w.get(i._iid).container.apiClient.getMessageChangeLogs(c({channelUrl:i.url,ts:null,token:e,isOpenChannel:i.isOpenChannel()},n),(function(e,n){var r=null;e||(r={updatedMessages:n.updated.map((function(e){return s.buildMessage(e,i)})),deletedMessageIds:n.deleted.map((function(e){return parseInt(e.message_id)})),hasMore:n.has_more,token:n.next}),t(e,r)}))}),t)}},{key:"getMessageChangeLogsSinceTimestamp",value:function(e,n,t){var r,i=this,a=P.get(this._iid),s=a.BaseChannel,o=a.MessageChangeLogsParams,l=E(q.parse(arguments,[new q({type:"number",constraint:function(e){return 0<=e}}),new q({type:o}),new q({type:"callback"})]),4);return r=l[0],e=l[1],n=l[2],t=l[3],Z(this._iid,(function(t){r?t(r,null):w.get(i._iid).container.apiClient.getMessageChangeLogs(c({channelUrl:i.url,timestamp:e,token:null,isOpenChannel:i.isOpenChannel()},n),(function(e,n){var r=null;e||(r={updatedMessages:n.updated.map((function(e){return s.buildMessage(e,i)})),deletedMessageIds:n.deleted.map((function(e){return parseInt(e.message_id)})),hasMore:n.has_more,token:n.next}),t(e,r)}))}),t)}},{key:"getMyMutedInfo",value:function(e){var n=this;return Z(this._iid,(function(e){var t=Un.getInstance(n._iid);w.get(n._iid).container.apiClient.getMyMutedInfo({channelUrl:n.url,userId:t.currentUser?t.currentUser.userId:null,isGroupChannel:n.isGroupChannel()},(function(n,t){var r=null;n||(r={isMuted:t.is_muted,startAt:t.start_at,endAt:t.end_at,remainingDuration:t.remaining_duration,description:t.description}),e(n,r)}))}),e)}},{key:"_parseMessageListParams",value:function(e){for(var n=new(P.get(this._iid).MessageListParams),t=null,r=!1,i=0,a=0,s=!1,o="",l="",u=null,c=!1,d=!1,f=null,h=arguments.length,p=new Array(1<h?h-1:0),g=1;g<h;g++)p[g-1]=arguments[g];switch(e){case"prev":var y=E(q.parse(p,[new q({type:"number"}),new q({type:"boolean"}),new q({type:"number"}),new q({type:"boolean"}),new q({type:"string"}),new q({type:"string"}),new q({type:"array",optional:!0}),new q({type:"boolean",optional:!0,defaultValue:!1}),new q({type:"boolean",optional:!0,defaultValue:!1}),new q({type:"callback"})]),11);t=y[0],y[1],r=y[2],i=y[3],s=y[4],o=y[5],l=y[6],u=y[7],c=y[8],d=y[9],f=y[10];break;case"next":var m=E(q.parse(p,[new q({type:"number"}),new q({type:"boolean"}),new q({type:"number"}),new q({type:"boolean"}),new q({type:"string"}),new q({type:"string"}),new q({type:"array",optional:!0}),new q({type:"boolean",optional:!0,defaultValue:!1}),new q({type:"boolean",optional:!0,defaultValue:!1}),new q({type:"callback"})]),11);t=m[0],m[1],r=m[2],a=m[3],s=m[4],o=m[5],l=m[6],u=m[7],c=m[8],d=m[9],f=m[10];break;case"prevnext":var _=E(q.parse(p,[new q({type:"number"}),new q({type:"number"}),new q({type:"number"}),new q({type:"boolean"}),new q({type:"string"}),new q({type:"string"}),new q({type:"array",optional:!0}),new q({type:"boolean",optional:!0,defaultValue:!1}),new q({type:"boolean",optional:!0,defaultValue:!1}),new q({type:"callback"})]),11);t=_[0],_[1],i=_[2],a=_[3],s=_[4],o=_[5],l=_[6],u=_[7],c=_[8],d=_[9],f=_[10],r=!0}return t?[null,f]:(n.isInclusive=r,n.prevResultSize=i,n.nextResultSize=a,n.reverse=s,n.messageType=o,n.customType=l,n.senderUserIds=u,n.includeMetaArray=c,n.includeReactions=d,[n,f])}},{key:"_getMessageList",value:function(e,n,t,r){var i,a=this,s=P.get(this._iid).MessageListParams,o=E(q.parse(arguments,[new q({type:"number"}),new q({type:"string",constraint:function(e){return Object.values(ie).includes(e)}}),new q({type:s,constraint:function(e){return e._validate()}}),new q({type:"callback"})]),5);return i=o[0],e=o[1],n=o[2],t=o[3],r=o[4],Z(this._iid,(function(r){i?r(i,null):w.get(a._iid).container.apiClient.getMessageList(c(c({channel:a,token:e,tokenType:n},t),{},{shouldReverse:t.reverse}),(function(e,n){if(e)r(e,null);else{var t=P.get(a._iid).BaseChannel,i=n.messages.map((function(e){return t.buildMessage(e,a)})).filter((function(e){return null!==e}));r(null,i)}}))}),r)}},{key:"getPreviousMessagesByTimestamp",value:function(e){var n=E(this._parseMessageListParams.apply(this,["prev"].concat(b(q.toArray(arguments)))),2),t=n[0],r=n[1];return this._getMessageList(e,ie.TIMESTAMP,t,r)}},{key:"getNextMessagesByTimestamp",value:function(e){var n=E(this._parseMessageListParams.apply(this,["next"].concat(b(q.toArray(arguments)))),2),t=n[0],r=n[1];return this._getMessageList(e,ie.TIMESTAMP,t,r)}},{key:"getPreviousAndNextMessagesByTimestamp",value:function(e){var n=E(this._parseMessageListParams.apply(this,["prevnext"].concat(b(q.toArray(arguments)))),2),t=n[0],r=n[1];return this._getMessageList(e,ie.TIMESTAMP,t,r)}},{key:"getPreviousMessagesByID",value:function(e){var n=E(this._parseMessageListParams.apply(this,["prev"].concat(b(q.toArray(arguments)))),2),t=n[0],r=n[1];return this._getMessageList(e,ie.MESSAGE_ID,t,r)}},{key:"getNextMessagesByID",value:function(e){var n=E(this._parseMessageListParams.apply(this,["next"].concat(b(q.toArray(arguments)))),2),t=n[0],r=n[1];return this._getMessageList(e,ie.MESSAGE_ID,t,r)}},{key:"getPreviousAndNextMessagesByID",value:function(e){var n=E(this._parseMessageListParams.apply(this,["prevnext"].concat(b(q.toArray(arguments)))),2),t=n[0],r=n[1];return this._getMessageList(e,ie.MESSAGE_ID,t,r)}},{key:"getMessagesByTimestamp",value:function(e,n,t){return this._getMessageList(e,ie.TIMESTAMP,n,t)}},{key:"getMessagesByMessageId",value:function(e,n,t){return this._getMessageList(e,ie.MESSAGE_ID,n,t)}},{key:"_sendUserMessage",value:function(e){var n=this,t=e.reqId,r=e.message,i=e.data,a=e.customType,s=e.metaArrays,o=e.mentionType,l=e.mentionedUserIds,u=e.pushNotificationDeliveryOption,c=e.rootMessageId,d=e.parentMessageId,f=e.translationTargetLanguages,h=e.silent,p=void 0!==h&&h,g=e.callback,y=P.get(this._iid),m=y.Command,_=y.UserMessage;t=t||m.generateRequestId();var v=Un.getInstance(this._iid),E={};Array.isArray(f)&&f.forEach((function(e){return E[e]=""}));var b=_.objectify({messageId:0,reqId:t,user:v.currentUser||{},channel:this,message:r,data:i,customType:a,metaArrays:s,mentionType:o,mentionedUserIds:l,rootMessageId:c,parentMessageId:d,translations:E,silent:p,createdAt:(new Date).getTime()}),C=new _(b);if(C.requestState=v.MessageRequestState.PENDING,C.sendingStatus=v.MessageSendingStatus.PENDING,C.requestedMentionUserIds=l,!v.currentUser){var S=new T("Connection should be made first.",T.CONNECTION_REQUIRED),k=new _(b);return k.requestState=v.MessageRequestState.FAILED,k.sendingStatus=v.MessageSendingStatus.FAILED,k.requestedMentionUserIds=l,k.errorCode=S.code,g(S,k),C}var U=m.bMessage({channelUrl:this.url,message:r,data:i,customType:a,metaArrays:s,mentionType:o,mentionedUserIds:l,requestId:t,rootMessageId:c,parentMessageId:d,silent:p,translationTargetLanguages:f,pushNotificationDeliveryOption:u});return C.reqId=U.requestId,this.isGroupChannel()&&v.getConnectionState()!==v.ConnectionState.OPEN&&v.currentUser&&!v.connecting&&!v.reconnecting&&"string"==typeof a&&0===a.indexOf("SB_VIDEOCHAT")?w.get(v._iid).container.apiClient.sendUserMessage({channelUrl:this.url,isOpenChannel:this.isOpenChannel(),message:r,data:i,customType:a,translationTargetLanguages:f,metaArrays:s,mentionType:o,mentionedUserIds:l,pushNotificationDeliveryOption:u,rootMessageId:c,parentMessageId:d},(function(e,n){var t=null;e?((t=new _(b)).requestState=v.MessageRequestState.FAILED,t.sendingStatus=v.MessageSendingStatus.FAILED,e.code===T.REQUEST_CANCELED&&(t.sendingStatus=v.MessageSendingStatus.CANCELED),t.requestedMentionUserIds=l,t.errorCode=e.code):((t=new _(n)).requestState=v.MessageRequestState.SUCCEEDED,t.sendingStatus=v.MessageSendingStatus.SUCCEEDED),g(e,t)})):v.sendCommand(U,(function(e,t){if(v.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t){var i=new _(b);i.reqId=U.requestId,i.requestState=v.MessageRequestState.FAILED,i.sendingStatus=v.MessageSendingStatus.FAILED,t.code===T.REQUEST_CANCELED&&(i.sendingStatus=v.MessageSendingStatus.CANCELED),i.requestedMentionUserIds=l,i.errorCode=t.code,g(new T(t.message,t.code),i)}else{var a=new _(e.getJsonElement()),s=v.currentUser;if(s&&a._sender&&s.userId===a._sender.userId&&(s.nickname!==a._sender.nickname&&(s.nickname=a._sender.nickname),s.plainProfileUrl!==a._sender.plainProfileUrl&&(s.plainProfileUrl=a._sender.plainProfileUrl),H.deepEqual(s.metaData,a._sender.metaData)||(s.metaData=a._sender.metaData)),n.isGroupChannel())for(var o in n.lastMessage=a,v.channelHandlers)v.channelHandlers[o].onChannelChanged(n);a.requestState=v.MessageRequestState.SUCCEEDED,a.sendingStatus=v.MessageSendingStatus.SUCCEEDED,g(null,a)}})),C}},{key:"sendUserMessage",value:function(){var e=q.toArray(arguments),n=e.pop(),t=null,r=null,i=P.get(this._iid).UserMessageParams;if("function"==typeof n)if(e[0]instanceof i)null===(r=e[0]).data&&(r.data=""),null===r.customType&&(r.customType="");else if("string"==typeof e[0])switch((r=new i).message=e[0],e.length){case 1:break;case 2:r.data=e[1]||"";break;case 3:r.data=e[1]||"",r.customType=e[2]||"";break;case 4:r.data=e[1]||"",r.customType=e[2]||"",r.translationTargetLanguages=Array.isArray(e[3])?e[3]:[e[3]];break;default:t=q.error}else t=q.error;else t=q.error;var a=w.get(this._iid).container.isErrorFirstInCallback;return!t&&r._validate()&&r.message?this._sendUserMessage(c(c({},r),{},{metaArrays:r.metaArrays,mentionType:r.mentionType,mentionedUserIds:r._mentionedUserIds,rootMessageId:r.rootMessageId,parentMessageId:r.parentMessageId,translationTargetLanguages:r._translationTargetLanguages,callback:function(e,t){a?n(e,t):n(t,e)}})):(a?n(q.error,null):n(null,q.error),null)}},{key:"resendUserMessage",value:function(e,n){var t=this,r=P.get(this._iid),i=r.UserMessage,s=r.UserMessageParams,o=null,l=E(q.parse(arguments,[new q({type:i,constraint:function(e){return 0===e.messageId&&e.isResendable()&&e.reqId&&e.channelUrl===t.url&&"string"==typeof e.message&&"string"==typeof e.data&&"string"==typeof e.customType&&"object"===a(e.translations)&&!Array.isArray(e.translations)}}),new q({type:"callback"})]),3);return o=l[0],e=l[1],n=l[2],Z(this._iid,(function(n){if(o)o.message+=" Please check if the failed message is resend-able with `message.isResendable().`",n(o,null);else{var r=Object.keys(e.translations),i=s.PushNotificationDeliveryOption.DEFAULT;t._sendUserMessage(c(c({},e),{},{mentionedUserIds:e.requestedMentionUserIds,translationTargetLanguages:r,pushNotificationDeliveryOption:i,reqId:e.reqId,callback:n}))}}),n)}},{key:"updateUserMessage",value:function(e,n,t,r,i){var a=this,s=P.get(this._iid),o=s.Command,l=s.UserMessage,u=s.UserMessageParams,d=arguments,f=null,h=null;if("number"==typeof e)switch(d.length){case 3:var p=E(q.parse(d,[new q({type:"number"}),new q({type:u}),new q({type:"callback"})]),4);f=p[0],e=p[1],h=p[2],i=p[3];break;case 5:h=new u;var g=E(q.parse(d,[new q({type:"number"}),new q({type:"string",nullable:!0}),new q({type:"string",nullable:!0}),new q({type:"string",nullable:!0}),new q({type:"callback"})]),6);f=g[0],e=g[1],n=g[2],t=g[3],r=g[4],i=g[5],h.message=n,h.data=t,h.customType=r}return Z(this._iid,(function(n){if(!f&&h&&h._validate()){var t=o.bUpdateUserMessage(c(c({channelUrl:a.url,messageId:e},h),{},{mentionType:h._mentionType,mentionedUserIds:h._mentionedUserIds})),r=Un.getInstance(a._iid);r.sendCommand(t,(function(e,t){if(r.getErrorFirstCallback()){var i=[e,t];t=i[0],e=i[1]}var a=null;t||(a=new l(e.getJsonElement())),n(t,a)}))}else n(q.error,null)}),i)}},{key:"translateUserMessage",value:function(e,n,t){var r,i=this,a=Un.getInstance(this._iid),s=P.get(this._iid).UserMessage,o=E(q.parse(arguments,[new q({type:s,constraint:function(e){return e.channelUrl===i.url&&e.sendingStatus===a.MessageSendingStatus.SUCCEEDED}}),new q({type:"array",constraint:function(e){return e.every((function(e){return"string"==typeof e}))}}),new q({type:"callback"})]),4);return r=o[0],e=o[1],n=o[2],t=o[3],Z(this._iid,(function(t){r?t(r,null):w.get(i._iid).container.apiClient.translateUserMessage({channelUrl:i.url,isOpenChannel:i.isOpenChannel(),messageId:e.messageId,translationTargetLanguages:n},(function(e,n){var r=null;e||(r=new s(n)),t(e,r)}))}),t)}},{key:"_parseFileMessageArguments",value:function(e){var n=P.get(this._iid),t=n.BaseMessageParams,r=n.FileMessageParams,i={error:null,file:null,name:null,type:null,size:null,data:"",customType:"",thumbnailSizes:[],metaArrays:[],mentionType:t.MentionType.USERS,mentionedUserIds:[],pushNotificationDeliveryOption:r.PushNotificationDeliveryOption.DEFAULT,rootMessageId:null,parentMessageId:null,progressHandler:null,silent:!1,callback:null};if("function"==typeof e[e.length-1]&&(i.callback=e.pop()),"function"==typeof e[e.length-1]&&(i.progressHandler=e.pop()),e[0]instanceof r)i.file=e[0].file||e[0].fileUrl,i.name=e[0].fileName,i.type=e[0].mimeType,i.size=e[0].fileSize,i.data=e[0].data,i.customType=e[0].customType,i.thumbnailSizes=e[0].thumbnailSizes,i.metaArrays=e[0].metaArrays,i.mentionType=e[0]._mentionType,i.mentionedUserIds=e[0]._mentionedUserIds,i.pushNotificationDeliveryOption=e[0].pushNotificationDeliveryOption?e[0].pushNotificationDeliveryOption:r.PushNotificationDeliveryOption.DEFAULT,i.rootMessageId=e[0].rootMessageId,i.parentMessageId=e[0].parentMessageId,i.silent=e[0].silent,e[0]._validate()||(i.error=q.error);else if(H.isFile(e[0])||"string"==typeof e[0]){switch(i.file=e[0],e.length){case 1:break;case 2:i.data=e[1];break;case 3:i.data=e[1],i.customType=e[2];break;case 4:i.data=e[1],i.customType=e[2],i.thumbnailSizes=e[3];break;case 5:i.name=e[1],i.type=e[2],i.size=e[3],i.data=e[4];break;case 6:i.name=e[1],i.type=e[2],i.size=e[3],i.data=e[4],i.customType=e[5];break;case 7:i.name=e[1],i.type=e[2],i.size=e[3],i.data=e[4],i.customType=e[5],i.thumbnailSizes=e[6]}var a=E(q.parse([i.file,i.name,i.type,i.size,i.data,i.customType,i.thumbnailSizes],[new q({type:["file","string"]}),new q({type:"string",nullable:!0}),new q({type:"string",nullable:!0}),new q({type:"number",nullable:!0,constraint:function(e){return 0<=e}}),new q({type:"string",nullable:!0}),new q({type:"string",nullable:!0}),new q({type:"array"})]),8);i.error=a[0],i.file=a[1],i.name=a[2],i.type=a[3],i.size=a[4],i.data=a[5],i.customType=a[6],i.thumbnailSizes=a[7]}else i.error=q.error;return H.isFile(i.file)&&(i.name=i.name||i.file.name,i.type=i.type||i.file.type,i.size=i.size||i.file.size),i}},{key:"_createTempFileMessage",value:function(e){try{var n=Un.getInstance(this._iid),t=P.get(this._iid),r=t.Command,i=t.FileMessage,a=i.objectify(c(c({},e),{},{messageId:0,reqId:r.generateRequestId(),user:n.currentUser||{},channel:this,plainUrl:"string"==typeof e.file?e.file:"",thumbnails:e.thumbnailSizes.map((function(e){return{url:"",plainUrl:"",width:e.maxWidth,height:e.maxHeight,real_width:0,real_height:0}})),sendingStatus:n.MessageSendingStatus.PENDING,createdAt:(new Date).getTime()}));return new i(a)}catch(e){return null}}},{key:"sendFileMessage",value:function(){var e=this._parseFileMessageArguments(q.toArray(arguments)),n=null,t=P.get(this._iid).Command.generateRequestId();e.error||((n=this._createTempFileMessage(e)).requestedMentionUserIds=e.mentionedUserIds,t=n.reqId);var r=Un.getInstance(this._iid);r&&r.currentUser||(e.error=new T("Connection should be made first.",T.CONNECTION_REQUIRED));var i=P.get(this._iid).FileMessageQueue;return i.create(this).addJob(new i.Job({fileInfo:e,pendingMessage:n,requestId:t,error:e.error,response:null})),n}},{key:"sendFileMessages",value:function(e,n){var t=this,r=1<arguments.length&&void 0!==n?n:{},i=r.progress?r.progress:function(){},a=r.sent?r.sent:function(){},s=r.complete?r.complete:function(){};if(Array.isArray(e)&&0<e.length&&e.length<=20){var o=[];return e.forEach((function(n,r){o.push(t.sendFileMessage(n,i,(function(n,t){a(n,t),r===e.length-1&&s(null)})))})),o}return s(q.error),null}},{key:"resendFileMessage",value:function(e,n,t){var r=this,i=P.get(this._iid),a=i.FileMessage,s=i.FileMessageParams,o=null,l=E(q.parse(arguments,[new q({type:a,constraint:function(e){return 0===e.messageId&&e.isResendable()&&e.reqId&&e.channelUrl===r.url&&"string"==typeof e.data&&"string"==typeof e.customType&&Array.isArray(e.thumbnails)}}),new q({type:"file",optionalIf:function(e){return!!e[0].url},defaultValue:null}),new q({type:"callback"})]),4);return o=l[0],e=l[1],n=l[2],t=l[3],Z(this._iid,(function(t){if(o)o.message+=" Please check if the failed message is resend-able with `message.isResendable().`",t(o,null);else{var i=new s;e.url?i.fileUrl=e.url:i.file=n,i.fileName=e.name,i.fileSize=e.size,i.mimeType=e.type,i.data=e.data,i.customType=e.customType,i.mentionType=e.mentionType,i.mentionedUserIds=e.requestedMentionUserIds,i.metaArrays=e.metaArrays,i.thumbnailSizes=e.thumbnails.map((function(e){return{maxWidth:e.width,maxHeight:e.height}})),r.sendFileMessage(i,t)}}),t)}},{key:"updateFileMessage",value:function(e,n,t,r){var i=this,a=P.get(this._iid),s=a.Command,o=a.FileMessage,l=a.FileMessageParams,u=arguments,d=null,f=null;if("number"==typeof e)switch(u.length){case 3:var h=E(q.parse(u,[new q({type:"number"}),new q({type:l}),new q({type:"callback"})]),4);d=h[0],e=h[1],f=h[2],r=h[3],f&&(f._isUpdate=!0);break;case 4:f=new l;var p=E(q.parse(u,[new q({type:"number"}),new q({type:"string",nullable:!0}),new q({type:"string",nullable:!0}),new q({type:"callback"})]),5);d=p[0],e=p[1],n=p[2],t=p[3],r=p[4],f.data=n,f.customType=t,f._isUpdate=!0}return Z(this._iid,(function(n){if(!d&&f&&f._validate()){var t=s.bUpdateFileMessage(c(c({channelUrl:i.url,messageId:e},f),{},{mentionType:f._mentionType,mentionedUserIds:f._mentionedUserIds})),r=Un.getInstance(i._iid);r.sendCommand(t,(function(e,t){if(r.getErrorFirstCallback()){var i=[e,t];t=i[0],e=i[1]}var a=null;t||(a=new o(e.getJsonElement())),n(t,a)}))}else n(q.error,null)}),r)}},{key:"cancelUploadingFileMessage",value:function(e,n){var t,r=E(q.parse(arguments,[new q({type:["number","string"]}),new q({type:"callback"})]),3);t=r[0],e=r[1],n=r[2];var i=w.get(this._iid).container.isErrorFirstInCallback;return t?(i?n(t,null):n(null,t),!1):P.get(this._iid).FileMessageQueue.create(this).cancelUploadItemByRequestId(e,(function(e,t){return i?n(e,t):n(t,e)}))}},{key:"addReaction",value:function(e,n,t){var r,i=this,a=Un.getInstance(this._iid),s=P.get(this._iid).ReactionEvent,o=E(q.parse(arguments,[new q({type:te}),new q({type:"string",constraint:function(e){return 0<e.length}}),new q({type:"callback"})]),4);return r=o[0],e=o[1],n=o[2],t=o[3],Z(this._iid,(function(t){r?t(r,null):e.sendingStatus===a.MessageSendingStatus.SUCCEEDED?w.get(i._iid).container.apiClient.addReaction({isGroupChannel:e.isGroupChannel(),channelUrl:e.channelUrl,messageId:e.messageId,key:n},(function(n,r){var i=null;n||(i=s.createFromJson(c(c({},r),{},{msg_id:e.messageId}))),t(n,i)})):t(new T("Cannot add reaction to a non-succeeded message.",T.REQUEST_FAILED),null)}),t)}},{key:"deleteReaction",value:function(e,n,t){var r,i=this,a=Un.getInstance(this._iid),s=P.get(this._iid).ReactionEvent,o=E(q.parse(arguments,[new q({type:te}),new q({type:"string",constraint:function(e){return 0<e.length}}),new q({type:"callback"})]),4);return r=o[0],e=o[1],n=o[2],t=o[3],Z(this._iid,(function(t){r?t(r,null):e.sendingStatus===a.MessageSendingStatus.SUCCEEDED?w.get(i._iid).container.apiClient.deleteReaction({isGroupChannel:e.isGroupChannel(),channelUrl:e.channelUrl,messageId:e.messageId,key:n},(function(n,r){var i=null;n||(i=s.createFromJson(c(c({},r),{},{msg_id:e.messageId}))),t(n,i)})):t(new T("Cannot remove reaction to a non-succeeded message.",T.REQUEST_FAILED),null)}),t)}},{key:"deleteMessage",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"object",constraint:function(e){return!Array.isArray(e)&&null!==e&&e.hasOwnProperty("messageId")}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.deleteMessage({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),messageId:e.messageId},(function(e,t){return n(e,null)}))}),n)}},{key:"copyUserMessage",value:function(n,t,r){var i,a=P.get(this._iid),s=(a.Command,a.UserMessage),o=a.BaseMessageParams,l=E(q.parse(arguments,[new q({type:e}),new q({type:s}),new q({type:"callback"})]),4);i=l[0],n=l[1],t=l[2],r=l[3];var u=w.get(this._iid).container.isErrorFirstInCallback;if(i)return u?r(q.error,null):r(null,q.error),null;if(this.url!==t.channelUrl){var d=new T("The message does not belong to this channel",T.INVALID_PARAMETER);return u?r(d,null):r(null,d),null}var f={},h=Object.keys(t.translations);h.forEach((function(e){return f[e]=""}));var p=o.PushNotificationDeliveryOption.DEFAULT;return n._sendUserMessage(c(c({},t),{},{reqId:null,pushNotificationDeliveryOption:p,translationTargetLanguages:h,rootMessageId:null,parentMessageId:null,parentMessageText:null,callback:r}))}},{key:"copyFileMessage",value:function(n,t,r){var i,a=P.get(this._iid),s=a.Command,o=(a.GroupChannel,a.FileMessage),l=a.BaseMessageParams,u=(a.FileMessageParams,a.User),c=E(q.parse(arguments,[new q({type:e}),new q({type:o}),new q({type:"callback"})]),4);i=c[0],n=c[1],t=c[2],r=c[3];var d=w.get(this._iid),f=d.container.isErrorFirstInCallback;if(i)return f?r(q.error,null):r(null,q.error),null;if(this.url!==t.channelUrl){var h=new T("The message does not belong to this channel");return f?r(h,null):r(null,h),null}var p=Un.getInstance(this._iid),g=t.url,y=t.name,m=t.type,_=t.size,v=t.data,b=t.customType,C=t.mentionType,S=t.mentionedUserIds,k=t.mentionedUsers,U=t.metaArrays,A=t.thumbnails,N=t.requireAuth,I=t.messageSurvivalSeconds,R=t.silent,O=s.generateRequestId(),M=p.currentUser||{},L=n.url,D=n.isOpenChannel(),H=k.filter((function(e){return new u(u.objectify(e))})),x=l.PushNotificationDeliveryOption.DEFAULT,F=o.objectify({messageId:0,reqId:O,user:M,channel:n,plainUrl:g,name:y,type:m,size:_,data:v,customType:b,mentionType:C,mentionedUserIds:S,mentionedUsers:H,requestedMentionUserIds:S,metaArrays:U,thumbnails:A,requireAuth:N,messageSurvivalSeconds:I,silent:R,createdAt:(new Date).getTime()}),G=new o(F);if(G.requestState=p.MessageRequestState.PENDING,G.sendingStatus=p.MessageSendingStatus.PENDING,!p.currentUser){var B=new T("Connection should be made first.",T.CONNECTION_REQUIRED),z=new o(F);return z.requestState=p.MessageRequestState.FAILED,z.sendingStatus=p.MessageSendingStatus.FAILED,z.errorCode=B.code,f?r(B,z):r(z,B),G}var j=s.bFile({requestId:O,channelUrl:L,url:g,name:y,type:m,size:_,data:v,customType:b,metaArrays:U,mentionType:C,mentionedUserIds:S,thumbnailSizes:A,requireAuth:N,pushNotificationDeliveryOption:x,silent:R});return p.getConnectionState()===p.ConnectionState.OPEN||p.connecting||p.reconnecting?p.sendCommand(j,(function(e,t){if(p.getErrorFirstCallback()){var i=[e,t];t=i[0],e=i[1]}if(t)if(t.code!==T.INVALID_PARAMETER){var a=new o(F);a.requestState=p.MessageRequestState.FAILED,a.sendingStatus=p.MessageSendingStatus.FAILED,t.code!==T.FILE_UPLOAD_CANCEL_FAILED&&t.code!==SendBridException.REQUEST_CANCELED||(a.sendingStatus=p.MessageSendingStatus.CANCELED),a.errorCode=t.code,f?r(t,a):r(a,t)}else f?r(t,null):r(null,t);else{var s=new o(e.getJsonElement()),l=s._sender;if(M&&l&&M.userId===l.userId&&(M.nickname!==l.nickname&&(M.nickname=l.nickname),M.plainProfileUrl!==l.plainProfileUrl&&(M.plainProfileUrl=l.plainProfileUrl)),n.isGroupChannel())for(var u in n.lastMessage=s,p.channelHandlers)p.channelHandlers[u].onChannelChanged(n);f?r(null,s):r(s,null)}})):d.container.apiClient.sendFileMessage({channelUrl:L,isOpenChannel:D,fileUrl:g,fileName:y,fileType:m,fileSize:_,data:v,customType:b,metaArrays:U,mentionType:C,mentionedUserIds:S,thumbnailSizes:A,requireAuth:N,pushNotificationDeliveryOption:x},(function(e,t){if(e)if(e.code!==T.INVALID_PARAMETER){var i=new o(commnad.getJsonElement());i.requestState=p.MessageRequestState.FAILED,i.sendingStatus=p.MessageSendingStatus.FAILED,e.code!==T.FILE_UPLOAD_CANCEL_FAILED&&e.code!==SendBridException.REQUEST_CANCELED||(i.sendingStatus=p.MessageSendingStatus.CANCELED),i.errorCode=e.code,f?r(e,i):r(i,e)}else f?r(e,null):r(null,e);else{var a=new o(t),s=a._sender;if(M&&s&&M.userId===s.userId&&(M.nickname!==s.nickname&&(M.nickname=s.nickname),M.plainProfileUrl!==s.plainProfileUrl&&(M.plainProfileUrl=s.plainProfileUrl)),n.isGroupChannel())for(var l in n.lastMessage=a,p.channelHandlers)p.channelHandlers[l].onChannelChanged(n);f?r(null,a):r(a,null)}})),G}},{key:"addOperators",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"array",constraint:function(e){return Object.keys(e).map((function(n){return e[n]})).every((function(e){return"string"==typeof e}))}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.addOperators({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),operatorUserIds:e},(function(e,t){return n(e,t)}))}),n)}},{key:"removeOperators",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"array",constraint:function(e){return Object.keys(e).map((function(n){return e[n]})).every((function(e){return"string"==typeof e}))}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.removeOperators({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),operatorUserIds:e},(function(e,t){return n(e,t)}))}),n)}},{key:"getMetaCounters",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"array",constraint:function(e){return Object.keys(e).map((function(n){return e[n]})).every((function(e){return"string"==typeof e}))}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.getMetaCounters({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),keys:e},(function(e,t){return n(e,t)}))}),n)}},{key:"getAllMetaCounters",value:function(e){var n=this;return Z(this._iid,(function(e){w.get(n._iid).container.apiClient.getMetaCounters({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),keys:[]},(function(n,t){return e(n,t)}))}),e)}},{key:"createMetaCounters",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&0<Object.keys(e).length&&Object.keys(e).map((function(n){return e[n]})).every((function(e){return"number"==typeof e}))}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.createMetaCounters({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),metaCounter:e},(function(e,t){return n(e,t)}))}),n)}},{key:"updateMetaCounters",value:function(e,n,t){var r,i=this,a=E(q.parse(arguments,[new q({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&0<Object.keys(e).length&&Object.keys(e).map((function(n){return e[n]})).every((function(e){return"number"==typeof e}))}}),new q({type:"boolean",optional:!0,defaultValue:!1}),new q({type:"callback"})]),4);return r=a[0],e=a[1],n=a[2],t=a[3],Z(this._iid,(function(t){r?t(r,null):w.get(i._iid).container.apiClient.updateMetaCounters({channelUrl:i.url,isOpenChannel:i.isOpenChannel(),metaCounter:e,upsert:n,mode:"set"},(function(e,n){return t(e,n)}))}),t)}},{key:"increaseMetaCounters",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&0<Object.keys(e).length&&Object.keys(e).map((function(n){return e[n]})).every((function(e){return"number"==typeof e}))}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.updateMetaCounters({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),metaCounter:e,upsert:!1,mode:"increase"},(function(e,t){return n(e,t)}))}),n)}},{key:"decreaseMetaCounters",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&0<Object.keys(e).length&&Object.keys(e).map((function(n){return e[n]})).every((function(e){return"number"==typeof e}))}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.updateMetaCounters({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),metaCounter:e,upsert:!1,mode:"decrease"},(function(e,t){var r=null;if(!e)for(var i in r={},t)r[i]=t[i];n(e,r)}))}),n)}},{key:"deleteMetaCounter",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"string"}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.deleteMetaCounter({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),key:e},(function(e,t){return n(e,t)}))}),n)}},{key:"deleteAllMetaCounters",value:function(e){var n=this;return Z(this._iid,(function(e){w.get(n._iid).container.apiClient.deleteAllMetaCounters({channelUrl:n.url,isOpenChannel:n.isOpenChannel()},(function(n,t){return e(n,t)}))}),e)}},{key:"getMetaData",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"array",constraint:function(e){return Object.keys(e).map((function(n){return e[n]})).every((function(e){return"string"==typeof e}))}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.getMetaData({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),keys:e},(function(e,t){return n(e,t)}))}),n)}},{key:"getAllMetaData",value:function(e){var n=this;return Z(this._iid,(function(e){w.get(n._iid).container.apiClient.getMetaData({channelUrl:n.url,isOpenChannel:n.isOpenChannel(),keys:[]},(function(n,t){return e(n,t)}))}),e)}},{key:"createMetaData",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&0<Object.keys(e).length}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.createMetaData({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),metaData:e},(function(e,t){return n(e,t)}))}),n)}},{key:"updateMetaData",value:function(e,n,t){var r,i=this,a=E(q.parse(arguments,[new q({type:"object",constraint:function(e){return e&&!Array.isArray(e)&&0<Object.keys(e).length}}),new q({type:"boolean",optional:!0,defaultValue:!1}),new q({type:"callback"})]),4);return r=a[0],e=a[1],n=a[2],t=a[3],Z(this._iid,(function(t){r?t(r,null):w.get(i._iid).container.apiClient.updateMetaData({channelUrl:i.url,isOpenChannel:i.isOpenChannel(),metaData:e,upsert:n},(function(e,n){return t(e,n)}))}),t)}},{key:"deleteMetaData",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"string"}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.deleteMetaData({channelUrl:r.url,isOpenChannel:r.isOpenChannel(),key:e},(function(e,t){return n(e,t)}))}),n)}},{key:"deleteAllMetaData",value:function(e){var n=this;return Z(this._iid,(function(e){w.get(n._iid).container.apiClient.deleteAllMetaData({channelUrl:n.url,isOpenChannel:n.isOpenChannel()},(function(n,t){return e(n,t)}))}),e)}},{key:"_updateMessageMetaArray",value:function(e,n,t,r){var i=this;return Z(this._iid,(function(r){var a=P.get(i._iid),s=a.Command,o=a.UserMessage,l=a.FileMessage,u=a.AdminMessage,c=null;if(n.isUserMessage()?c=s.bUpdateUserMessage({channelUrl:e,messageId:n.messageId,metaArrayParams:t}):n.isFileMessage()&&(c=s.bUpdateFileMessage({channelUrl:e,messageId:n.messageId,metaArrayParams:t})),c){var d=Un.getInstance(i._iid);d.sendCommand(c,(function(e,t){if(d.getErrorFirstCallback()){var i=[e,t];t=i[0],e=i[1]}var a=null;t||(n.isUserMessage()?a=new o(e.getJsonElement()):n.isFileMessage()?a=new l(e.getJsonElement()):n.isAdminMessage()&&(a=new u(e.getJsonElement()))),r(t,a)}))}else r(q.error,null)}),r)}},{key:"createMessageMetaArrayKeys",value:function(e,n,t){var r,i=P.get(this._iid).MessageMetaArray,a=E(q.parse(arguments,[new q({type:te}),new q({type:"array",constraint:function(e){return e.every((function(e){return"string"==typeof e&&""!==e}))}}),new q({type:"callback"})]),4);if(r=a[0],e=a[1],n=a[2],t=a[3],r)return Z(this._iid,(function(e){e(r,null)}),t);var s=[];if(Array.isArray(n))for(var o=0;o<n.length;o++){var l=n[o];s.push(new i(l,[]))}return this._updateMessageMetaArray(this.url,e,{array:s.map((function(e){return e.encode()})),mode:"add",upsert:!0},t)}},{key:"deleteMessageMetaArrayKeys",value:function(e,n,t){var r,i=P.get(this._iid).MessageMetaArray,a=E(q.parse(arguments,[new q({type:te}),new q({type:"array",constraint:function(e){return e.every((function(e){return"string"==typeof e&&""!==e}))}}),new q({type:"callback"})]),4);if(r=a[0],e=a[1],n=a[2],t=a[3],r)return Z(this._iid,(function(e){e(r,null)}),t);var s=[];if(Array.isArray(n))for(var o=0;o<n.length;o++){var l=n[o];s.push(new i(l,[]))}return this._updateMessageMetaArray(this.url,e,{array:s.map((function(e){return e.encode()})),mode:"remove",upsert:!0},t)}},{key:"addMessageMetaArrayValues",value:function(e,n,t){var r,i=P.get(this._iid).MessageMetaArray,a=E(q.parse(arguments,[new q({type:te}),new q({type:"object",constraint:function(e){return e&&(Array.isArray(e)&&0<e.length&&e.every((function(e){return e instanceof i}))||0<Object.keys(e).length&&Object.keys(e).every((function(n){return Array.isArray(e[n])&&0<e[n].length&&e[n].every((function(e){return"string"==typeof e&&0<e.length}))})))}}),new q({type:"callback"})]),4);if(r=a[0],e=a[1],n=a[2],t=a[3],r)return Z(this._iid,(function(e){e(r,null)}),t);var s=Array.isArray(n)?n.map((function(e){return e.encode()})):Object.keys(n).map((function(e){return{key:e,value:n[e]}}));return this._updateMessageMetaArray(this.url,e,{array:s,mode:"add",upsert:!0},t)}},{key:"removeMessageMetaArrayValues",value:function(e,n,t){var r,i=P.get(this._iid).MessageMetaArray,a=E(q.parse(arguments,[new q({type:te}),new q({type:"object",constraint:function(e){return e&&(Array.isArray(e)&&0<e.length&&e.every((function(e){return e instanceof i}))||0<Object.keys(e).length&&Object.keys(e).every((function(n){return Array.isArray(e[n])&&0<e[n].length&&e[n].every((function(e){return"string"==typeof e&&0<e.length}))})))}}),new q({type:"callback"})]),4);if(r=a[0],e=a[1],n=a[2],t=a[3],r)return Z(this._iid,(function(e){e(r,null)}),t);var s=Array.isArray(n)?n.map((function(e){return e.encode()})):Object.keys(n).map((function(e){return{key:e,value:n[e]}}));return this._updateMessageMetaArray(this.url,e,{array:s,mode:"remove",upsert:!0},t)}},{key:"report",value:function(e,n,t){var r,i=this,a=P.get(this._iid).BaseChannel,s=E(q.parse(arguments,[new q({type:a.ReportCategory}),new q({type:"string"}),new q({type:"callback"})]),4);return r=s[0],e=s[1],n=s[2],t=s[3],Z(this._iid,(function(t){if(r)t(r,null);else{var a=Un.getInstance(i._iid);w.get(i._iid).container.apiClient.report({channelUrl:i.url,isOpenChannel:i.isOpenChannel(),reportCategory:e,reportingUserId:a.currentUser?a.currentUser.userId:null,reportDescription:n},(function(e,n){t(e,null)}))}}),t)}},{key:"reportUser",value:function(e,n,t,r){var i,a=this,s=P.get(this._iid).BaseChannel,o=E(q.parse(arguments,[new q({type:re}),new q({type:s.ReportCategory}),new q({type:"string"}),new q({type:"callback"})]),5);return i=o[0],e=o[1],n=o[2],t=o[3],r=o[4],Z(this._iid,(function(r){if(i)r(i,null);else{var s=Un.getInstance(a._iid);w.get(a._iid).container.apiClient.reportUser({channelUrl:a.url,isOpenChannel:a.isOpenChannel(),reportCategory:n,offendingUserId:e.userId,reportingUserId:s.currentUser?s.currentUser.userId:null,reportDescription:t},(function(e,n){r(e,null)}))}}),r)}},{key:"reportMessage",value:function(e,n,t,r){var i,a=this,s=P.get(this._iid).BaseChannel,o=E(q.parse(arguments,[new q({type:te}),new q({type:s.ReportCategory}),new q({type:"string"}),new q({type:"callback"})]),5);return i=o[0],e=o[1],n=o[2],t=o[3],r=o[4],Z(this._iid,(function(r){if(i)r(i,null);else{var s=Un.getInstance(a._iid);w.get(a._iid).container.apiClient.reportMessage({messageId:e.messageId,channelUrl:a.url,isOpenChannel:a.isOpenChannel(),reportCategory:n,offendingUserId:e.sender.userId,reportingUserId:s.currentUser?s.currentUser.userId:null,reportDescription:t},(function(e,n){r(e,null)}))}}),r)}}],[{key:"buildMessage",value:function(e,n){var t=P.get(this._iid),r=t.UserMessage,i=t.FileMessage,a=t.AdminMessage;if(e)switch(e.hasOwnProperty("channel_type")||(e.channel_type=n.channelType),e.type){case"MESG":return new r(e);case"FILE":var s=e.file;return new i(c(c({},e),{},{url:String(s.url),name:String(s.name),type:String(s.type),size:parseInt(s.size),data:String(s.data)}));case"BRDM":case"ADMM":return new a(e)}return null}},{key:"CHANNEL_TYPE_OPEN",get:function(){return"open"}},{key:"CHANNEL_TYPE_GROUP",get:function(){return"group"}},{key:"CHANNEL_TYPE_BASE",get:function(){return"base"}},{key:"MessageTypeFilter",get:function(){return{ALL:"",USER:"MESG",FILE:"FILE",ADMIN:"ADMM"}}},{key:"ReportCategory",get:function(){return{SPAM:"spam",HARASSING:"harassing",SUSPICIOUS:"suspicious",INAPPROPRIATE:"inappropriate"}}}]),e}(),se=function(){function e(n){s(this,e),n&&(this.category=n.hasOwnProperty("cat")?parseInt(n.cat):0,this.data=n.hasOwnProperty("data")?n.data:null,this.channelUrl=n.hasOwnProperty("channel_url")?String(n.channel_url):"",this.channelType=n.hasOwnProperty("channel_type")?String(n.channel_type):ae.CHANNEL_TYPE_GROUP)}return l(e,[{key:"isGroupChannel",value:function(){return this.channelType===ae.CHANNEL_TYPE_GROUP}},{key:"isOpenChannel",value:function(){return this.channelType===ae.CHANNEL_TYPE_OPEN}}]),e}();function oe(e){s(this,oe),e&&(this.category=e.hasOwnProperty("cat")?parseInt(e.cat):0)}se.CATEGORY_NONE=0,se.CATEGORY_CHANNEL_ENTER=10102,se.CATEGORY_CHANNEL_EXIT=10103,se.CATEGORY_USER_CHANNEL_MUTE=10201,se.CATEGORY_USER_CHANNEL_UNMUTE=10200,se.CATEGORY_USER_CHANNEL_BAN=10601,se.CATEGORY_USER_CHANNEL_UNBAN=10600,se.CATEGORY_CHANNEL_FREEZE=10701,se.CATEGORY_CHANNEL_UNFREEZE=10700,se.CATEGORY_TYPING_START=10900,se.CATEGORY_TYPING_END=10901,se.CATEGORY_CHANNEL_JOIN=1e4,se.CATEGORY_CHANNEL_LEAVE=10001,se.CATEGORY_CHANNEL_OPERATOR_UPDATE=10002,se.CATEGORY_CHANNEL_INVITE=10020,se.CATEGORY_CHANNEL_DECLINE_INVITE=10022,se.CATEGORY_CHANNEL_PROP_CHANGED=11e3,se.CATEGORY_CHANNEL_DELETED=12e3,se.CATEGORY_CHANNEL_META_DATA_CHANGED=11100,se.CATEGORY_CHANNEL_META_COUNTERS_CHANGED=11200,se.CATEGORY_CHANNEL_HIDE=13e3,se.CATEGORY_CHANNEL_UNHIDE=13001,oe.CATEGORY_USER_BLOCK=20001,oe.CATEGORY_USER_UNBLOCK=2e4,oe.CATEGORY_FRIEND_DISCOVERED=20900;var le=function(){function e(n){s(this,e),this.sb=n,this.cls=P.get(this.sb._iid)}return l(e,[{key:"onRawCommandReceived",value:function(e){var n=this,t=this.cls,r=t.Command,i=t.User,s=t.Member,o=t.BaseChannel,l=t.GroupChannel,u=t.OpenChannel,c=t.UserMessage,d=t.FileMessage,f=t.AdminMessage,h=t.BaseMessageParams,p=t.ReactionEvent,g=t.ReadStatus,y=t.ThreadInfoUpdateEvent,m=w.get(this.sb._iid),_=m.container,v=_.pinger,E=_.auth,b=_.subscribedUnreadMessageCount,C=_.ackStateMap,S=new r(e),U=S.getJsonElement();if(U.hasOwnProperty("unread_cnt")&&"object"===a(U.unread_cnt)){var A=!1,N=U.unread_cnt.ts;if("number"==typeof N&&N>b.ts){if(b.all!==U.unread_cnt.all&&(A=!0),b.all=0<=U.unread_cnt.all?U.unread_cnt.all:0,U.unread_cnt.custom_types)for(var I in U.unread_cnt.custom_types)b.custom_types[I]!==U.unread_cnt.custom_types[I]&&(A=!0),b.custom_types[I]=U.unread_cnt.custom_types[I];A=A&&0<b.ts,b.ts=N}if(A)for(var R in this.sb.userEventHandlers)this.sb.userEventHandlers[R].onTotalUnreadMessageCountUpdated(b.all,b.custom_types)}var M=S.requestId;if(M){var P=C[M];if(P){clearTimeout(P.timer);var L=P.handler;L&&("EROR"===S.command?L(new T(U.message,U.code),null):L(null,S)),C.hasOwnProperty(M)&&delete C[M]}}else switch(v&&"LOGI"!==S.command&&v.start(),S.command){case"LOGI":this.sb.loginTimer&&(clearTimeout(this.sb.loginTimer),this.sb.loginTimer=null,this.sb.onLoginTimerCancel=null,U.hasOwnProperty("error")?(this.sb.isSessionOpened=!1,this.sb.loginHandler(new T(U.message,U.code),null)):(this.sb.isSessionOpened=!0,U.hasOwnProperty("key")&&(E.sessionKey=U.key),U.hasOwnProperty("ekey")&&(E.eKey=U.ekey),U.hasOwnProperty("user_id")&&(this.sb.currentUser=new i(U)),"number"==typeof U.ping_interval&&0<U.ping_interval&&m.set("pingInterval",1e3*U.ping_interval),"number"==typeof U.pong_timeout&&0<U.pong_timeout&&m.set("pongTimeout",1e3*U.pong_timeout),"number"==typeof U.login_ts&&m.set("connectedAt",1e3*U.login_ts),"number"==typeof U.max_unread_cnt_on_super_group?m.set("maxUnreadCountOfSuperGroupChannel",U.max_unread_cnt_on_super_group):m.set("maxUnreadCountOfSuperGroupChannel",k.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL),U.profile_image_encryption&&m.set("profileImageEncryption",!0),v&&v.start(),U.hasOwnProperty("file_upload_size_limit")&&U.hasOwnProperty("premium_feature_list")&&U.hasOwnProperty("emoji_hash")&&m.set("appInfo",new J(U)),this.sb.loginHandler(null,this.sb.currentUser)),this.sb.connecting=!1,this.sb.reconnecting=!1);break;case"MESG":case"FILE":case"BRDM":case"ADMM":var D=null;if("MESG"===S.command?D=new c(U):"FILE"===S.command?D=new d(U):"BRDM"!==S.command&&"ADMM"!==S.command||(D=new f(U)),D){var x=this.sb.currentUser?this.sb.currentUser.userId:null,F=D.silent,G=!!U.force_update_last_message,B=D._sender&&D._sender.userId===x;if(D.isGroupChannel()){var z=r.bMessageAck({channelUrl:D.channelUrl,messageId:D.messageId});this.sb.sendCommand(z);var j=l.cachedChannels.hasOwnProperty(D.channelUrl);l.getChannel(D.channelUrl,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(!t){if(e.isHidden=!1,e.hiddenState=l.HiddenState.UNHIDDEN,l.cachedChannels[e.url]=e,D._sender&&e.memberMap.hasOwnProperty(D._sender.userId)){var i=e.memberMap[D._sender.userId];i.nickname!==D._sender.nickname&&(i.nickname=D._sender.nickname),i.plainProfileUrl!==D._sender.plainProfileUrl&&(i.plainProfileUrl=D._sender.plainProfileUrl),H.deepEqual(i.metaData,D._sender.metaData)||(i.metaData=D._sender.metaData),i.isBlockedByMe!==D._sender.isBlockedByMe&&(i.isBlockedByMe=D._sender.isBlockedByMe)}var a=n.sb.currentUser;a&&B&&(a.nickname!==D._sender.nickname&&(a.nickname=D._sender.nickname),a.plainProfileUrl!==D._sender.plainProfileUrl&&(a.plainProfileUrl=D._sender.plainProfileUrl),H.deepEqual(a.metaData,D._sender.metaData)||(a.metaData=D._sender.metaData));var s=!1;if(D.mentionType===h.MentionType.CHANNEL)B||(s=!0);else if(D.mentionType===h.MentionType.USERS)for(var o=0;o<D.mentionedUsers.length;o++)if(!B&&D.mentionedUsers[o].userId===x){s=!0;break}if(F&&!B||(e.isEphemeral||j)&&((!e.lastMessage||e.lastMessage.createdAt<D.createdAt)&&(e.lastMessage=D),B||e._setGroupChannelUnreadCount(e.unreadMessageCount+1,e.unreadMentionCount+(s?1:0))),G&&(!e.lastMessage||e.lastMessage.createdAt<D.createdAt)&&(e.lastMessage=D),!F||B)for(var u in n.sb.channelHandlers)n.sb.channelHandlers[u].onChannelChanged(e);for(var c in n.sb.channelHandlers){var d=n.sb.channelHandlers[c];d.onMessageReceived(e,D),s&&d.onMentionReceived(e,D)}}}))}else D.isOpenChannel()&&u.getChannel(D.channelUrl,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(!t){var i=!1;if(D.mentionType===h.MentionType.CHANNEL)i=!0;else if(D.mentionType===h.MentionType.USERS)for(var a=0;a<D.mentionedUsers.length;a++)if(D.mentionedUsers[a].userId===x){i=!0;break}for(var s in n.sb.channelHandlers){var o=n.sb.channelHandlers[s];u.enteredChannels[e.url]&&o.onMessageReceived(e,D),i&&o.onMentionReceived(e,D)}}}))}break;case"MEDI":case"FEDI":case"AEDI":var q=null;if("MEDI"===S.command?q=new c(U):"FEDI"===S.command?q=new d(U):"AEDI"===S.command&&(q=new f(U)),q){var Q=this.sb.currentUser?this.sb.currentUser.userId:null,Y=q.silent,V=q.sender&&q.sender.userId===Q;if(q.isGroupChannel()){var W=l.cachedChannels.hasOwnProperty(q.channelUrl);l.getChannel(q.channelUrl,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(!t){var i=e.cachedReadReceiptStatus[Q],a=i&&i>=q.createAt,s=n.sb.currentUser;s&&V&&(s.nickname!==q._sender.nickname&&(s.nickname=q._sender.nickname),s.plainProfileUrl!==q._sender.plainProfileUrl&&(s.plainProfileUrl=q._sender.plainProfileUrl),H.deepEqual(s.metaData,q._sender.metaData)||(s.metaData=q._sender.metaData));var o=!1,l=!1;if(!V&&!a&&U&&U.hasOwnProperty("old_values")){var u=U.old_values.mention_type||q.mentionType,c=U.old_values.mentioned_user_ids||q.mentionedUsers.map((function(e){return e.userId}));if(u===h.MentionType.USERS&&q.mentionType===h.MentionType.USERS){for(var d=!1,f=!1,p=0;p<c.length;p++)if(c[p]===Q){d=!0;break}for(var g=0;g<q.mentionedUsers.length;g++)if(q.mentionedUsers[g].userId===Q){f=!0;break}!d&&f&&(l=!0,!Y&&W&&(e._setGroupChannelUnreadCount(e.unreadMessageCount,e.unreadMentionCount+1),o=!0))}else if(u===h.MentionType.USERS&&q.mentionType===h.MentionType.CHANNEL){for(var y=!1,m=0;m<c.length;m++)if(c[m]===Q){y=!0;break}y||(l=!0,!Y&&W&&(e._setGroupChannelUnreadCount(e.unreadMessageCount,e.unreadMentionCount+1),o=!0))}}if(!e.lastMessage||e.lastMessage.createdAt<q.createdAt?(e.lastMessage=q,o=!0):e.lastMessage.createdAt===q.createdAt&&e.lastMessage.messageId===q.messageId&&(W?e.lastMessage.updatedAt<q.updatedAt&&(e.lastMessage=q,o=!0):o=!0),(!Y||V)&&o)for(var _ in n.sb.channelHandlers)n.sb.channelHandlers[_].onChannelChanged(e);for(var v in n.sb.channelHandlers){var E=n.sb.channelHandlers[v];E.onMessageUpdated(e,q),l&&E.onMentionReceived(e,q)}}}))}else q.isOpenChannel()&&u.getChannel(q.channelUrl,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(!t)for(var i in n.sb.channelHandlers)n.sb.channelHandlers[i].onMessageUpdated(e,q)}))}break;case"DELM":var K=String(U.channel_type),$=String(U.channel_url),X=parseInt(U.msg_id);switch(K){case o.CHANNEL_TYPE_GROUP:l.getChannel($,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)O.debug("Discard command",S.command);else for(var i in n.sb.channelHandlers)n.sb.channelHandlers[i].onMessageDeleted(e,X)}));break;case o.CHANNEL_TYPE_OPEN:u.getChannel($,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)O.debug("Discard command",S.command);else for(var i in n.sb.channelHandlers)n.sb.channelHandlers[i].onMessageDeleted(e,X)}))}break;case"READ":var Z=new g(U),ee=l.cachedChannels.hasOwnProperty(Z.channelUrl);l.getChannel(Z.channelUrl,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(!t&&(ee&&e.updateReadReceipt(Z.reader.userId,Z.timestamp),n.sb.currentUser))if(Z.reader.userId===n.sb.currentUser.userId){if(ee){if(0<e.unreadMessageCount||0<e.unreadMentionCount)for(var i in e._setGroupChannelUnreadCount(0,0),n.sb.channelHandlers)n.sb.channelHandlers[i].onChannelChanged(e)}else if(0===e.unreadMessageCount||0===e.unreadMentionCount)for(var a in n.sb.channelHandlers)n.sb.channelHandlers[a].onChannelChanged(e)}else for(var s in n.sb.channelHandlers)n.sb.channelHandlers[s].onReadReceiptUpdated(e)}));break;case"MRCT":var ne=String(U.channel_type),te=String(U.channel_url),re=p.createFromJson(U);switch(ne){case o.CHANNEL_TYPE_GROUP:l.getChannel(te,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)O.debug("Discard command",S.command);else for(var i in n.sb.channelHandlers)n.sb.channelHandlers[i].onReactionUpdated(e,re)}));break;case o.CHANNEL_TYPE_OPEN:u.getChannel(te,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)O.debug("Discard command",S.command);else for(var i in n.sb.channelHandlers)n.sb.channelHandlers[i].onReactionUpdated(e,re)}))}break;case"DLVR":var ie=String(U.channel_url),ae=U.hasOwnProperty("updated")?U.updated:null,le=l.cachedChannels.hasOwnProperty(ie);l.getChannel(ie,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(!t){var i=!1;for(var a in ae)n.sb.currentUser&&a===n.sb.currentUser.userId&&(i=!0),le&&e.updateDeliveryReceipt(a,parseInt(ae[a]));if(l.cachedChannels[e.url]=e,!i||1!==Object.keys(ae).length)for(var s in n.sb.channelHandlers)n.sb.channelHandlers[s].onDeliveryReceiptUpdated(e)}}));break;case"MTHD":var ue=String(U.channel_url),ce=String(U.channel_type),de=y.createFromJson(U);switch(ce){case o.CHANNEL_TYPE_GROUP:l.getChannel(ue,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(!t)for(var i in n.sb.channelHandlers)n.sb.channelHandlers[i].onThreadInfoUpdated(e,de)}));break;case o.CHANNEL_TYPE_OPEN:u.getChannel(ue,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(!t)for(var i in n.sb.channelHandlers)n.sb.channelHandlers[i].onThreadInfoUpdated(e,de)}))}break;case"SYEV":var fe=new se(U),he=U.ts;switch(fe.category){case se.CATEGORY_CHANNEL_JOIN:case se.CATEGORY_CHANNEL_LEAVE:l.getChannel(fe.channelUrl,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)O.debug("Discard command",S.command,fe.category);else{var a=fe.data.hasOwnProperty("member_count")?fe.data.member_count:null,o=fe.data.hasOwnProperty("joined_member_count")?fe.data.joined_member_count:null;if(fe.category===se.CATEGORY_CHANNEL_JOIN)(fe.data.hasOwnProperty("users")?fe.data.users:[fe.data]).forEach((function(t){e.isSuper||e.isBroadcast?e.setLatestMemberCount(a,o,U.ts):(t.state=s.JOINED,e.addMember(new s(t),he),e.updateJoinedMemberCount());var r=new i(t);for(var u in n.sb.currentUser&&r.userId===n.sb.currentUser.userId&&(e.myMemberState="joined",l.cachedChannels[e.url]=e),n.sb.channelHandlers)n.sb.channelHandlers[u].onUserJoined(e,r)}));else{var u=new i(fe.data);for(var c in n.sb.currentUser&&u.userId===n.sb.currentUser.userId?(e.isPublic||l.removeCachedChannel(fe.channelUrl),e.myMemberState="none",e.invitedAt=0,e._setGroupChannelUnreadCount(0,0)):l.cachedChannels[e.url]=e,e.isSuper||e.isBroadcast?e.setLatestMemberCount(a,o,U.ts):(e.removeMember(u),e.updateJoinedMemberCount()),n.sb.channelHandlers)n.sb.channelHandlers[c].onUserLeft(e,u)}}}));break;case se.CATEGORY_CHANNEL_OPERATOR_UPDATE:fe.isGroupChannel()?l.getChannel(fe.channelUrl,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)O.debug("Discard command",S.command,fe.category);else{var a=fe.data.operators.map((function(e){return new i(e)})),s=a.map((function(e){return e.userId}));for(var o in e.members)e.members[o].role=0<=s.indexOf(e.members[o].userId)?l.Role.OPERATOR:l.Role.NONE;for(var u in e.myRole=n.sb.currentUser&&0<=s.indexOf(n.sb.currentUser.userId)?l.Role.OPERATOR:l.Role.NONE,n.sb.channelHandlers)n.sb.channelHandlers[u].onOperatorUpdated(e,a)}})):fe.isOpenChannel()&&u.getChannel(fe.channelUrl,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)O.debug("Discard command",S.command,fe.category);else for(var a in e.operators=fe.data.operators.map((function(e){return new i(e)})),n.sb.channelHandlers)n.sb.channelHandlers[a].onOperatorUpdated(e,e.operators)}));break;case se.CATEGORY_CHANNEL_INVITE:l.getChannel(fe.channelUrl,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)O.debug("Discard command",S.command,fe.category);else{var a=null;fe.data&&fe.data.inviter&&0<Object.keys(fe.data.inviter).length&&(a=new i(fe.data.inviter));for(var o=[],u=0;u<fe.data.invitees.length;u++){var c=new i(fe.data.invitees[u]);o.push(c),fe.data.invitees[u].state=s.INVITED;var d=new s(fe.data.invitees[u]);if(e.isSuper||e.isBroadcast){var f=fe.data.hasOwnProperty("member_count")?fe.data.member_count:null,h=fe.data.hasOwnProperty("joined_member_count")?fe.data.joined_member_count:null;e.setLatestMemberCount(f,h,U.ts)}else e.addMember(d,he);n.sb.currentUser&&d.userId===n.sb.currentUser.userId&&(e.isHidden=!1,"joined"!==e.myMemberState&&(e.myMemberState="invited"),e.invitedAt=U.ts,l.cachedChannels[e.url]=e)}for(var p in n.sb.channelHandlers)n.sb.channelHandlers[p].onUserReceivedInvitation(e,a,o)}}));break;case se.CATEGORY_CHANNEL_DECLINE_INVITE:l.getChannel(fe.channelUrl,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)O.debug("Discard command",S.command,fe.category);else{var a=null;fe.data&&fe.data.inviter&&0<Object.keys(fe.data.inviter).length&&(a=new i(fe.data.inviter));var s=new i(fe.data.invitee);if(n.sb.currentUser&&s.userId===n.sb.currentUser.userId&&(e.invitedAt=0,e.myMemberState="none",e.isPublic||l.removeCachedChannel(fe.channelUrl)),e.isSuper||e.isBroadcast){var o=fe.data.hasOwnProperty("member_count")?fe.data.member_count:null,u=fe.data.hasOwnProperty("joined_member_count")?fe.data.joined_member_count:null;e.setLatestMemberCount(o,u,U.ts)}else e.removeMember(s);for(var c in n.sb.currentUser&&s.userId!==n.sb.currentUser.userId&&(l.cachedChannels[e.url]=e),n.sb.channelHandlers)n.sb.channelHandlers[c].onUserDeclinedInvitation(e,a,s)}}));break;case se.CATEGORY_TYPING_START:case se.CATEGORY_TYPING_END:l.getChannel(fe.channelUrl,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)O.debug("Discard command",S.command,fe.category);else{var a=new i(fe.data);for(var s in fe.category===se.CATEGORY_TYPING_START?e.updateTypingStatus(a,!0):e.updateTypingStatus(a,!1),n.sb.channelHandlers)n.sb.channelHandlers[s].onTypingStatusUpdated(e)}}));break;case se.CATEGORY_CHANNEL_ENTER:case se.CATEGORY_CHANNEL_EXIT:u.getChannel(fe.channelUrl,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)O.debug("Discard command",S.command,fe.category);else{fe.data.hasOwnProperty("participant_count")&&(e.participantCount=fe.data.participant_count);var a=new i(fe.data);if(fe.category===se.CATEGORY_CHANNEL_ENTER)for(var s in n.sb.channelHandlers)n.sb.channelHandlers[s].onUserEntered(e,a);else for(var o in n.sb.channelHandlers)n.sb.channelHandlers[o].onUserExited(e,a)}}));break;case se.CATEGORY_USER_CHANNEL_MUTE:case se.CATEGORY_USER_CHANNEL_UNMUTE:fe.isOpenChannel()?u.getChannel(fe.channelUrl,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)O.debug("Discard command",S.command,fe.category);else{var a=new i(fe.data);if(fe.category===se.CATEGORY_USER_CHANNEL_MUTE)for(var s in n.sb.channelHandlers)n.sb.channelHandlers[s].onUserMuted(e,a);else for(var o in n.sb.channelHandlers)n.sb.channelHandlers[o].onUserUnmuted(e,a)}})):l.getChannel(fe.channelUrl,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)O.debug("Discard command",S.command,fe.category);else{var a=new i(fe.data);if(n.sb.currentUser&&a.userId===n.sb.currentUser.userId&&(e.myMutedState=fe.category===se.CATEGORY_USER_CHANNEL_MUTE?"muted":"unmuted"),fe.category===se.CATEGORY_USER_CHANNEL_MUTE)for(var s in n.sb.channelHandlers)n.sb.channelHandlers[s].onUserMuted(e,a);else for(var o in n.sb.channelHandlers)n.sb.channelHandlers[o].onUserUnmuted(e,a)}}));break;case se.CATEGORY_USER_CHANNEL_BAN:case se.CATEGORY_USER_CHANNEL_UNBAN:fe.isOpenChannel()?u.getChannel(fe.channelUrl,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)O.debug("Discard command",S.command,fe.category);else{var a=new i(fe.data);if(fe.category===se.CATEGORY_USER_CHANNEL_BAN)for(var s in n.sb.currentUser&&a.userId===n.sb.currentUser.userId&&(delete u.enteredChannels[fe.channelUrl],n.cls.FileMessageQueue.delete(fe.channelUrl)),n.sb.channelHandlers)n.sb.channelHandlers[s].onUserBanned(e,a);else for(var o in n.sb.channelHandlers)n.sb.channelHandlers[o].onUserUnbanned(e,a)}})):l.getChannel(fe.channelUrl,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)O.debug("Discard command",S.command,fe.category);else{var a=new i(fe.data);if(fe.category===se.CATEGORY_USER_CHANNEL_BAN){if(n.sb.currentUser&&a.userId===n.sb.currentUser.userId&&(e.isPublic||l.removeCachedChannel(fe.channelUrl),e.myMemberState="none",e.invitedAt=0,e._setGroupChannelUnreadCount(0,0)),e.isSuper||e.isBroadcast){var s=fe.data.hasOwnProperty("member_count")?fe.data.member_count:null,o=fe.data.hasOwnProperty("joined_member_count")?fe.data.joined_member_count:null;e.setLatestMemberCount(s,o,U.ts)}else e.removeMember(a),e.updateJoinedMemberCount();for(var u in n.sb.channelHandlers)n.sb.channelHandlers[u].onUserBanned(e,a)}else for(var c in n.sb.channelHandlers)n.sb.channelHandlers[c].onUserUnbanned(e,a)}}));break;case se.CATEGORY_CHANNEL_FREEZE:case se.CATEGORY_CHANNEL_UNFREEZE:fe.isOpenChannel()?u.getChannel(fe.channelUrl,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)O.debug("Discard command",S.command,fe.category);else if(e.isFrozen=fe.data.freeze,u.cachedChannels[e.url]=e,fe.category===se.CATEGORY_CHANNEL_FREEZE)for(var i in n.sb.channelHandlers)n.sb.channelHandlers[i].onChannelFrozen(e);else for(var a in n.sb.channelHandlers)n.sb.channelHandlers[a].onChannelUnfrozen(e)})):l.getChannel(fe.channelUrl,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)O.debug("Discard command",S.command,fe.category);else if(e.isFrozen=fe.data.freeze,l.cachedChannels[e.url]=e,fe.category===se.CATEGORY_CHANNEL_FREEZE)for(var i in n.sb.channelHandlers)n.sb.channelHandlers[i].onChannelFrozen(e);else for(var a in n.sb.channelHandlers)n.sb.channelHandlers[a].onChannelUnfrozen(e)}));break;case se.CATEGORY_CHANNEL_DELETED:for(var pe in fe.isGroupChannel()?l.removeCachedChannel(fe.channelUrl):u.removeCachedChannel(fe.channelUrl),this.sb.channelHandlers)this.sb.channelHandlers[pe].onChannelDeleted(fe.channelUrl,fe.isGroupChannel()?"group":"open");break;case se.CATEGORY_CHANNEL_PROP_CHANGED:fe.isOpenChannel()?u.getChannelWithoutCache(fe.channelUrl,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)O.debug("Discard command",S.command,fe.category);else for(var i in n.sb.channelHandlers)n.sb.channelHandlers[i].onChannelChanged(e)})):l.getChannelWithoutCache(fe.channelUrl,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)O.debug("Discard command",S.command,fe.category);else{var i=e.unreadMessageCount,a=e.unreadMentionCount;for(var s in e.myCountPreference!==l.CountPreference.ALL&&(e.myCountPreference===l.CountPreference.UNREAD_MESSAGE_COUNT_ONLY?a=0:e.myCountPreference===l.CountPreference.UNREAD_MENTION_COUNT_ONLY?i=0:a=i=0),e._setGroupChannelUnreadCount(i,a),n.sb.channelHandlers)n.sb.channelHandlers[s].onChannelChanged(e)}}));break;case se.CATEGORY_CHANNEL_META_DATA_CHANGED:case se.CATEGORY_CHANNEL_META_COUNTERS_CHANGED:var ge=fe.data.hasOwnProperty("created"),ye=fe.data.hasOwnProperty("updated"),me=fe.data.hasOwnProperty("deleted");fe.isOpenChannel()?u.getChannel(fe.channelUrl,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)O.debug("Discard command",S.command,fe.category);else for(var i in n.sb.channelHandlers){var a=n.sb.channelHandlers[i];fe.category===se.CATEGORY_CHANNEL_META_DATA_CHANGED?(ge&&a.onMetaDataCreated(e,fe.data.created),ye&&a.onMetaDataUpdated(e,fe.data.updated),me&&a.onMetaDataDeleted(e,fe.data.deleted)):(ge&&a.onMetaCountersCreated(e,fe.data.created),ye&&a.onMetaCountersUpdated(e,fe.data.updated),me&&a.onMetaCountersDeleted(e,fe.data.deleted))}})):l.getChannel(fe.channelUrl,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)O.debug("Discard command",S.command,fe.category);else for(var i in n.sb.channelHandlers){var a=n.sb.channelHandlers[i];fe.category===se.CATEGORY_CHANNEL_META_DATA_CHANGED?(ge&&a.onMetaDataCreated(e,fe.data.created),ye&&a.onMetaDataUpdated(e,fe.data.updated),me&&a.onMetaDataDeleted(e,fe.data.deleted)):(ge&&a.onMetaCountersCreated(e,fe.data.created),ye&&a.onMetaCountersUpdated(e,fe.data.updated),me&&a.onMetaCountersDeleted(e,fe.data.deleted))}}));break;case se.CATEGORY_CHANNEL_HIDE:case se.CATEGORY_CHANNEL_UNHIDE:l.getChannel(fe.channelUrl,k.INTERNAL_CALL,(function(e,t){if(n.sb.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t)O.debug("Discard command",S.command,fe.category);else if(fe.category===se.CATEGORY_CHANNEL_HIDE)for(var i in e.isHidden=!0,fe.data&&(fe.data.hasOwnProperty("allow_auto_unhide")&&(e.hiddenState=fe.data.allow_auto_unhide?l.HiddenState.HIDDEN_ALLOW_AUTO_UNHIDE:l.HiddenState.HIDDEN_PREVENT_AUTO_UNHIDE),fe.data.hasOwnProperty("hide_previous_messages")&&fe.data.hide_previous_messages&&e._setGroupChannelUnreadCount(0,0)),U.hasOwnProperty("ts_message_offset")&&(e._messageOffsetTimestamp=U.ts_message_offset),l.cachedChannels[e.url]=e,n.sb.channelHandlers)n.sb.channelHandlers[i].onChannelHidden(e);else for(var a in e.isHidden=!1,e.hiddenState=l.HiddenState.UNHIDDEN,l.cachedChannels[e.url]=e,n.sb.channelHandlers)n.sb.channelHandlers[a].onChannelChanged(e)}))}break;case"USEV":var _e=new se(U);switch(_e.category){case oe.CATEGORY_USER_BLOCK:case oe.CATEGORY_USER_UNBLOCK:var ve=_e.data.blocker.user_id,Ee=_e.data.blockee.user_id;Object.keys(l.cachedChannels).forEach((function(e){var t=l.cachedChannels[e];try{n.sb.currentUser&&(n.sb.currentUser.userId===ve?t.memberMap[Ee].isBlockedByMe=_e.category===oe.CATEGORY_USER_BLOCK:n.sb.currentUser.userId===Ee&&(t.memberMap[ve].isBlockingMe=_e.category===oe.CATEGORY_USER_BLOCK))}catch(e){}}));break;case oe.CATEGORY_FRIEND_DISCOVERED:var be=_e.data.friend_discoveries.map((function(e){return new i(e)}));for(var Ce in this.sb.userEventHandlers)this.sb.userEventHandlers[Ce].onFriendsDiscovered(be)}break;case"LEAV":case"JOIN":case"PONG":case"MTIO":case"TPST":case"TPEN":break;default:O.debug("Discard command",S.command)}}}]),e}(),ue={},ce={},de=function(){function e(n){s(this,e),this.channel=n,this.uploadQueue=[],this.messageQueue=[],this.latestTimestampToSendMessage=0,P.get(this._iid).FileMessageQueue.queueMap[n.url]=this}return l(e,[{key:"_handleMessageQueueUpdated",value:function(e){var n=this;switch(O.debug("fileMessageQueue message queue updated: ",this.messageQueue),e){case"add":this.uploadQueue.length<6&&this._moveFirstPendingMessageToUploadQueue();break;case"update":case"remove":if(0<this.messageQueue.length){var t=P.get(this._iid).FileMessageQueue,r=this.messageQueue[0];if(r)if(r.state===t.State.UPLOADED){if(r&&r.state===t.State.UPLOADED){for(r.state=t.State.SENDING,0===this.latestTimestampToSendMessage&&(this.latestTimestampToSendMessage=(new Date).getTime()-200);(new Date).getTime()-this.latestTimestampToSendMessage<200;);this.latestTimestampToSendMessage=(new Date).getTime(),this._sendUploadedMessage(r,(function(e,i){r.state=t.State.SENT,r.error=e||null,r.response=i||null,n._handleMessageQueueUpdated("update")}))}}else r.state===t.State.SENT&&this._finalizeMessage()}}}},{key:"_handleUploadQueueUpdated",value:function(e,n){var t=this;switch(O.debug("fileMessageQueue upload queue updated: ",this.uploadQueue),e){case"add":var r=P.get(this._iid).FileMessageQueue;n.state=r.State.UPLOADING,n.error?(-1<this.messageQueue.map((function(e){return e.requestId})).indexOf(n.requestId)&&(n.state=r.State.SENT,this._handleMessageQueueUpdated("update")),this._finalizeUpload(n.requestId)):this._uploadFile(n,(function(e){n.error&&n.state===r.State.SENT||(n.state=r.State.UPLOADED),n.fileInfo=e,t._handleMessageQueueUpdated("update"),t._finalizeUpload(n.requestId)}));break;case"update":break;case"remove":this.uploadQueue.length<6&&this._moveFirstPendingMessageToUploadQueue()}}},{key:"_moveFirstPendingMessageToUploadQueue",value:function(){var e=P.get(this._iid).FileMessageQueue,n=this.messageQueue.filter((function(n){return n.state===e.State.PENDING}));if(0<n.length){var t=n[0];this.uploadQueue.push(t),this._handleUploadQueueUpdated("add",t)}}},{key:"_sendUploadedMessage",value:function(e,n){var t=P.get(this._iid),r=t.Command,i=t.FileMessage,a=e.fileInfo,s=r.bFile(c(c({},a),{},{requestId:e.requestId,channelUrl:this.channel.url,url:a.file,metaArrays:a.metaArrays})),o=Un.getInstance(this._iid),l=w.get(this._iid);o.getConnectionState()!==o.ConnectionState.OPEN&&o.currentUser&&!o.connecting?l.container.apiClient.sendFileMessage(c(c({channelUrl:this.channel.url,isOpenChannel:this.channel.isOpenChannel()},a),{},{fileUrl:a.file,fileName:a.name,fileSize:a.size,fileType:a.type,metaArrays:a.metaArrays}),(function(e,t){var r=new i(e?s.getJsonElement():t);e&&(r.requestedMentionUserIds=a.mentionedUserIds),n(e,r)})):o.sendCommand(s,(function(e,t){if(o.getErrorFirstCallback()){var r=[e,t];t=r[0],e=r[1]}if(t){var l=new i(s.getJsonElement());l.requestedMentionUserIds=a.mentionedUserIds,n(t,l)}else{var u=new i(e.getJsonElement());n(null,u)}}))}},{key:"_uploadFile",value:function(e,n){var t=e.fileInfo,r=e.pendingMessage;if("string"!=typeof t.file&&t.file){var i=P.get(this._iid).FileMessageQueue;w.get(this._iid).container.apiClient.uploadFile(c(c({},t),{},{fileType:t.type,channelUrl:this.channel.url,reqId:r?r.reqId:null}),(function(r,s){if(r)e.state=i.State.SENT,e.error=r,e.response=null,n(t);else{var o="object"===a(s)?s:JSON.parse(s);t.file=o.url,t.thumbnailSizes=o.hasOwnProperty("thumbnails")?o.thumbnails:[],t.requireAuth=!!o.hasOwnProperty("require_auth")&&o.require_auth,n(t)}}))}else t.thumbnailSizes=[],t.requireAuth=!1,n(t)}},{key:"_finalizeUpload",value:function(e){var n=this.uploadQueue.map((function(e){return e.requestId})).indexOf(e);if(-1<n){var t=this.uploadQueue.splice(n,1);0<t.length&&this._handleUploadQueueUpdated("remove",t[0])}}},{key:"_finalizeMessage",value:function(){var e=w.get(this._iid).container.isErrorFirstInCallback,n=Un.getInstance(this._iid),t=P.get(this._iid),r=(t.GroupChannel,t.BaseMessage,t.FileMessageQueue),i=this.messageQueue[0];if(i&&i.state===r.State.SENT){i.state=r.State.DONE;var a=i.response,s=i.error,o=i.fileInfo.callback;if(a&&!s){var l=n.currentUser;if(l&&a._sender&&l.userId===a._sender.userId&&(l.nickname!==a._sender.nickname&&(l.nickname=a._sender.nickname),l.plainProfileUrl!==a._sender.plainProfileUrl&&(l.plainProfileUrl=a._sender.plainProfileUrl)),this.channel.isGroupChannel())for(var u in this.channel.lastMessage=a,n.channelHandlers)n.channelHandlers[u].onChannelChanged(this.channel);return e?o(null,a):o(a,null),this.messageQueue.shift(),void this._handleMessageQueueUpdated("remove")}s&&(a=i.pendingMessage)&&(s.code!==T.INVALID_PARAMETER?(a.requestState=n.MessageRequestState.FAILED,a.sendingStatus=n.MessageSendingStatus.FAILED,s.code!==T.FILE_UPLOAD_CANCEL_FAILED&&s.code!==T.REQUEST_CANCELED||(a.sendingStatus=n.MessageSendingStatus.CANCELED),a.requestedMentionUserIds=i.fileInfo.mentionedUserIds,a.errorCode=s.code):a=null),e?o(s,a):o(a,s),this.messageQueue.shift(),this._handleMessageQueueUpdated("remove")}}},{key:"addJob",value:function(e){this.messageQueue.push(e),this._handleMessageQueueUpdated("add")}},{key:"cancelUploadItemByRequestId",value:function(e,n){this._finalizeUpload(e);var t=this.messageQueue.map((function(e){return e.requestId})).indexOf(e);if(-1<t){var r=P.get(this._iid).FileMessageQueue,i=this.messageQueue[t];!i||i.state!==r.State.UPLOADING&&i.state!==r.State.PENDING||(i.state=r.State.SENT,i.response=null,i.error=new T("Uploading has been completed or canceled.",T.FILE_UPLOAD_CANCEL_FAILED),this._handleMessageQueueUpdated("update"));var a=r.uploadRequest[e];if(a)return a.cancel("Upload has been canceled."),n(null,!0),!0;n(new T("Uploading has been completed or canceled.",T.FILE_UPLOAD_CANCEL_FAILED),!1)}else n(new T("Uploading has been completed or canceled.",T.FILE_UPLOAD_CANCEL_FAILED),!1);return!1}}],[{key:"getByChannelUrl",value:function(e){return P.get(this._iid).FileMessageQueue.queueMap[e]}},{key:"create",value:function(e){var n=P.get(this._iid).FileMessageQueue;return n.queueMap.hasOwnProperty(e.url)||(n.queueMap[e.url]=new n(e)),n.queueMap[e.url]}},{key:"delete",value:function(e){var n=P.get(this._iid).FileMessageQueue;n.queueMap.hasOwnProperty(e)&&delete n.queueMap[e]}},{key:"clear",value:function(){ce[this._iid]={}}},{key:"State",get:function(){return{PENDING:"pending",UPLOADING:"uploading",UPLOADED:"uploaded",SENDING:"sending",SENT:"sent",DONE:"done"}}},{key:"queueMap",get:function(){return ce[this._iid]||(ce[this._iid]={}),ce[this._iid]}},{key:"uploadRequest",get:function(){return ue[this._iid]||(ue[this._iid]={}),ue[this._iid]}}]),e}();function fe(){s(this,fe),this.channelCustomTypesFilter=[],this.superChannelFilter=Se.SuperChannelFilter.ALL}function he(){s(this,he),this.onReconnectStarted=function(){},this.onReconnectSucceeded=function(){},this.onReconnectFailed=function(){}}function pe(){s(this,pe),this.onFriendsDiscovered=function(e){},this.onTotalUnreadMessageCountUpdated=function(e,n){}}function ge(){s(this,ge),this.onMessageReceived=function(e,n){},this.onMessageUpdated=function(e,n){},this.onMessageDeleted=function(e,n){},this.onReadReceiptUpdated=function(e){},this.onReactionUpdated=function(e,n){},this.onDeliveryReceiptUpdated=function(e){},this.onTypingStatusUpdated=function(e){},this.onUserJoined=function(e,n){},this.onUserLeft=function(e,n){},this.onOperatorUpdated=function(e,n){},this.onUserEntered=function(e,n){},this.onUserExited=function(e,n){},this.onUserMuted=function(e,n){},this.onUserUnmuted=function(e,n){},this.onUserBanned=function(e,n){},this.onUserUnbanned=function(e,n){},this.onChannelFrozen=function(e){},this.onChannelUnfrozen=function(e){},this.onChannelChanged=function(e){},this.onChannelDeleted=function(e,n){},this.onUserReceivedInvitation=function(e,n,t){},this.onUserDeclinedInvitation=function(e,n,t){},this.onMetaDataCreated=function(e,n){},this.onMetaDataUpdated=function(e,n){},this.onMetaDataDeleted=function(e,n){},this.onMetaCountersCreated=function(e,n){},this.onMetaCountersUpdated=function(e,n){},this.onMetaCountersDeleted=function(e,n){},this.onChannelHidden=function(e){},this.onMentionReceived=function(e,n){},this.onThreadInfoUpdated=function(e,n){}}function ye(e){if(s(this,ye),e){var n=P.get(this._iid),t=n.User,r=n.BaseChannel;this.reader=new t(e.user),this.timestamp=parseInt(e.ts),this.channelUrl=e.hasOwnProperty("channel_url")?String(e.channel_url):"",this.channelType=e.hasOwnProperty("channel_type")?String(e.channel_type):r.CHANNEL_TYPE_GROUP}}de.Job=function e(n){var t=n.fileInfo,r=n.requestId,i=n.pendingMessage,a=n.state,o=n.error,l=void 0===o?null:o,u=n.response,c=void 0===u?null:u;s(this,e),this.fileInfo=t,this.requestId=r,this.pendingMessage=i,this.state=a||de.State.PENDING,this.error=l,this.response=c};var me=function(){function e(){s(this,e)}return l(e,null,[{key:"create",value:function(){return"".concat(parseInt(1e5*Math.random()),"-").concat((new Date).getTime())}}]),e}(),_e={},ve={},Ee=new WeakMap,be=new WeakMap,Ce=new WeakMap,Se=function(){d(n,ae);var e=_(n);function n(t){var r;return s(this,n),(r=e.call(this,t)).channelType=ae.CHANNEL_TYPE_GROUP,r.isDistinct=!1,r.isSuper=!1,r.isBroadcast=!1,r.isPublic=!1,r.unreadMessageCount=0,r.inviter=null,r.members=[],r.memberMap={},r.lastMessage=null,r.memberCount=0,r.joinedMemberCount=0,r.cachedReadReceiptStatus={},r.cachedDeliveryReceiptStatus=null,r.myPushTriggerOption=n.PushTriggerOption.DEFAULT,r.isPushEnabled,r.isHidden=!1,r.hiddenState=n.HiddenState.UNHIDDEN,r.isDiscoverable=!0,r.myLastRead=0,r.messageSurvivalSeconds=-1,r._messageOffsetTimestamp=0,r._cachedLastDeliveredReceipt={sentAt:0,timeout:null},Ee.set(m(r),{}),be.set(m(r),{start:0,end:0}),Ce.set(m(r),0),t&&r._update(t),r}return l(n,[{key:"_setGroupChannelUnreadCount",value:function(e,n){try{if("number"==typeof e&&0<=e)if("all"===this.myCountPreference||"unread_message_count_only"===this.myCountPreference)if(this.isSuper||this.isBroadcast){var t=w.get(this._iid).container.maxUnreadCountOfSuperGroupChannel;this.unreadMessageCount=t<=e?t:e}else this.unreadMessageCount=e;else this.unreadMessageCount=0;"number"==typeof n&&0<=n&&("all"===this.myCountPreference||"unread_mention_count_only"===this.myCountPreference?this.unreadMentionCount=n:this.unreadMentionCount=0)}catch(e){}}},{key:"_update",value:function(e){var n=P.get(this._iid),t=n.BaseChannel,r=n.GroupChannel,i=n.User,s=n.Member;if(this.isAccessCodeRequired=!!e.is_access_code_required&&e.is_access_code_required,this.isDistinct=!!e.is_distinct&&e.is_distinct,this.isPushEnabled=!!e.is_push_enabled&&e.is_push_enabled,this.isHidden=!!e.hasOwnProperty("is_hidden")&&e.is_hidden,this.myPushTriggerOption=e.push_trigger_option?e.push_trigger_option:r.PushTriggerOption.DEFAULT,this.myCountPreference=e.hasOwnProperty("count_preference")?e.count_preference:r.CountPreference.ALL,this.unreadMessageCount=0,this.unreadMentionCount=0,this._setGroupChannelUnreadCount(parseInt(e.unread_message_count),parseInt(e.unread_mention_count)),e.hasOwnProperty("read_receipt"))for(var o in this.cachedReadReceiptStatus={},e.read_receipt){var l=e.read_receipt[o];this.updateReadReceipt(o,parseInt(l))}if(e.hasOwnProperty("delivery_receipt")&&"object"===a(e.delivery_receipt)&&null!==e.delivery_receipt)for(var u in this.cachedDeliveryReceiptStatus||(this.cachedDeliveryReceiptStatus={}),e.delivery_receipt){var c=e.delivery_receipt[u];this.updateDeliveryReceipt(u,parseInt(c))}if(e.hasOwnProperty("user_last_read")&&"number"==typeof e.user_last_read?this.myLastRead=e.user_last_read:this.myLastRead=0,e.hasOwnProperty("members")){this.members=[],this.memberMap={};for(var d=0;d<e.members.length;d++){var f=new s(e.members[d]);this.members.push(f),this.memberMap[f.userId]=f}}this.myMemberState=e.member_state||"none",this.myRole=e.my_role||r.Role.NONE,e.hasOwnProperty("is_muted")?"string"==typeof e.is_muted?this.myMutedState=e.is_muted:"boolean"==typeof e.is_muted?this.myMutedState=e.is_muted?"muted":"unmuted":this.myMutedState="unmuted":this.myMutedState="unmuted",e.hasOwnProperty("member_count")&&(this.memberCount=parseInt(e.member_count)),e.hasOwnProperty("joined_member_count")&&(this.joinedMemberCount=parseInt(e.joined_member_count)),e.hasOwnProperty("last_message")&&"object"===a(e.last_message)&&e.last_message?e.last_message instanceof te?this.lastMessage=e.last_message:this.lastMessage=t.buildMessage(e.last_message,this):this.lastMessage=null,e.hasOwnProperty("inviter")&&null!==e.inviter&&"object"===a(e.inviter)&&0<Object.keys(e.inviter).length?this.inviter=new i(e.inviter):this.inviter=null,this.invitedAt=e.invited_at||0,e.hasOwnProperty("is_super")&&"boolean"==typeof e.is_super?this.isSuper=e.is_super:this.isSuper=!1,e.hasOwnProperty("is_broadcast")&&"boolean"==typeof e.is_broadcast?this.isBroadcast=e.is_broadcast:this.isBroadcast=!1,e.hasOwnProperty("is_public")&&"boolean"==typeof e.is_public?this.isPublic=e.is_public:this.isPublic=!1,e.hasOwnProperty("hidden_state")?this.hiddenState=e.hidden_state:this.hiddenState=r.HiddenState.UNHIDDEN,e.hasOwnProperty("is_discoverable")&&"boolean"==typeof e.is_discoverable?this.isDiscoverable=e.is_discoverable:this.isDiscoverable=this.isPublic,e.hasOwnProperty("ts_message_offset")&&(this._messageOffsetTimestamp=e.ts_message_offset),e.hasOwnProperty("message_survival_seconds")&&"number"==typeof e.message_survival_seconds&&(this.messageSurvivalSeconds=e.message_survival_seconds)}},{key:"addMember",value:function(e,n){var t=1<arguments.length&&void 0!==n?n:0;if(!this.isSuper&&!this.isBroadcast){var r=P.get(this._iid).Member,i=this.removeMember(e);i&&i.state===r.JOINED&&(e.state=r.JOINED),this.memberMap[e.userId]=e,this.members.push(e),this.memberCount++,this.updateReadReceipt(e.userId,t),this.updateDeliveryReceipt(e.userId,t)}}},{key:"removeMember",value:function(e){var n=null;if(!this.isSuper&&!this.isBroadcast&&this.memberMap.hasOwnProperty(e.userId)){delete this.memberMap[e.userId];for(var t=0;t<this.members.length;t++){var r=this.members[t];if(r.userId===e.userId){n=r,this.members.splice(t,1);break}}this.memberCount--}return n}},{key:"parse",value:function(e){this._update(e)}},{key:"update",value:function(e){this.__update(e),this._update(e)}},{key:"isIdentical",value:function(e){return e&&this.url===e.url}},{key:"isEqual",value:function(e){return H.deepEqual(this,e)}},{key:"createMemberListQuery",value:function(){return new(P.get(this._iid).MemberListQuery)(this.url)}},{key:"createBannedUserListQuery",value:function(){return new(P.get(this._iid).BannedUserListQuery)({channelUrl:this.url,isOpenChannel:this.isOpenChannel()})}},{key:"refresh",value:function(e){return P.get(this._iid).GroupChannel.getChannelWithoutCache(this.url,e)}},{key:"updateChannel",value:function(){var e=this,n=q.toArray(arguments),t=void 0;"function"==typeof n[n.length-1]&&(t=n.pop());var r=P.get(this._iid),i=r.GroupChannel,a=r.GroupChannelParams;if(n[0]instanceof a&&1===n.length)return Z(this._iid,(function(t){var r=n[0];r.channelUrl=e.url,r._validate()?w.get(e._iid).container.apiClient.updateGroupChannel(c(c({},r),{},{operatorUserIds:r.operatorUserIds}),(function(e,n){var r=null;e||(r=i.upsert(n)),t(e,r)})):t(q.error,null)}),t);if(3===n.length){var s=new a;return s.channelUrl=this.url,s.name=n[0],"string"==typeof n[1]?s.coverUrl=n[1]:s.coverImage=n[1],s.data=n[2],this.updateChannel(s,t)}if(4===n.length){var o=new a;return o.channelUrl=this.url,o.isDistinct=n[0],o.name=n[1],"string"==typeof n[1]?o.coverUrl=n[2]:o.coverImage=n[2],o.data=n[3],this.updateChannel(o,t)}if(5!==n.length)return Z(this._iid,(function(e){return e(q.error,null)}),t);var l=new a;return l.channelUrl=this.url,l.isDistinct=n[0],l.name=n[1],"string"==typeof n[2]?l.coverUrl=n[2]:l.coverImage=n[2],l.data=n[3],l.customType=n[4],this.updateChannel(l,t)}},{key:"invite",value:function(e,n){var t,r=E(q.parse(arguments,[new q({type:"array",constraint:function(e){return 0<e.length&&e.every((function(e){return!!e.userId&&"string"==typeof e.userId}))}}),new q({type:"callback"})]),3);return t=r[0],e=r[1],n=r[2],t?Z(this._iid,(function(e){return e(q.error,null)}),n):this.inviteWithUserIds(e.map((function(e){return e.userId})),n)}},{key:"inviteWithUserIds",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"array",constraint:function(e){return e.every((function(e){return"string"==typeof e}))}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.inviteToGroupChannel({channelUrl:r.url,userIds:e},(function(e,t){var i=null;e||(i=P.get(r._iid).GroupChannel.upsert(t)),n(e,i)}))}),n)}},{key:"acceptInvitation",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"string",optional:!0,defaultValue:null}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.acceptInvitation({channelUrl:r.url,accessCode:e},(function(e,t){var i=null;e||((i=P.get(r._iid).GroupChannel.upsert(t)).myMemberState="joined"),n(e,i)}))}),n)}},{key:"declineInvitation",value:function(e){var n=this;return Z(this._iid,(function(e){w.get(n._iid).container.apiClient.declineInvitation({channelUrl:n.url},(function(t,r){var i=null;if(!t){var a=P.get(n._iid).GroupChannel;(i=a.upsert(r)).myMemberState="none",n.isPublic||a.removeCachedChannel(n.url)}e(t,i)}))}),e)}},{key:"join",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"string",optional:!0,defaultValue:null}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.joinGroupChannel({channelUrl:r.url,accessCode:e},(function(e,t){var i=null;e||((i=P.get(r._iid).GroupChannel.upsert(t)).myMemberState="joined"),n(e,i)}))}),n)}},{key:"leave",value:function(e){var n=this;return Z(this._iid,(function(e){w.get(n._iid).container.apiClient.leaveGroupChannel({channelUrl:n.url},(function(n,t){return e(n,null)}))}),e)}},{key:"muteUser",value:function(e,n,t,r){return this.muteUserWithUserId(e?e.userId:null,n,t,r)}},{key:"muteUserWithUserId",value:function(e,n,t,r){var i,a=this,s=E(q.parse(arguments,[new q({type:"string"}),new q({type:"number",optional:!0,defaultValue:-1,constraint:function(e){return-1<=e}}),new q({type:"string",optional:!0,defaultValue:""}),new q({type:"callback"})]),5);return i=s[0],e=s[1],n=s[2],t=s[3],r=s[4],Z(this._iid,(function(r){i?r(i,null):w.get(a._iid).container.apiClient.muteUser({channelUrl:a.url,userId:e,description:t,seconds:n,isGroupChannel:!0},(function(e,n){r(e,null)}))}),r)}},{key:"unmuteUser",value:function(e,n){return this.unmuteUserWithUserId(e?e.userId:null,n)}},{key:"unmuteUserWithUserId",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"string"}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.unmuteUser({channelUrl:r.url,userId:e,isGroupChannel:!0},(function(e,t){n(e,null)}))}),n)}},{key:"banUser",value:function(e,n,t,r){return this.banUserWithUserId(e?e.userId:null,n,t,r)}},{key:"banUserWithUserId",value:function(e,n,t,r){var i,a=this,s=E(q.parse(arguments,[new q({type:"string"}),new q({type:"number",optional:!0,defaultValue:-1,constraint:function(e){return-1<=e}}),new q({type:"string"}),new q({type:"callback"})]),5);return i=s[0],e=s[1],n=s[2],t=s[3],r=s[4],Z(this._iid,(function(r){i?r(i,null):w.get(a._iid).container.apiClient.banUser({channelUrl:a.url,userId:e,description:t,seconds:n,isGroupChannel:!0},(function(e,n){r(e,null)}))}),r)}},{key:"unbanUser",value:function(e,n){return this.unbanUserWithUserId(e?e.userId:null,n)}},{key:"unbanUserWithUserId",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"string"}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.unbanUser({channelUrl:r.url,userId:e,isGroupChannel:!0},(function(e,t){n(e,null)}))}),n)}},{key:"updateJoinedMemberCount",value:function(){if(!this.isSuper&&!this.isBroadcast){var e=P.get(this._iid).Member;this.joinedMemberCount=this.members.filter((function(n){return n.state===e.JOINED})).length}}},{key:"setLatestMemberCount",value:function(e,n,t){"number"==typeof e&&"number"==typeof n&&"number"==typeof t&&t>=Ce.get(this)&&(Ce.set(this,t),this.memberCount=e,this.joinedMemberCount=n)}},{key:"hide",value:function(e,n,t){var r,i=this,a=E(q.parse(arguments,[new q({type:"boolean",optional:!0,defaultValue:!1}),new q({type:"boolean",optional:!0,defaultValue:!0}),new q({type:"callback"})]),4);return r=a[0],e=a[1],n=a[2],t=a[3],Z(this._iid,(function(t){r?t(r,null):w.get(i._iid).container.apiClient.hideGroupChannel({channelUrl:i.url,hidePreviousMessages:e,allowAutoUnhide:n},(function(r,a){if(!r){var s=P.get(i._iid).GroupChannel;i.isHidden=!0,i.hiddenState=n?s.HiddenState.HIDDEN_ALLOW_AUTO_UNHIDE:s.HiddenState.HIDDEN_PREVENT_AUTO_UNHIDE,e&&i._setGroupChannelUnreadCount(0,0),a.hasOwnProperty("ts_message_offset")&&(i._messageOffsetTimestamp=a.ts_message_offset),s.cachedChannels[i.url]=i}t(r,a)}))}),t)}},{key:"unhide",value:function(e){var n=this;return Z(this._iid,(function(e){w.get(n._iid).container.apiClient.unhideGroupChannel({channelUrl:n.url},(function(t,r){if(!t){var i=P.get(n._iid).GroupChannel;n.isHidden=!1,n.hiddenState=i.HiddenState.UNHIDDEN,i.cachedChannels[n.url]=n}e(t,r)}))}),e)}},{key:"freeze",value:function(e){var n=this;return Z(this._iid,(function(e){w.get(n._iid).container.apiClient.freeze({channelUrl:n.url,isGroupChannel:!0,freezing:!0},(function(t,r){if(!t){var i=P.get(n._iid).GroupChannel;n.isFrozen=!0,i.cachedChannels[n.url]=n}e(t,null)}))}),e)}},{key:"unfreeze",value:function(e){var n=this;return Z(this._iid,(function(e){w.get(n._iid).container.apiClient.freeze({channelUrl:n.url,isGroupChannel:!0,freezing:!1},(function(t,r){if(!t){var i=P.get(n._iid).GroupChannel;n.isFrozen=!1,i.cachedChannels[n.url]=n}e(t,null)}))}),e)}},{key:"delete",value:function(e){var n=this;return Z(this._iid,(function(e){w.get(n._iid).container.apiClient.deleteGroupChannel({channelUrl:n.url},(function(t,r){t||P.get(n._iid).GroupChannel.removeCachedChannel(n.url),e(t,r)}))}),e)}},{key:"markAsRead",value:function(){var e=this,n=P.get(this._iid).Command,t=Un.getInstance(this._iid),r=n.bRead({channelUrl:this.url});t.sendCommand(r,(function(n,r){if(t.getErrorFirstCallback()){var i=[n,r];r=i[0],n=i[1]}if(!r&&t.currentUser&&(e.updateReadReceipt(t.currentUser.userId,n.getJsonElement().ts),0<e.unreadMessageCount||0<e.unreadMentionCount))for(var a in e._setGroupChannelUnreadCount(0,0),t.channelHandlers)t.channelHandlers[a].onChannelChanged(e)}))}},{key:"getUnreadMemberCount",value:function(e){var n=Un.getInstance(this._iid),t=P.get(this._iid).Member;if(e instanceof te&&!e.isAdminMessage()&&n.currentUser&&!this.isSuper&&!this.isBroadcast){for(var r=0,i=e.createdAt,a=this.members,s=0;s<a.length;s++){var o=a[s];n.currentUser.userId===o.userId||o.state!==t.JOINED||e.sender&&e.sender.userId===o.userId||(this.cachedReadReceiptStatus[o.userId]||0)<i&&r++}return r}return 0}},{key:"getReadReceipt",value:function(e){return this.getUnreadMemberCount(e)}},{key:"markAsDelivered",value:function(){function e(){var e=Un.getInstance(n._iid),t=e.currentUser?e.currentUser.userId:null;w.get(n._iid).container.apiClient.markAsDelivered({channelUrl:n.url,userId:t},(function(e,r){if(e)O.debug(e);else{var i=r.hasOwnProperty("ts")?r.ts:0;n.updateDeliveryReceipt(t,i)}}))}var n=this,t=this._cachedLastDeliveredReceipt;t&&Date.now()-t.sentAt<1e3?(t.timeout&&clearTimeout(t.timeout),t.timeout=setTimeout((function(){t.sentAt=Date.now(),e()}),t.sentAt+1e3-Date.now())):(t.sentAt=Date.now(),e())}},{key:"getUndeliveredMemberCount",value:function(e){var n=Un.getInstance(this._iid),t=P.get(this._iid).Member;if(this.cachedDeliveryReceiptStatus&&e instanceof te&&!e.isAdminMessage()&&n.currentUser&&!this.isSuper&&!this.isBroadcast){var r,i=e.createdAt,a=0,s=function(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=C(e))){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return s=e.done,e},e:function(e){o=!0,a=e},f:function(){try{s||null==t.return||t.return()}finally{if(o)throw a}}}}(this.members);try{for(s.s();!(r=s.n()).done;){var o=r.value;n.currentUser.userId===o.userId||o.state!==t.JOINED||e.sender&&e.sender.userId===o.userId||this.cachedDeliveryReceiptStatus[o.userId]<i&&a++}}catch(e){s.e(e)}finally{s.f()}return a}return 0}},{key:"getDeliveryReceipt",value:function(e){return this.getUndeliveredMemberCount(e)}},{key:"getReadMembers",value:function(e,n){var t=1<arguments.length&&void 0!==n&&n,r=Un.getInstance(this._iid);if(r.currentUser&&!this.isSuper&&!this.isBroadcast&&e instanceof te&&!e.isAdminMessage()){for(var i=[],a=0;a<this.members.length;a++){var s=this.members[a];(t||s.userId!==r.currentUser.userId&&s.userId!==e.sender.userId)&&(this.cachedReadReceiptStatus[s.userId]||0)>=e.createdAt&&i.push(s)}return i}return[]}},{key:"getUnreadMembers",value:function(e,n){var t=1<arguments.length&&void 0!==n&&n,r=Un.getInstance(this._iid);if(r.currentUser&&!this.isSuper&&!this.isBroadcast&&e instanceof te&&!e.isAdminMessage()){for(var i=[],a=0;a<this.members.length;a++){var s=this.members[a];(t||s.userId!==r.currentUser.userId&&s.userId!==e.sender.userId)&&(this.cachedReadReceiptStatus[s.userId]||0)<e.createdAt&&i.push(s)}return i}return[]}},{key:"getReadStatus",value:function(e){var n=this,t=0<arguments.length&&void 0!==e&&e,r=Un.getInstance(this._iid);if(!r.currentUser||this.isSuper||this.isBroadcast)return{};function i(e){if(!t&&e===r.currentUser.userId)return"continue";var i=n.cachedReadReceiptStatus[e],s=n.members.filter((function(n){return n.userId===e}));a[e]={user:0<s.length?s[0]:null,last_seen_at:parseInt(i)}}var a={};for(var s in this.cachedReadReceiptStatus)i(s);return a}},{key:"updateReadReceipt",value:function(e,n){var t=this.cachedReadReceiptStatus[e];if(!t||t<n){this.cachedReadReceiptStatus[e]=n;var r=Un.getInstance(this._iid);r.currentUser&&e===r.currentUser.userId&&(this.myLastRead=n)}}},{key:"updateDeliveryReceipt",value:function(e,n){if(this.cachedDeliveryReceiptStatus)if(this.cachedDeliveryReceiptStatus.hasOwnProperty(e)){var t=this.cachedDeliveryReceiptStatus[e];(!t||t<n)&&(this.cachedDeliveryReceiptStatus[e]=n)}else this.cachedDeliveryReceiptStatus[e]=n}},{key:"startTyping",value:function(){var e=Un.getInstance(this._iid),n=(new Date).getTime(),t=e.Options.typingIndicatorThrottle;("number"!=typeof t||t<1e3||9e3<t)&&(t=1e3);var r=be.get(this);if(n-r.start>=t){r.end=0,r.start=n;var i=P.get(this._iid).Command.bTypeStart({channelUrl:this.url,time:r.start});e.sendCommand(i,null)}}},{key:"endTyping",value:function(){var e=Un.getInstance(this._iid),n=(new Date).getTime(),t=e.Options.typingIndicatorThrottle;("number"!=typeof t||t<1e3||9e3<t)&&(t=1e3);var r=be.get(this);if(n-r.end>=t){r.start=0,r.end=n;var i=P.get(this._iid).Command.bTypeEnd({channelUrl:this.url,time:r.end});e.sendCommand(i,null)}}},{key:"invalidateTypingStatus",value:function(){var e=Ee.get(this),n=(new Date).getTime(),t=!1;for(var r in e)1e4<=n-e[r]&&(delete e[r],t=!0);return t}},{key:"getTypingMembers",value:function(){var e=Ee.get(this),n=[];for(var t in e){var r=this.memberMap[t];r&&n.push(r)}return n}},{key:"updateTypingStatus",value:function(e,n){var t=Ee.get(this);n?t[e.userId]=(new Date).getTime():delete t[e.userId]}},{key:"isTyping",value:function(){var e=Ee.get(this);return 0!==Object.keys(e).length}},{key:"registerScheduledUserMessage",value:function(e,n){var t,r=this,i=P.get(this._iid),a=i.ScheduledUserMessage,s=i.ScheduledUserMessageParams,o=E(q.parse(arguments,[new q({type:s,constraint:function(e){return"string"==typeof e.message&&"string"==typeof e._getScheduleString()}}),new q({type:"callback"})]),3);return t=o[0],e=o[1],n=o[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.registerScheduledUserMessage({groupChannelParams:e,channelUrl:r.url,isOpenChannel:!1},(function(e,t){var i=null;if(!e){i=new a(t);var s=Un.getInstance(r._iid).currentUser;s&&i._sender&&s.userId===i._sender.userId&&(s.nickname=i._sender.nickname,s.plainProfileUrl=i._sender.plainProfileUrl,s.metaData=i._sender.metaData)}n(e,i)}))}),n)}},{key:"getPushPreference",value:function(e){var n=this;return Z(this._iid,(function(e){w.get(n._iid).container.apiClient.getMyPushTriggerOption({channelUrl:n.url},(function(t,r){var i=null;if(!t){try{i=r.enable}catch(t){i=!1}n.isPushEnabled=i}e&&e(t,i)}))}),e)}},{key:"setPushPreference",value:function(e,n){var t=this;return Z(this._iid,(function(n){var r=P.get(t._iid).GroupChannel;w.get(t._iid).container.apiClient.setMyPushTriggerOption({channelUrl:t.url,enable:e},(function(e,i){e||(t.isPushEnabled=i.enable,t.isPushEnabled||(t.myPushTriggerOption=r.PushTriggerOption.OFF)),n(e,i)}))}),n)}},{key:"getMyPushTriggerOption",value:function(e){var t=this;return Z(this._iid,(function(e){w.get(t._iid).container.apiClient.getMyPushTriggerOption({channelUrl:t.url},(function(r,i){var a=null;if(!r){try{a=i.push_trigger_option||n.PushTriggerOption.DEFAULT}catch(r){O.debug(r)}t.myPushTriggerOption=a}e(r,a)}))}),e)}},{key:"setMyPushTriggerOption",value:function(e,n){var t,r=this,i=P.get(this._iid).GroupChannel,a=E(q.parse(arguments,[new q({type:i.PushTriggerOption}),new q({type:"callback"})]),3);return t=a[0],e=a[1],n=a[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.setMyPushTriggerOption({channelUrl:r.url,pushTriggerOption:e},(function(e,t){var i=null;if(!e){try{i=t.push_trigger_option}catch(e){O.debug(e)}r.myPushTriggerOption=i}n(e,i)}))}),n)}},{key:"setMyCountPreference",value:function(e,n){var t,r=this,i=P.get(this._iid).GroupChannel,a=E(q.parse(arguments,[new q({type:i.CountPreference}),new q({type:"callback"})]),3);return t=a[0],e=a[1],n=a[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.setMyCountPreference({channelUrl:r.url,countPreference:e},(function(e,t){var a=null;e||(a=r.myCountPreference=t.count_preference,r._setGroupChannelUnreadCount(r.unreadMessageCount,r.unreadMentionCount),i.cachedChannels[r.url]=r),n(e,a)}))}),n)}},{key:"resetMyHistory",value:function(e){var n=this;return Z(this._iid,(function(e){w.get(n._iid).container.apiClient.resetMyHistory({channelUrl:n.url},(function(t,r){if(!t&&r.hasOwnProperty("ts_message_offset")){var i=P.get(n._iid).GroupChannel;n._messageOffsetTimestamp=r.ts_message_offset,i.cachedChannels[n.url]=n}e(t,r)}))}),e)}},{key:"messageOffsetTimestamp",get:function(){return this._messageOffsetTimestamp}}],[{key:"buildFromSerializedData",value:function(e){var n,t=P.get(this._iid),r=t.User,i=t.Member,s=t.GroupChannel,o=t.BaseMessage,l=t.UserMessage,u=t.FileMessage,d=t.AdminMessage,f=X.deserialize(e);return new s({channel_url:f.url,name:f.name,cover_url:f.coverUrl,data:f.data,custom_type:f.customType,invited_at:f.invitedAt,created_at:f.createdAt/1e3,is_access_code_required:f.isAccessCodeRequired,is_distinct:f.isDistinct,is_super:f.isSuper,is_broadcast:f.isBroadcast,is_public:f.isPublic,is_discoverable:f.isDiscoverable,is_hidden:f.isHidden,is_ephemeral:f.isEphemeral,is_muted:f.myMutedState,is_push_enabled:f.isPushEnabled,freeze:f.isFrozen,unread_message_count:f.unreadMessageCount,unread_mention_count:f.unreadMentionCount,push_trigger_option:f.myPushTriggerOption,count_preference:f.myCountPreference,hidden_state:f.hiddenState,member_count:f.memberCount,joined_member_count:f.joinedMemberCount,member_state:f.myMemberState,my_role:f.myRole,user_last_read:f.myLastRead,ts_message_offset:f.messageOffsetTimestamp,message_survival_seconds:f.messageSurvivalSeconds,read_receipt:f.cachedReadReceiptStatus,delivery_receipt:f.cachedDeliveryReceiptStatus,members:f.members.map((function(e){return i.objectify(c({user:e},e))})),last_message:null!=(n=f.lastMessage)&&"object"===a(n)?n.messageType===o.MESSAGE_TYPE_USER?new l(l.objectify(c(c({},n),{},{channel:{url:n.channelUrl,channelType:n.channelType},user:n.sender,mentionedUsers:n.mentionedUsers}))):n.messageType===o.MESSAGE_TYPE_FILE?new u(u.objectify(c(c({},n),{},{channel:{url:n.channelUrl,channelType:n.channelType},user:n.sender,mentionedUsers:n.mentionedUsers}))):new d(d.objectify(c(c({},n),{},{channel:{url:n.channelUrl,channelType:n.channelType},mentionedUsers:n.mentionedUsers}))):null,created_by:null!==f.creator&&void 0!==f.creator&&"object"===a(f.creator)?r.objectify(f.creator):null,inviter:null!==f.inviter&&void 0!==f.inviter&&"object"===a(f.inviter)?r.objectify(f.inviter):null})}},{key:"upsert",value:function(e){var n=P.get(this._iid).GroupChannel,t=new n(e);if(n.cachedChannels.hasOwnProperty(t.url)){if(t.isEphemeral){var r=n.cachedChannels[t.url];e.last_message=r.lastMessage,e.unread_message_count=r.unreadMessageCount}n.cachedChannels[t.url].update(e)}else n.cachedChannels[t.url]=t;return n.cachedChannels[t.url]}},{key:"removeCachedChannel",value:function(e){var n=P.get(this._iid),t=n.GroupChannel,r=n.FileMessageQueue;t.cachedChannels[e]&&delete t.cachedChannels[e],r.delete(e)}},{key:"clearCache",value:function(){_e[this._iid]={},P.get(this._iid).FileMessageQueue.clear()}},{key:"getChannel",value:function(e,n){var t,r,i=E(q.parse(arguments,[new q({type:"string"}),new q({type:"string",optional:!0,nullable:!0,defaultValue:null}),new q({type:"callback"})]),4);if(t=i[0],e=i[1],r=i[2],n=i[3],t)return Z(this._iid,(function(e){e(t,null)}),n);var a=P.get(this._iid).GroupChannel;return a.cachedChannels[e]?Z(this._iid,(function(n){n(null,a.cachedChannels[e])}),n):a.getChannelWithoutCache(e,r,n)}},{key:"getChannelWithoutCache",value:function(e,n){var t,r,i=this,a=E(q.parse(arguments,[new q({type:"string"}),new q({type:"string",optional:!0,nullable:!0,defaultValue:null}),new q({type:"callback"})]),4);return t=a[0],e=a[1],r=a[2],n=a[3],Z(this._iid,(function(n){t?n(t,null):w.get(i._iid).container.apiClient.getGroupChannel({channelUrl:e,internalCall:r,showMember:!0},(function(e,t){var r=null;e||(r=i.upsert(t)),n(e,r)}))}),n)}},{key:"createDistinctChannelIfNotExist",value:function(e,n){var t,r=this,i=P.get(this._iid).GroupChannelParams,a=E(q.parse(arguments,[new q({type:i,constraint:function(e){return e._validate()}}),new q({type:"callback"})]),3);return t=a[0],e=a[1],n=a[2],Z(this._iid,(function(n){t?n(t,null):(e.isPublic||(e.accessCode=null),w.get(r._iid).container.apiClient.createGroupChannel(c(c({},e),{},{isDistinct:!0}),(function(e,t){var i=null;if(!e){var a=P.get(r._iid).GroupChannel;i={channel:new a(t),isCreated:t.is_created},a.cachedChannels[i.channel.url]=i.channel}n(e,i)})))}),n)}},{key:"createChannel",value:function(){var e=this,n=q.toArray(arguments),t=void 0;"function"==typeof n[n.length-1]&&(t=n.pop());var r=P.get(this._iid),i=r.GroupChannel,a=r.GroupChannelParams;if(n[0]instanceof a&&1===n.length)return Z(this._iid,(function(t){var r=n[0];r.isPublic||(r.accessCode=null),r._validate()?w.get(e._iid).container.apiClient.createGroupChannel(r,(function(e,n){var r=null;e||(r=new i(n),i.cachedChannels[r.url]=r),t(e,r)})):t(q.error,null)}),t);if(Array.isArray(n[0])){var s=new a;switch(n.length){case 1:s.addUsers(n[0]);break;case 2:s.addUsers(n[0]),s.isDistinct=n[1];break;case 3:s.addUsers(n[0]),s.isDistinct=n[1],s.customType=n[2];break;case 5:s.addUsers(n[0]),s.isDistinct=n[1],s.name=n[2],"string"==typeof n[3]?s.coverUrl=n[3]:s.coverImage=n[3],s.data=n[4];break;case 6:s.addUsers(n[0]),s.isDistinct=n[1],s.name=n[2],"string"==typeof n[3]?s.coverUrl=n[3]:s.coverImage=n[3],s.data=n[4],s.customType=n[5];break;default:return Z(this._iid,(function(e){return e(q.error,null)}),t)}return t?i.createChannel(s,t):i.createChannel(s)}return Z(this._iid,(function(e){return e(q.error,null)}),t)}},{key:"createChannelWithUserIds",value:function(){var e=q.toArray(arguments),n=void 0;"function"==typeof e[e.length-1]&&(n=e.pop());var t=P.get(this._iid),r=t.GroupChannel,i=new t.GroupChannelParams;switch(e.length){case 1:i.addUserIds(e[0]);break;case 2:i.addUserIds(e[0]),i.isDistinct=e[1];break;case 3:i.addUserIds(e[0]),i.isDistinct=e[1],i.customType=e[2];break;case 5:i.addUserIds(e[0]),i.isDistinct=e[1],i.name=e[2],"string"==typeof e[3]?i.coverUrl=e[3]:i.coverImage=e[3],i.data=e[4];break;case 6:i.addUserIds(e[0]),i.isDistinct=e[1],i.name=e[2],"string"==typeof e[3]?i.coverUrl=e[3]:i.coverImage=e[3],i.data=e[4],i.customType=e[5];break;default:return Z(this._iid,(function(e){return e(q.error,null)}),n)}return r.createChannel(i,n)}},{key:"createMyGroupChannelListQuery",value:function(){return new(P.get(this._iid).GroupChannelListQuery)}},{key:"createPublicGroupChannelListQuery",value:function(){return new(P.get(this._iid).PublicGroupChannelListQuery)}},{key:"getChannelCount",value:function(e,n){return Un.getInstance(this._iid).getGroupChannelCount(e,n)}},{key:"getUnreadItemCount",value:function(e,n){return Un.getInstance(this._iid).getUnreadItemCount(e,n)}},{key:"getTotalUnreadMessageCount",value:function(){var e=q.toArray(arguments),n="function"==typeof e[e.length-1]?e.pop():null,t=Un.getInstance(this._iid);return t.getTotalUnreadMessageCount.apply(t,b(e).concat([n]))}},{key:"getTotalUnreadChannelCount",value:function(e){return Un.getInstance(this._iid).getTotalUnreadChannelCount(e)}},{key:"MemberStateFilter",get:function(){return{ALL:"all",JOINED:"joined_only",INVITED:"invited_only",INVITED_BY_FRIEND:"invited_by_friend",INVITED_BY_NON_FRIEND:"invited_by_non_friend"}}},{key:"PushTriggerOption",get:function(){return{DEFAULT:"default",ALL:"all",MENTION_ONLY:"mention_only",OFF:"off"}}},{key:"CountPreference",get:function(){return{ALL:"all",UNREAD_MESSAGE_COUNT_ONLY:"unread_message_count_only",UNREAD_MENTION_COUNT_ONLY:"unread_mention_count_only",OFF:"off"}}},{key:"HiddenState",get:function(){return{UNHIDDEN:"unhidden",HIDDEN_ALLOW_AUTO_UNHIDE:"hidden_allow_auto_unhide",HIDDEN_PREVENT_AUTO_UNHIDE:"hidden_prevent_auto_unhide"}}},{key:"PublicChannelFilter",get:function(){return{ALL:"all",PUBLIC:"public",PRIVATE:"private"}}},{key:"SuperChannelFilter",get:function(){return{ALL:"all",SUPER:"super",NON_SUPER:"nonsuper"}}},{key:"UnreadChannelFilter",get:function(){return{ALL:"all",UNREAD_MESSAGE:"unread_message"}}},{key:"HiddenChannelFilter",get:function(){return{UNHIDDEN:"unhidden_only",HIDDEN:"hidden_only",HIDDEN_ALLOW_AUTO_UNHIDE:"hidden_allow_auto_unhide",HIDDEN_PREVENT_AUTO_UNHIDE:"hidden_prevent_auto_unhide"}}},{key:"Role",get:function(){return{OPERATOR:"operator",NONE:"none"}}},{key:"UnreadItemKey",get:function(){return{GROUP_CHANNEL_UNREAD_MENTION_COUNT:"group_channel_unread_mention_count",NONSUPER_UNREAD_MENTION_COUNT:"non_super_group_channel_unread_mention_count",SUPER_UNREAD_MENTION_COUNT:"super_group_channel_unread_mention_count",GROUP_CHANNEL_UNREAD_MESSAGE_COUNT:"group_channel_unread_message_count",NONSUPER_UNREAD_MESSAGE_COUNT:"non_super_group_channel_unread_message_count",SUPER_UNREAD_MESSAGE_COUNT:"super_group_channel_unread_message_count",GROUP_CHANNEL_INVITATION_COUNT:"group_channel_invitation_count",NONSUPER_INVITATION_COUNT:"non_super_group_channel_invitation_count",SUPER_INVITATION_COUNT:"super_group_channel_invitation_count"}}},{key:"cachedChannels",get:function(){return _e[this._iid]||(_e[this._iid]={}),_e[this._iid]}},{key:"markAsReadAllLastSentAt",get:function(){return ve[this._iid]||0},set:function(e){ve[this._iid]=e}}]),n}(),ke=function(){d(n,re);var e=_(n);function n(t){var r;return s(this,n),(r=e.call(this,t)).state="",r.role="",r.isMuted=!1,r.isBlockedByMe=!1,r.isBlockingMe=!1,t&&r._update(t),r}return l(n,[{key:"_update",value:function(e){this.state=e.state,this.role=e.role||Se.Role.NONE,e.hasOwnProperty("is_muted")&&(this.isMuted=e.is_muted),e.hasOwnProperty("is_blocked_by_me")&&(this.isBlockedByMe=e.is_blocked_by_me),e.hasOwnProperty("is_blocking_me")&&(this.isBlockingMe=e.is_blocking_me)}},{key:"parse",value:function(e){this._update(e)}}],[{key:"objectify",value:function(e){var n=P.get(this._iid).User,t=e.user,r=e.state,i=e.role,a=void 0===i?"":i,s=e.isMuted,o=void 0!==s&&s,l=e.isBlockedByMe,u=void 0!==l&&l,c=e.isBlockingMe,d=void 0!==c&&c,f=n.objectify(t);return f.state=r,f.role=a,f.is_muted=o,f.is_blocked_by_me=u,f.is_blocking_me=d,f}},{key:"build",value:function(e,n,t,r,i,a){var s=P.get(this._iid).User;return this.objectify({user:new s(e),state:n,role:t,isMuted:r,isBlockedByMe:i,isBlockingMe:a})}},{key:"buildFromSerializedData",value:function(e){var n=P.get(this._iid).Member,t=X.deserialize(e);return new n(n.objectify(c({user:t},t)))}},{key:"JOINED",get:function(){return"joined"}},{key:"INVITED",get:function(){return"invited"}}]),n}(),Ue=function(){d(n,re);var e=_(n);function n(t){var r;return s(this,n),(r=e.call(this,t)).role="",r.isBlockedByMe=!1,t&&r._update(t),r}return l(n,[{key:"parse",value:function(e){this._update(e)}},{key:"_update",value:function(e){this.role=e.role||Se.Role.NONE,e.hasOwnProperty("is_blocked_by_me")&&(this.isBlockedByMe=e.is_blocked_by_me)}}],[{key:"objectify",value:function(e){var n=P.get(this._iid).User,t=e.user,r=e.role,i=void 0===r?"":r,a=e.isBlockedByMe,s=void 0!==a&&a,o=n.objectify(t);return o.role=i,o.is_blocked_by_me=s,o}},{key:"build",value:function(e,n){var t=P.get(this._iid).User;return this.objectify({user:new t(e),isBlockedByMe:n})}},{key:"buildFromSerializedData",value:function(e){var n=P.get(this._iid).Sender,t=X.deserialize(e);return new n(n.objectify(c({user:t},t)))}}]),n}(),Ae=function(){function e(n){s(this,e),this.emojiHash=null,this.emojiCategories=null,n&&this._update(n)}return l(e,[{key:"_update",value:function(e){var n=P.get(this._iid).EmojiCategory;this.emojiHash=e.emoji_hash||"",this.emojiCategories=e.emoji_categories?e.emoji_categories.map((function(e){return new n(e)})):[]}}]),e}(),we=function(){function e(n){s(this,e),this.id=null,this.name=null,this.url=null,this.emojis=null,n&&this._update(n)}return l(e,[{key:"_update",value:function(e){var n=P.get(this._iid).Emoji;this.id=e.id||0,this.name=e.name||"",this.url=e.url||"",this.emojis=e.emojis?e.emojis.map((function(e){return new n(e)})):[]}}]),e}(),Te=function(){function e(n){s(this,e),this.key=null,this.url=null,n&&this._update(n)}return l(e,[{key:"_update",value:function(e){this.key=e.key,this.url=e.url}}]),e}(),Ne={},Ie={},Re=function(){d(n,ae);var e=_(n);function n(t){var r;return s(this,n),(r=e.call(this,t)).channelType=ae.CHANNEL_TYPE_OPEN,r.participantCount=0,r.operators=[],t&&r._update(t),r}return l(n,[{key:"_update",value:function(e){var n=P.get(this._iid).User;e.hasOwnProperty("participant_count")&&(this.participantCount=parseInt(e.participant_count)),e.hasOwnProperty("operators")&&Array.isArray(e.operators)&&(this.operators=e.operators.map((function(e){return new n(e)})))}},{key:"parse",value:function(e){this._update(e)}},{key:"update",value:function(e){this.__update(e),this._update(e)}},{key:"createParticipantListQuery",value:function(){return new(P.get(this._iid).ParticipantListQuery)({channelUrl:this.url})}},{key:"createMutedUserListQuery",value:function(){return new(P.get(this._iid).MutedUserListQuery)({channelUrl:this.url,isOpenChannel:!0})}},{key:"createBannedUserListQuery",value:function(){return new(P.get(this._iid).BannedUserListQuery)({channelUrl:this.url,isOpenChannel:!0})}},{key:"isOperator",value:function(e){return!!e&&this.isOperatorWithUserId(e.userId)}},{key:"isOperatorWithUserId",value:function(e){return-1<this.operators.map((function(e){return e.userId})).indexOf(e)}},{key:"refresh",value:function(e){return P.get(this._iid).OpenChannel.getChannelWithoutCache(this.url,e)}},{key:"enter",value:function(e){var n=this;return Z(this._iid,(function(e){var t=P.get(n._iid).Command.bEnter({channelUrl:n.url}),r=Un.getInstance(n._iid);r.sendCommand(t,(function(t,i){if(r.getErrorFirstCallback()){var a=[t,i];i=a[0],t=a[1]}i?(i=i?new T(i.message,i.code):null,e(i,null)):(P.get(n._iid).OpenChannel.enteredChannels[n.url]=n).refresh((function(){return e(null,null)}))}))}),e)}},{key:"exit",value:function(e){var n=this;return Z(this._iid,(function(e){var t=P.get(n._iid),r=t.Command,i=t.FileMessageQueue,a=r.bExit({channelUrl:n.url}),s=Un.getInstance(n._iid);s.sendCommand(a,(function(t,r){if(s.getErrorFirstCallback()){var a=[t,r];r=a[0],t=a[1]}r?(r=r?new T(r.message,r.code):null,e(r,null)):(delete P.get(n._iid).OpenChannel.enteredChannels[n.url],i.delete(n.url),e(null,null))}))}),e)}},{key:"updateChannel",value:function(e,n,t,r,i,a){var s,o=this,l=E(q.parse(arguments,[new q({type:"string",nullable:!0}),new q({type:["string","file"],nullable:!0}),new q({type:"string",nullable:!0}),new q({type:"array",nullable:!0,optional:!0,defaultValue:null,constraint:function(e){return e.map((function(e){return"string"==typeof e}))}}),new q({type:"string",nullable:!0,optional:!0}),new q({type:"callback"})]),7);return s=l[0],e=l[1],n=l[2],t=l[3],r=l[4],i=l[5],a=l[6],Z(this._iid,(function(a){s?a(s,null):w.get(o._iid).container.apiClient.updateOpenChannel({channelUrl:o.url,name:e,coverUrlOrImage:n,data:t,operatorUserIds:r,customType:i},(function(e,n){var t=null;e||(t=P.get(o._iid).OpenChannel.upsert(n)),a(e,t)}))}),a)}},{key:"updateChannelWithOperatorUserIds",value:function(){var e=q.toArray(arguments),n=void 0;switch("function"==typeof e[e.length-1]&&(n=e.pop()),e.length){case 4:case 5:return this.updateChannel.apply(this,b(e).concat([n]));default:return Z(this._iid,(function(e){return e(q.error,null)}),n)}}},{key:"muteUser",value:function(e,n,t,r){return this.muteUserWithUserId(e?e.userId:null,n,t,r)}},{key:"muteUserWithUserId",value:function(e,n,t,r){var i,a=this,s=E(q.parse(arguments,[new q({type:"string"}),new q({type:"number",optional:!0,defaultValue:-1,constraint:function(e){return-1<=e}}),new q({type:"string",optional:!0,defaultValue:""}),new q({type:"callback"})]),5);return i=s[0],e=s[1],n=s[2],t=s[3],r=s[4],Z(this._iid,(function(r){i?r(i,null):w.get(a._iid).container.apiClient.muteUser({channelUrl:a.url,userId:e,description:t,seconds:n,isGroupChannel:!1},(function(e,n){r(e,null)}))}),r)}},{key:"unmuteUser",value:function(e,n){return this.unmuteUserWithUserId(e?e.userId:null,n)}},{key:"unmuteUserWithUserId",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"string"}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.unmuteUser({channelUrl:r.url,userId:e,isGroupChannel:!1},(function(e,t){n(e,null)}))}),n)}},{key:"banUser",value:function(e,n,t){return this.banUserWithUserId(e?e.userId:null,n,t)}},{key:"banUserWithUserId",value:function(e,n,t){var r,i=this,a=E(q.parse(arguments,[new q({type:"string"}),new q({type:"number",optional:!0,defaultValue:-1,constraint:function(e){return-1<=e}}),new q({type:"callback"})]),4);return r=a[0],e=a[1],n=a[2],t=a[3],Z(this._iid,(function(t){r?t(r,null):w.get(i._iid).container.apiClient.banUser({channelUrl:i.url,userId:e,description:null,seconds:n,isGroupChannel:!1},(function(e,n){t(e,null)}))}),t)}},{key:"unbanUser",value:function(e,n){return this.unbanUserWithUserId(e?e.userId:null,n)}},{key:"unbanUserWithUserId",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"string"}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.unbanUser({channelUrl:r.url,userId:e,isGroupChannel:!1},(function(e,t){n(e,null)}))}),n)}},{key:"delete",value:function(e){var n=this;return Z(this._iid,(function(e){w.get(n._iid).container.apiClient.deleteOpenChannel({channelUrl:n.url},(function(t,r){t||(delete P.get(n._iid).OpenChannel.cachedChannels[n.url],P.get(n._iid).FileMessageQueue.delete(n.url)),e(t,r)}))}),e)}}],[{key:"buildFromSerializedData",value:function(e){var n=P.get(this._iid),t=n.User,r=n.OpenChannel,i=X.deserialize(e);return new r({channel_url:i.url,name:i.name,cover_url:i.coverUrl,data:i.data,custom_type:i.customType,created_at:i.createdAt/1e3,freeze:i.isFrozen,is_ephemeral:i.isEphemeral,participant_count:i.participantCount,operators:i.operators.map((function(e){return t.objectify(e)}))})}},{key:"getChannel",value:function(e,n){var t,r,i=E(q.parse(arguments,[new q({type:"string"}),new q({type:"string",optional:!0,nullable:!0,defaultValue:null}),new q({type:"callback"})]),4);if(t=i[0],e=i[1],r=i[2],n=i[3],t)return Z(this._iid,(function(e){e(t,null)}),n);var a=P.get(this._iid).OpenChannel;return a.cachedChannels[e]?Z(this._iid,(function(n){n(null,a.cachedChannels[e])}),n):a.getChannelWithoutCache(e,r,n)}},{key:"getChannelWithoutCache",value:function(e,n){var t,r,i=this,a=E(q.parse(arguments,[new q({type:"string"}),new q({type:"string",optional:!0,nullable:!0,defaultValue:null}),new q({type:"callback"})]),4);return t=a[0],e=a[1],r=a[2],n=a[3],Z(this._iid,(function(n){t?n(t,null):w.get(i._iid).container.apiClient.getOpenChannel({channelUrl:e,internalCall:r},(function(e,t){var r=null;e||(r=P.get(i._iid).OpenChannel.upsert(t)),n(e,r)}))}),n)}},{key:"createChannel",value:function(e,n,t,r,i,a){var s,o=this,l=E(q.parse(arguments,[new q({type:"string",nullable:!0,ignoreIf:function(e){return 0===e.length}}),new q({type:["string","file"],nullable:!0,ignoreIf:function(e){return 0===e.length}}),new q({type:"string",nullable:!0,ignoreIf:function(e){return 0===e.length}}),new q({type:"array",nullable:!0,ignoreIf:function(e){return e.length<4},constraint:function(e){return e.map((function(e){return"string"==typeof e}))}}),new q({type:"string",nullable:!0,ignoreIf:function(e){return e.length<5}}),new q({type:"callback"})]),7);return s=l[0],e=l[1],n=l[2],t=l[3],r=l[4],i=l[5],a=l[6],Z(this._iid,(function(a){s?a(s,null):w.get(o._iid).container.apiClient.createOpenChannel({name:e,coverUrlOrImage:n,data:t,operatorUserIds:r,customType:i},(function(e,n){var t=null;e||(t=P.get(o._iid).OpenChannel.upsert(n)),a(e,t)}))}),a)}},{key:"createChannelWithOperatorUserIds",value:function(){var e=q.toArray(arguments),n=void 0;switch("function"==typeof e[e.length-1]&&(n=e.pop()),e.length){case 4:case 5:return this.createChannel.apply(this,b(e).concat([n]));default:return Z(this._iid,(function(e){return e(q.error,null)}),n)}}},{key:"upsert",value:function(e){var n=new(P.get(this._iid).OpenChannel)(e);return this.cachedChannels.hasOwnProperty(n.url)?this.cachedChannels[n.url].update(e):this.cachedChannels[n.url]=n,this.cachedChannels[n.url]}},{key:"removeCachedChannel",value:function(e){this.cachedChannels[e]&&delete this.cachedChannels[e],P.get(this._iid).FileMessageQueue.delete(e)}},{key:"clearCache",value:function(){Ne[this._iid]={},P.get(this._iid).FileMessageQueue.clear()}},{key:"clearEnteredChannels",value:function(){Ie[this._iid]={}}},{key:"createOpenChannelListQuery",value:function(){return new(P.get(this._iid).OpenChannelListQuery)}},{key:"cachedChannels",get:function(){return Ne[this._iid]||(Ne[this._iid]={}),Ne[this._iid]}},{key:"enteredChannels",get:function(){return Ie[this._iid]||(Ie[this._iid]={}),Ie[this._iid]}}]),n}(),Oe=function(){d(n,te);var e=_(n);function n(t){var r;return s(this,n),(r=e.call(this,t)).messageType=te.MESSAGE_TYPE_USER,r.message=null,r._sender=null,r.reqId="",r.translations={},r.requestState=null,r.sendingStatus=null,r.requestedMentionUserIds=[],r.errorCode=0,r.messageSurvivalSeconds=-1,t&&r._update(t),r}return l(n,[{key:"_update",value:function(e){var n=Un.getInstance(this._iid),t=P.get(this._iid).Sender;this.message=String(e.message),this._sender=new t(e.user),this.reqId=e.hasOwnProperty("req_id")?String(e.req_id):"",this.translations=e.hasOwnProperty("translations")?e.translations:{},this.sendingStatus=0<this.messageId?n.MessageSendingStatus.SUCCEEDED:n.MessageSendingStatus.FAILED,e.hasOwnProperty("sending_status")&&(this.sendingStatus=e.sending_status),this.requestState=0<this.messageId?n.MessageRequestState.SUCCEEDED:n.MessageRequestState.FAILED,e.hasOwnProperty("sending_status")&&(this.requestState=e.sending_status,this.requestState===n.MessageSendingStatus.CANCELED&&(this.requestState=n.MessageRequestState.FAILED)),this.requestedMentionUserIds=[],e.hasOwnProperty("requested_mention_user_ids")&&(this.requestedMentionUserIds=e.requested_mention_user_ids),this.errorCode=0,e.hasOwnProperty("error_code")&&(this.errorCode=e.error_code),this.messageSurvivalSeconds=-1,e.hasOwnProperty("message_survival_seconds")&&(this.messageSurvivalSeconds=e.message_survival_seconds)}},{key:"isResendable",value:function(){var e=Un.getInstance(this._iid);return this.sendingStatus===e.MessageSendingStatus.FAILED&&H.isResendableError(this.errorCode)}},{key:"sender",get:function(){var e=Un.getInstance(this._iid),n=P.get(this._iid).GroupChannel;if(e.Options.useMemberAsMessageSender&&this.isGroupChannel()){var t=n.cachedChannels[this.channelUrl];if(t){var r=t.memberMap[this._sender.userId];r&&(this._sender.nickname!==r.nickname&&(this._sender.nickname=r.nickname),this._sender.plainProfileUrl!==r.plainProfileUrl&&(this._sender.plainProfileUrl=r.plainProfileUrl),H.deepEqual(this._sender.metaData,r.metaData)||(this._sender.metaData=r.metaData))}}return this._sender},set:function(e){this._sender=e}}],[{key:"objectify",value:function(e){var n=Un.getInstance(this._iid),t=P.get(this._iid),r=t.BaseChannel,i=t.BaseMessageParams,a=t.Sender,s=t.User,o=t.ThreadInfo,l=t.OGMetaData,u=e.messageId,c=e.reqId,d=void 0===c?"":c,f=e.user,h=e.channel,p=e.message,g=e.data,y=void 0===g?"":g,m=e.customType,_=void 0===m?"":m,v=e.mentionType,E=void 0===v?i.MentionType.USERS:v,b=e.mentionedUsers,C=void 0===b?[]:b,S=e.mentionedUserIds,k=void 0===S?[]:S,U=e.requestedMentionUserIds,A=void 0===U?[]:U,w=e.reactions,T=void 0===w?[]:w,N=e.metaArrays,I=void 0===N?[]:N,R=e.rootMessageId,O=void 0===R?0:R,M=e.parentMessageId,L=void 0===M?0:M,D=e.parentMessageText,H=void 0===D?"":D,x=e.threadInfo,F=void 0===x?null:x,G=e.translations,B=void 0===G?{}:G,z=e.sendingStatus,j=e.errorCode,q=void 0===j?0:j,Q=e.silent,Y=void 0!==Q&&Q,V=e.isGlobalBlocked,W=void 0!==V&&V,K=e.messageSurvivalSeconds,J=void 0===K?-1:K,$=e.ogMetaData,X=void 0===$?null:$,Z=e.isOperatorMessage,ee=void 0!==Z&&Z,ne=e.createdAt,te=e.updatedAt,re=void 0===te?0:te,ie={};for(var ae in ie.req_id=d,ie.msg_id=u,ie.user=a.objectify({user:f,isBlockedByMe:f.isBlockedByMe}),ie.channel_url=h.url,ie.channel_type=h.channelType===r.CHANNEL_TYPE_OPEN?r.CHANNEL_TYPE_OPEN:r.CHANNEL_TYPE_GROUP,ie.message=p,ie.data=y,ie.custom_type=_,ie.translations=B,ie.is_global_block=!!W,ie.ts=ne,ie.updated_at=re,ie.mention_type=E,ie.mentioned_users=C.map((function(e){return s.objectify(e)})),ie.mentioned_user_ids=k,ie.requested_mention_user_ids=A,ie.reactions=T.map((function(e){return e.serialize()})),ie.metaarray={},I){var se=I[ae].key;ie.metaarray[se]=I[ae].value}return ie.metaarray_key_order=I.map((function(e){return e.key})),ie.root_message_id=O,ie.parent_message_id=L,ie.parent_message_text=H,F&&(ie.thread_info=o.objectify(F)),ie.sending_status=0<u?n.MessageSendingStatus.SUCCEEDED:n.MessageSendingStatus.FAILED,z&&(ie.sending_status=z),ie.silent=!!Y,ie.error_code=q,ie.message_survival_seconds=J,X&&(ie.og_tag=l.objectify(X)),ie.is_op_msg=!!ee,ie}},{key:"build",value:function(e,n,t,r,i,a,s,o,l,u,c,d,f,h,p,g,y,m,_,v,E,b,C,S,k,U){return this.objectify({messageId:n,reqId:e,user:t,channel:r,message:i,data:a,customType:s,mentionType:h,mentionedUsers:p,mentionedUserIds:v,requestedMentionUserIds:b,reactions:f,metaArrays:d,rootMessageId:g,parentMessageId:y,parentMessageText:m,threadInfo:_,translations:o,sendingStatus:E,errorCode:C,isGlobalBlocked:l,messageSurvivalSeconds:S,ogMetaData:k,isOperatorMessage:U,createdAt:u,updatedAt:c})}},{key:"buildFromSerializedData",value:function(e){var n=P.get(this._iid).UserMessage,t=X.deserialize(e);return new n(n.objectify(c(c({},t),{},{channel:{url:t.channelUrl,channelType:t.channelType},user:t.sender})))}}]),n}(),Me=function(){d(n,te);var e=_(n);function n(t){var r;return s(this,n),(r=e.call(this,t)).messageType=te.MESSAGE_TYPE_FILE,r.plainUrl=null,r.name="File",r.size=0,r.type=null,r.thumbnails=[],r._sender=null,r.reqId="",r.requireAuth=null,r.requestState=null,r.sendingStatus=null,r.requestedMentionUserIds=[],r.errorCode=0,r.messageSurvivalSeconds=-1,t&&r._update(t),r}return l(n,[{key:"_update",value:function(e){var n=Un.getInstance(this._iid),t=w.get(this._iid).container.auth,r=P.get(this._iid).Sender;if(this._sender=new r(e.user),this.requireAuth=!!e.hasOwnProperty("require_auth")&&e.require_auth,this.plainUrl=String(e.url).split("?auth=")[0],this.name=e.hasOwnProperty("name")?e.name:"File",this.size=parseInt(e.size)||0,this.type=String(e.type),e.hasOwnProperty("custom")&&(this.data=String(e.custom)),this.reqId=e.hasOwnProperty("req_id")?String(e.req_id):"",this.thumbnails=e.hasOwnProperty("thumbnails")?e.thumbnails:[],this.requireAuth)for(var i in this.thumbnails)this.thumbnails[i].plainUrl=String(this.thumbnails[i].url).split("?auth=")[0],this.thumbnails[i].url=this.requireAuth?"".concat(this.thumbnails[i].plainUrl,"?auth=").concat(t.eKey):this.thumbnails[i].plainUrl;this.sendingStatus=0<this.messageId?n.MessageSendingStatus.SUCCEEDED:n.MessageSendingStatus.FAILED,e.hasOwnProperty("sending_status")&&(this.sendingStatus=e.sending_status),this.requestState=0<this.messageId?n.MessageRequestState.SUCCEEDED:n.MessageRequestState.FAILED,e.hasOwnProperty("sending_status")&&(this.requestState=e.sending_status,this.requestState===n.MessageSendingStatus.CANCELED&&(this.requestState=n.MessageRequestState.FAILED)),this.requestedMentionUserIds=[],e.hasOwnProperty("requested_mention_user_ids")&&(this.requestedMentionUserIds=e.requested_mention_user_ids),this.errorCode=0,e.hasOwnProperty("error_code")&&(this.errorCode=e.error_code),this.messageSurvivalSeconds=-1,e.hasOwnProperty("message_survival_seconds")&&(this.messageSurvivalSeconds=e.message_survival_seconds)}},{key:"isResendable",value:function(){var e=Un.getInstance(this._iid);return this.sendingStatus===e.MessageSendingStatus.FAILED&&H.isResendableError(this.errorCode)}},{key:"sender",get:function(){var e=Un.getInstance(this._iid),n=P.get(this._iid).GroupChannel;if(e.Options.useMemberAsMessageSender&&this.isGroupChannel()){var t=n.cachedChannels[this.channelUrl];if(t){var r=t.memberMap[this._sender.userId];r&&(this._sender.nickname!==r.nickname&&(this._sender.nickname=r.nickname),this._sender.plainProfileUrl!==r.plainProfileUrl&&(this._sender.plainProfileUrl=r.plainProfileUrl),H.deepEqual(this._sender.metaData,r.metaData)||(this._sender.metaData=r.metaData))}}return this._sender},set:function(e){this._sender=e}},{key:"url",get:function(){if(this.requireAuth){var e=w.get(this._iid).container.auth;return"".concat(this.plainUrl,"?auth=").concat(e.eKey)}return this.plainUrl}}],[{key:"objectify",value:function(e){var n=Un.getInstance(this._iid),t=P.get(this._iid),r=t.BaseChannel,i=t.BaseMessageParams,a=t.Sender,s=t.User,o=t.ThreadInfo,l=t.OGMetaData,u=e.messageId,c=e.reqId,d=void 0===c?"":c,f=e.user,h=void 0===f?{}:f,p=e.channel,g=e.plainUrl,y=e.name,m=e.type,_=e.size,v=void 0===_?0:_,E=e.data,b=void 0===E?"":E,C=e.customType,S=void 0===C?"":C,k=e.mentionType,U=void 0===k?i.MentionType.USERS:k,A=e.mentionedUsers,w=void 0===A?[]:A,T=e.mentionedUserIds,N=void 0===T?[]:T,I=e.requestedMentionUserIds,R=void 0===I?[]:I,O=e.reactions,M=void 0===O?[]:O,L=e.metaArrays,D=void 0===L?[]:L,H=e.rootMessageId,x=void 0===H?0:H,F=e.parentMessageId,G=void 0===F?0:F,B=e.parentMessageText,z=void 0===B?"":B,j=e.threadInfo,q=void 0===j?null:j,Q=e.thumbnails,Y=void 0===Q?[]:Q,V=e.requireAuth,W=void 0!==V&&V,K=e.sendingStatus,J=e.errorCode,$=void 0===J?0:J,X=e.silent,Z=void 0!==X&&X,ee=e.isGlobalBlocked,ne=void 0!==ee&&ee,te=e.messageSurvivalSeconds,re=void 0===te?-1:te,ie=e.ogMetaData,ae=void 0===ie?null:ie,se=e.isOperatorMessage,oe=void 0!==se&&se,le=e.createdAt,ue=e.updatedAt,ce=void 0===ue?0:ue,de={};de.req_id=d,de.msg_id=u,de.user=a.objectify({user:h,isBlockedByMe:h.isBlockedByMe}),de.channel_url=p.url,de.channel_type=p.channelType===r.CHANNEL_TYPE_OPEN?r.CHANNEL_TYPE_OPEN:r.CHANNEL_TYPE_GROUP,de.url=g,de.name=y,de.type=m,de.size=v,de.custom=b,de.custom_type=S,de.thumbnails=Y,de.require_auth=W,de.is_global_block=!!ne,de.ts=le,de.updated_at=ce,de.mention_type=U,de.mentioned_users=w.map((function(e){return s.objectify(e)})),de.mentioned_user_ids=N,de.requested_mention_user_ids=R,de.reactions=M.map((function(e){return e.serialize()})),de.metaarray={};for(var fe=0;fe<D.length;fe++){var he=D[fe].key;de.metaarray[he]=D[fe].value}return de.metaarray_key_order=D.map((function(e){return e.key})),de.root_message_id=x,de.parent_message_id=G,de.parent_message_text=z,q&&(de.thread_info=o.objectify(q)),de.sending_status=0<u?n.MessageSendingStatus.SUCCEEDED:n.MessageSendingStatus.FAILED,K&&(de.sending_status=K),de.silent=!!Z,de.error_code=$,de.message_survival_seconds=re,ae&&(de.og_tag=l.objectify(ae)),de.is_op_msg=!!oe,de}},{key:"build",value:function(e,n,t,r,i,a,s,o,l,u,c,d,f,h,p,g,y,m,_,v,E,b,C,S,k,U,A,w,T,N){return this.objectify({messageId:n,reqId:e,user:t,channel:r,plainUrl:i,name:a,type:s,size:o,data:l,customType:u,mentionType:m,mentionedUsers:_,mentionedUserIds:S,requestedMentionUserIds:U,reactions:y,metaArrays:g,rootMessageId:v,parentMessageId:E,parentMessageText:b,threadInfo:C,thumbnails:f,requireAuth:h,sendingStatus:k,errorCode:A,isGlobalBlocked:c,messageSurvivalSeconds:w,ogMetaData:T,isOperatorMessage:N,createdAt:d,updatedAt:p})}},{key:"buildFromSerializedData",value:function(e){var n=P.get(this._iid).FileMessage,t=X.deserialize(e);return new n(n.objectify(c(c({},t),{},{channel:{url:t.channelUrl,channelType:t.channelType},user:t.sender})))}}]),n}(),Pe=function(){d(n,te);var e=_(n);function n(t){var r;return s(this,n),(r=e.call(this,t)).messageType=te.MESSAGE_TYPE_ADMIN,r.message="",r.translations={},t&&r._update(t),r}return l(n,[{key:"_update",value:function(e){this.message=String(e.message),this.translations=e.hasOwnProperty("translations")?e.translations:{}}}],[{key:"objectify",value:function(e){var n=P.get(this._iid),t=n.BaseChannel,r=n.BaseMessageParams,i=n.User,a=n.ThreadInfo,s=n.OGMetaData,o=e.messageId,l=e.channel,u=e.message,c=e.data,d=void 0===c?"":c,f=e.customType,h=void 0===f?"":f,p=e.mentionType,g=void 0===p?r.MentionType.USERS:p,y=e.mentionedUsers,m=void 0===y?[]:y,_=e.reactions,v=void 0===_?[]:_,E=e.metaArrays,b=void 0===E?[]:E,C=e.rootMessageId,S=void 0===C?0:C,k=e.parentMessageId,U=void 0===k?0:k,A=e.parentMessageText,w=void 0===A?"":A,T=e.threadInfo,N=void 0===T?null:T,I=e.translations,R=void 0===I?{}:I,O=e.silent,M=void 0!==O&&O,L=e.ogMetaData,D=void 0===L?null:L,H=e.createdAt,x=e.updatedAt,F=void 0===x?0:x,G={msg_id:o,channel_url:l.url,channel_type:l.channelType===t.CHANNEL_TYPE_OPEN?t.CHANNEL_TYPE_OPEN:t.CHANNEL_TYPE_GROUP,message:u,data:d,custom_type:h,silent:M,ts:H,updated_at:F};G.translations=R,G.mention_type=g,G.mentioned_users=m.map((function(e){return i.objectify(e)})),G.reactions=v.map((function(e){return e.serialize()})),G.metaarray={};for(var B=0;B<b.length;B++){var z=b[B].key;G.metaarray[z]=b[B].value}return G.metaarray_key_order=b.map((function(e){return e.key})),G.root_message_id=S,G.parent_message_id=U,G.parent_message_text=w,N&&(G.thread_info=a.objectify(N)),D&&(G.og_tag=s.objectify(D)),G}},{key:"build",value:function(e,n,t,r,i,a,s,o,l,u,c,d,f,h,p,g,y){return this.objectify({messageId:e,channel:n,message:t,data:r,customType:i,mentionType:c,mentionedUsers:d,reactions:u,metaArrays:l,rootMessageId:f,parentMessageId:h,parentMessageText:p,threadInfo:g,translations:a,ogMetaData:y,createdAt:s,updatedAt:o})}},{key:"buildFromSerializedData",value:function(e){var n=P.get(this._iid).AdminMessage,t=X.deserialize(e);return new n(n.objectify(c(c({},t),{},{channel:{url:t.channelUrl,channelType:t.channelType}})))}}]),n}(),Le=function(){function e(n){s(this,e);var t=P.get(this._iid),r=t.BaseMessage,i=t.BaseMessageParams;this.scheduledId=0,this.scheduledDateTimeString="",this.scheduledTimezone="",this.status=e.Status.SCHEDULED,this.createdAt=0,this.updatedAt=0,this._messageType=r.MESSAGE_TYPE_BASE,this._sender=null,this._channelType="",this.channelUrl="",this.message="",this.customType="",this.data="",this.metaArrays=[],this.mentionType=i.MentionType.USERS,this.mentionedUsers=[],this.pushNotificationDeliveryOption=i.PushNotificationDeliveryOption.DEFAULT,this.translationTargetLanguages=[],this.errorMessage="",this.errorCode=0,n&&this._update(n)}return l(e,[{key:"_update",value:function(n){var t=this,r=P.get(this._iid),i=r.User,a=r.Sender,s=r.BaseMessageParams,o=r.MessageMetaArray;this.scheduledId=n.hasOwnProperty("scheduled_id")?parseInt(n.scheduled_id):0,this.scheduledDateTimeString=n.hasOwnProperty("scheduled_dt")?String(n.scheduled_dt):"",this.scheduledTimezone=n.hasOwnProperty("scheduled_timezone")?String(n.scheduled_timezone):"",this.status=n.hasOwnProperty("status")?String(n.status):"",this.createdAt=n.hasOwnProperty("created_at")?parseInt(n.created_at):0,this.updatedAt=n.hasOwnProperty("updated_at")?parseInt(n.updated_at):0,this.channelUrl=n.hasOwnProperty("channel_url")?String(n.channel_url):"",this._channelType=n.hasOwnProperty("channel_type")?String(n.channel_type):"",this._messageType=n.hasOwnProperty("type")?String(n.type):"",this._sender=n.hasOwnProperty("user")?new a(n.user):"",this.message=n.hasOwnProperty("message")?String(n.message):"",this.customType=n.hasOwnProperty("custom_type")?String(n.custom_type):"",this.data=n.hasOwnProperty("data")?String(n.data):"";var l=n.hasOwnProperty("metaarray")?n.metaarray:{},u=n.hasOwnProperty("metaarray_key_order")?n.metaarray_key_order:Object.keys(l).sort((function(e,n){return e.localeCompare(n)}));this.metaArrays=[];for(var c=0;c<u.length;c++){var d=u[c];this.metaArrays.push(new o(d,l[d]||[]))}this.mentionType=n.hasOwnProperty("mention_type")?n.mention_type:s.MentionType.USERS,this.mentionedUsers=[],n.hasOwnProperty("mentioned_users")&&n.mentioned_users.forEach((function(e){var n=new i(e);t.mentionedUsers.push(n)})),this.pushNotificationDeliveryOption=n.hasOwnProperty("push_option")?n.push_option:s.PushNotificationDeliveryOption.DEFAULT,this.translationTargetLanguages=n.hasOwnProperty("translation_target_langs")?n.translation_target_langs:[],this.status===e.Status.FAILED&&(n.hasOwnProperty("error")&&n.error.hasOwnProperty("message")&&(this.errorMessage=String(n.error.message)),n.hasOwnProperty("error")&&n.error.hasOwnProperty("code")&&(this.errorCode=parseInt(n.error.code)))}},{key:"isOpenChannel",value:function(){var e=P.get(this._iid).BaseChannel;return this._channelType===e.CHANNEL_TYPE_OPEN}},{key:"isGroupChannel",value:function(){var e=P.get(this._iid).BaseChannel;return this._channelType===e.CHANNEL_TYPE_GROUP}},{key:"sender",get:function(){var e=Un.getInstance(this._iid),n=P.get(this._iid).GroupChannel;if(e.Options.useMemberAsMessageSender&&this.isGroupChannel()){var t=n.cachedChannels[this.channelUrl];if(t){var r=t.memberMap[this._sender.userId];r&&(this._sender.nickname!==r.nickname&&(this._sender.nickname=r.nickname),this._sender.plainProfileUrl!==r.plainProfileUrl&&(this._sender.plainProfileUrl=r.plainProfileUrl),H.deepEqual(this._sender.metaData,r.metaData)||(this._sender.metaData=r.metaData))}}return this._sender},set:function(e){this._sender=e}},{key:"metaArray",get:function(){var e={};return this.metaArrays.forEach((function(n){e[n.key]=n.value})),e},set:function(e){if("object"===a(e)&&e){var n=P.get(this._iid).MessageMetaArray,t=[];for(var r in e)t.push(new n(r,e[r]));this.metaArrays=t}}}],[{key:"Status",get:function(){return{SCHEDULED:"scheduled",SENT:"sent",CANCELED:"canceled",FAILED:"failed"}}}]),e}(),De=function(){function e(){s(this,e),this.threadInfo=null,this.targetMessageId=0,this.channelUrl=null,this.channelType=null}return l(e,null,[{key:"createFromJson",value:function(e){var n=P.get(this._iid),t=n.BaseChannel,r=n.ThreadInfo,i=e.thread_info,s=e.root_message_id,o=e.channel_url,l=e.channel_type;if(!i||"object"!==a(i)||"string"!=typeof s&&"number"!=typeof s||"string"!=typeof o||"string"!=typeof l||![t.CHANNEL_TYPE_GROUP].includes(l))return null;var u=new this;return u.threadInfo=new r(i),u.targetMessageId=parseInt(s),u.channelUrl=o,u.channelType=l,u}}]),e}(),He=function(){function e(){s(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.userIdsFilter=[],this.metaDataKeyFilter="",this.metaDataValuesFilter=[],this._token=""}return l(e,[{key:"next",value:function(e){var n=this;return Z(this._iid,(function(e){"number"==typeof n.limit&&0<n.limit&&Array.isArray(n.userIdsFilter)&&"string"==typeof n.metaDataKeyFilter&&Array.isArray(n.metaDataValuesFilter)&&!!n.metaDataKeyFilter==0<n.metaDataValuesFilter.length?n.isLoading?e(new T("Query in progress.",T.QUERY_IN_PROGRESS),null):n.hasNext?(n.isLoading=!0,w.get(n._iid).container.apiClient.loadUserList(c(c({},n),{},{token:n._token}),(function(t,r){var i=null;if(!t){var a=P.get(n._iid).User,s=String(r.next);n._token=s,n.hasNext=!!s,i=r.users.map((function(e){return new a(e)}))}n.isLoading=!1,e(t,i)}))):e(null,[]):e(q.error,null)}),e)}}]),e}(),xe=function(){function e(n){s(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this._isOpenChannel=!1,this._channelUrl=null,this._token="",n.channelUrl&&(this._channelUrl=n.channelUrl),n.isOpenChannel&&(this._isOpenChannel=n.isOpenChannel)}return l(e,[{key:"next",value:function(e){var n=this;return Z(this._iid,(function(e){"number"==typeof n.limit&&0<n.limit?n.isLoading?e(new T("Query in progress.",T.QUERY_IN_PROGRESS),null):n.hasNext?(n.isLoading=!0,w.get(n._iid).container.apiClient.loadBannedUserList(c(c({},n),{},{channelUrl:n._channelUrl,isOpenChannel:n._isOpenChannel,token:n._token}),(function(t,r){var i=null;if(!t){var a=P.get(n._iid).User,s=String(r.next);n._token=s,n.hasNext=!!s,i=r.banned_list.map((function(e){return new a(e.user)}))}n.isLoading=!1,e(t,i)}))):e(null,[]):e(q.error,null)}),e)}}]),e}(),Fe=function(){function e(){s(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.userIdsFilter=[],this._token=""}return l(e,[{key:"next",value:function(e){var n=this;return Z(this._iid,(function(e){"number"==typeof n.limit&&0<n.limit&&Array.isArray(n.userIdsFilter)?n.isLoading?e(new T("Query in progress.",T.QUERY_IN_PROGRESS),null):n.hasNext?(n.isLoading=!0,w.get(n._iid).container.apiClient.loadBlockedUserList(c(c({},n),{},{token:n._token}),(function(t,r){var i=null;if(!t){var a=P.get(n._iid).User,s=String(r.next);n._token=s,n.hasNext=!!s,i=r.users.map((function(e){return new a(e)}))}n.isLoading=!1,e(t,i)}))):e(null,[]):e(q.error,null)}),e)}}]),e}(),Ge=function(){function e(){s(this,e),this.isLoading=!1,this.hasMore=!0,this.limit=20,this._token=""}return l(e,[{key:"next",value:function(e){var n=this;return Z(this._iid,(function(e){"number"==typeof n.limit&&0<n.limit?n.isLoading?e(new T("Query in progress.",T.QUERY_IN_PROGRESS),null):n.hasMore?(n.isLoading=!0,w.get(n._iid).container.apiClient.loadFriendList(c(c({},n),{},{token:n._token}),(function(t,r){var i=null;if(!t){var a=P.get(n._iid).User,s=String(r.next);n._token=s,n.hasMore=!!s,i=r.users.map((function(e){return new a(e)}))}n.isLoading=!1,e(t,i)}))):e(null,[]):e(q.error,null)}),e)}}]),e}(),Be=function(){function e(){s(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.includeEmpty=!1,this.order=e.ORDER_LATEST_LAST_MESSAGE,this._token="",this._searchFilter={},this._userIdsFilter={userIds:[],includeMode:!0,queryType:e.QueryType.AND},this._userIdsExactFilter=[],this._userIdsIncludeFilter=[],this._userIdsIncludeFilterQueryType=e.QueryType.AND,this.nicknameContainsFilter="",this.channelNameContainsFilter="",this.memberStateFilter=Se.MemberStateFilter.ALL,this.customTypesFilter=[],this.channelUrlsFilter=[],this.superChannelFilter=Se.SuperChannelFilter.ALL,this.publicChannelFilter=Se.PublicChannelFilter.ALL,this.customTypeStartsWithFilter=null,this.unreadChannelFilter=Se.UnreadChannelFilter.ALL,this.metadataOrderKeyFilter=null,this.hiddenChannelFilter=Se.HiddenChannelFilter.UNHIDDEN,this.includeFrozen=!0}return l(e,[{key:"setSearchFilter",value:function(e,n){Array.isArray(e)&&0!==e.length&&"string"==typeof n&&n&&(this._searchFilter={search_query:n,search_fields:e.join(",").toLocaleLowerCase()})}},{key:"serialize",value:function(){return X.serialize(this,(function(e){e.isLoading=!1}))}},{key:"next",value:function(e){var n=this;return Z(this._iid,(function(e){var t=P.get(n._iid),r=t.GroupChannel,i=t.GroupChannelListQuery;!("number"==typeof n.limit&&0<n.limit&&"boolean"==typeof n.includeEmpty&&"string"==typeof n.order&&-1<[i.ORDER_CHRONOLOGICAL,i.ORDER_LATEST_LAST_MESSAGE,i.CHANNEL_NAME_ALPHABETICAL,i.METADATA_VALUE_ALPHABETICAL].indexOf(n.order.toLowerCase())&&Array.isArray(n._userIdsExactFilter)&&Array.isArray(n._userIdsIncludeFilter)&&Array.isArray(n.customTypesFilter)&&Array.isArray(n.channelUrlsFilter)&&-1<Object.keys(i.QueryType).map((function(e){return i.QueryType[e]})).indexOf(n._userIdsIncludeFilterQueryType.toUpperCase())&&-1<Object.keys(r.MemberStateFilter).map((function(e){return r.MemberStateFilter[e]})).indexOf(n.memberStateFilter)&&-1<Object.keys(r.SuperChannelFilter).map((function(e){return r.SuperChannelFilter[e]})).indexOf(n.superChannelFilter)&&-1<Object.keys(r.PublicChannelFilter).map((function(e){return r.PublicChannelFilter[e]})).indexOf(n.publicChannelFilter)&&-1<Object.keys(r.UnreadChannelFilter).map((function(e){return r.UnreadChannelFilter[e]})).indexOf(n.unreadChannelFilter)&&-1<Object.keys(r.HiddenChannelFilter).map((function(e){return r.HiddenChannelFilter[e]})).indexOf(n.hiddenChannelFilter))||"string"!=typeof n.customTypeStartsWithFilter&&null!==n.customTypeStartsWithFilter||"string"!=typeof n.nicknameContainsFilter||"string"!=typeof n.channelNameContainsFilter||"string"!=typeof n.metadataOrderKeyFilter&&null!==n.metadataOrderKeyFilter||"boolean"!=typeof n.includeFrozen?e(q.error,null):n.isLoading?e(new T("Query in progress.",T.QUERY_IN_PROGRESS),null):n.hasNext?(n.isLoading=!0,w.get(n._iid).container.apiClient.loadGroupChannelList(c(c({},n),{},{token:n._token,userIdsFilter:n._userIdsFilter,searchFilter:n._searchFilter}),(function(t,i){if(t)return n.isLoading=!1,void e(t,null);var a=[],s=String(i.next);n._token=s,n.hasNext=!!s;for(var o=i.channels,l=0;l<o.length;l++){var u=r.upsert(o[l]);a.push(u)}n.isLoading=!1,e(t,a)}))):e(null,[])}),e)}},{key:"userIdsExactFilter",get:function(){return this._userIdsExactFilter},set:function(e){Array.isArray(e)&&(this._userIdsExactFilter=e,this._userIdsIncludeFilter=[],this._userIdsFilter.userIds=this._userIdsExactFilter,this._userIdsFilter.includeMode=!1)}},{key:"userIdsIncludeFilter",get:function(){return this._userIdsIncludeFilter},set:function(e){Array.isArray(e)&&(this._userIdsIncludeFilter=e,this._userIdsExactFilter=[],this._userIdsFilter.userIds=this._userIdsIncludeFilter,this._userIdsFilter.includeMode=!0)}},{key:"userIdsIncludeFilterQueryType",get:function(){return this._userIdsIncludeFilterQueryType},set:function(n){-1<Object.keys(e.QueryType).map((function(n){return e.QueryType[n]})).indexOf(n)&&(this._userIdsIncludeFilterQueryType=n.toUpperCase(),this._userIdsFilter.queryType=this._userIdsIncludeFilterQueryType)}}],[{key:"buildFromSerializedData",value:function(e){var n=P.get(this._iid).GroupChannel,t=X.deserialize(e),r=n.createMyGroupChannelListQuery();for(var i in t)r.hasOwnProperty(i)&&(r[i]=t[i]);return r}},{key:"ORDER_LATEST_LAST_MESSAGE",get:function(){return"latest_last_message"}},{key:"ORDER_CHRONOLOGICAL",get:function(){return"chronological"}},{key:"CHANNEL_NAME_ALPHABETICAL",get:function(){return"channel_name_alphabetical"}},{key:"METADATA_VALUE_ALPHABETICAL",get:function(){return"metadata_value_alphabetical"}},{key:"QueryType",get:function(){return{AND:"AND",OR:"OR"}}},{key:"SearchField",get:function(){return{MEMBER_NICKNAME:"member_nickname",CHANNEL_NAME:"channel_name"}}}]),e}(),ze=function(){function e(n){s(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.mutedMemberFilter=e.MutedMemberFilter.ALL,this.memberStateFilter=Se.MemberStateFilter.ALL,this.nicknameStartsWithFilter=null,this.order=e.Order.MEMBER_NICKNAME_ALPHABETICAL,this._token="",this._channelUrl=n}return l(e,[{key:"next",value:function(e){var n=this;return Z(this._iid,(function(e){var t=P.get(n._iid),r=t.GroupChannel,i=t.Member,a=t.MemberListQuery;"number"==typeof n.limit&&0<n.limit&&-1<Object.keys(a.MutedMemberFilter).map((function(e){return a.MutedMemberFilter[e]})).indexOf(n.mutedMemberFilter)&&-1<Object.keys(r.MemberStateFilter).map((function(e){return r.MemberStateFilter[e]})).indexOf(n.memberStateFilter)&&-1<Object.keys(a.Order).map((function(e){return a.Order[e]})).indexOf(n.order)&&("string"==typeof n.nicknameStartsWithFilter||null===n.nicknameStartsWithFilter)?n.isLoading?e(new T("Query in progress.",T.QUERY_IN_PROGRESS),null):n.hasNext?(n.isLoading=!0,w.get(n._iid).container.apiClient.loadMemberList(c(c({},n),{},{channelUrl:n._channelUrl,token:n._token}),(function(t,r){var a=null;if(!t){var s=String(r.next);n._token=s,n.hasNext=!!s,a=r.members.map((function(e){return new i(e)}))}n.isLoading=!1,e(t,a)}))):e(null,[]):e(q.error,null)}),e)}}],[{key:"MutedMemberFilter",get:function(){return{ALL:"all",MUTED:"muted",UNMUTED:"unmuted"}}},{key:"Order",get:function(){return{MEMBER_NICKNAME_ALPHABETICAL:"member_nickname_alphabetical",OPERATOR_THEN_MEMBER_ALPHABETICAL:"operator_then_member_alphabetical"}}}]),e}(),je=function(){function e(n){s(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this._token="",n.channelUrl&&(this._channelUrl=n.channelUrl),n.isOpenChannel&&(this._isOpenChannel=n.isOpenChannel)}return l(e,[{key:"next",value:function(e){var n=this;return Z(this._iid,(function(e){"number"==typeof n.limit&&0<n.limit?n.isLoading?e(new T("Query in progress.",T.QUERY_IN_PROGRESS),null):n.hasNext?(n.isLoading=!0,w.get(n._iid).container.apiClient.loadMutedUserList(c(c({},n),{},{channelUrl:n._channelUrl,isOpenChannel:n._isOpenChannel,token:n._token}),(function(t,r){var i=null;if(!t){var a=P.get(n._iid).User,s=String(r.next);n._token=s,n.hasNext=!!s,i=r.muted_list.map((function(e){return new a(e)}))}n.isLoading=!1,e(t,i)}))):e(null,[]):e(q.error,null)}),e)}}]),e}(),qe=function(){function e(){s(this,e),this.limit=20,this.isLoading=!1,this.hasNext=!0,this.nameKeyword=null,this.urlKeyword=null,this.customTypes=[],this.includeFrozen=!0}return l(e,[{key:"next",value:function(e){var n=this;return Z(this._iid,(function(e){!("number"==typeof n.limit&&0<n.limit&&Array.isArray(n.customTypes))||"string"!=typeof n.nameKeyword&&null!==n.nameKeyword||"string"!=typeof n.urlKeyword&&null!==n.urlKeyword||"boolean"!=typeof n.includeFrozen?e(q.error,null):n.isLoading?e(new T("Query in progress.",T.QUERY_IN_PROGRESS),null):n.hasNext?(n.isLoading=!0,w.get(n._iid).container.apiClient.loadOpenChannelList(c(c({},n),{},{token:n._token}),(function(t,r){var i=null;if(!t){var a=P.get(n._iid).OpenChannel,s=String(r.next);n._token=s,n.hasNext=!!s,i=r.channels.map((function(e){return a.upsert(e)}))}n.isLoading=!1,e(t,i)}))):e(null,[])}),e)}}]),e}(),Qe=new WeakMap,Ye=function(){function e(n){s(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this._token="",Qe.set(this,n)}return l(e,[{key:"next",value:function(e){var n=this;return Z(this._iid,(function(e){if("number"==typeof n.limit&&0<n.limit)if(n.isLoading)e(new T("Query in progress.",T.QUERY_IN_PROGRESS),null);else if(n.hasNext){n.isLoading=!0;var t=Qe.get(n);w.get(n._iid).container.apiClient.loadOperatorList(c(c({},n),{},{token:n._token,channelUrl:t.url,isOpenChannel:t.isOpenChannel()}),(function(t,r){var i=null;if(!t){var a=P.get(n._iid).User,s=String(r.next);n._token=s,n.hasNext=!!s,i=r.operators.map((function(e){return new a(e)}))}n.isLoading=!1,e(t,i)}))}else e(null,[]);else e(q.error,null)}),e)}}]),e}(),Ve=new WeakMap,We=function(){function e(n){s(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this._token="",n&&Ve.set(this,n.channelUrl)}return l(e,[{key:"next",value:function(e){var n=this;return Z(this._iid,(function(e){"number"==typeof n.limit&&0<n.limit?n.isLoading?e(new T("Query in progress.",T.QUERY_IN_PROGRESS),null):n.hasNext?(n.isLoading=!0,w.get(n._iid).container.apiClient.loadParticipantList(c(c({},n),{},{channelUrl:Ve.get(n),token:n._token}),(function(t,r){var i=null;if(!t){var a=P.get(n._iid).User,s=String(r.next);n._token=s,n.hasNext=!!s,i=r.participants.map((function(e){return new a(e)}))}n.isLoading=!1,e(t,i)}))):e(null,[]):e(q.error,null)}),e)}}]),e}(),Ke=new WeakMap,Je=function(){function e(n,t){var r=t.limit,i=void 0===r?20:r,a=t.reverse,o=void 0!==a&&a,l=t.exactMatch,u=void 0!==l&&l,c=t.channelUrl,d=void 0===c?"":c,f=t.channelCustomType,h=void 0===f?"":f,p=t.messageTimestampFrom,g=void 0===p?null:p,y=t.messageTimestampTo,m=void 0===y?null:y,_=t.order,v=void 0===_?"score":_;s(this,e),this.isLoading=!1,this.hasNext=!0,Ke.set(this,{keyword:n,limit:i,reverse:o,exactMatch:u,channelUrl:d,channelCustomType:h,messageTimestampFrom:g,messageTimestampTo:m,order:v,previousToken:"",nextToken:""})}return l(e,[{key:"next",value:function(e){var n=this,t=P.get(this._iid),r=t.BaseChannel,i=t.GroupChannel,a=t.OpenChannel;return Z(this._iid,(function(e){var t=Ke.get(n),s=t.keyword,o=t.limit,l=t.reverse,u=t.exactMatch,c=t.channelUrl,d=t.channelCustomType,f=t.messageTimestampFrom,h=t.messageTimestampTo,p=t.order,g=t.nextToken;!("number"==typeof o&&0<o&&o<=1e3&&"boolean"==typeof l&&"boolean"==typeof u)||"string"!=typeof c&&null!==c||"string"!=typeof d&&null!==d||"number"!=typeof f&&null!==f||"number"!=typeof h&&null!==h||!(0<=["score","ts"].indexOf(p))?e(q.error,null):n.isLoading?e(new T("Query in progress.",T.QUERY_IN_PROGRESS),null):n.hasNext?(n.isLoading=!0,w.get(n._iid).container.apiClient.searchMessages({keyword:s,limit:o,reverse:l,exactMatch:u,channelUrl:c,channelCustomType:d,messageTimestampFrom:f,messageTimestampTo:h,order:p,nextToken:g},(function(t,s){var o=null;if(!t){for(var l in o=[],s.results){var u=s.results[l],c=null;u.channel.hasOwnProperty("members")?(c=new i(u.channel),i.cachedChannels[c.url]=c):(c=new a(u.channel),a.cachedChannels[c.url]=c),o.push(r.buildMessage(u,c))}n.hasNext=s.has_next,Ke.get(n).nextToken=s.end_cursor}n.isLoading=!1,e(t,o)}))):e(null,[])}),e)}},{key:"key",get:function(){return Ke.get(this).keyword}},{key:"limit",get:function(){return Ke.get(this).limit}},{key:"reverse",get:function(){return Ke.get(this).reverse}},{key:"exactMatch",get:function(){return Ke.get(this).exactMatch}},{key:"channelUrl",get:function(){return Ke.get(this).channelUrl}},{key:"channelCustomType",get:function(){return Ke.get(this).channelCustomType}},{key:"messageTimestampFrom",get:function(){return Ke.get(this).messageTimestampFrom}},{key:"messageTimestampTo",get:function(){return Ke.get(this).messageTimestampTo}},{key:"order",get:function(){return Ke.get(this).order}}]),e}(),$e=new WeakMap,Xe=new WeakMap,Ze=function(){function e(n){s(this,e),this.isLoading=!1,this.hasMore=!0,this.limit=20,Xe.set(this,Number.MAX_SAFE_INTEGER),$e.set(this,n),this.reverse=!1,this.messageTypeFilter=null,this.customTypeFilter=null,this.senderUserIdsFilter=[],this.includeMetaArray=!1,this.includeReaction=null,this.includeReactions=!1,this.includeReplies=!1,this.includeParentMessageText=!1,this.includeThreadInfo=!1}return l(e,[{key:"load",value:function(e,n,t,r){var i=this,a=P.get(this._iid).BaseChannel,s=null,o=E(q.parse(arguments,[new q({type:"number",optional:!0,defaultValue:this.limit}),new q({type:"boolean",optional:!0,defaultValue:this.reverse}),new q({type:["string","number"],optional:!0,defaultValue:this.messageTypeFilter,constraint:function(e){return-1<Object.keys(a.MessageTypeFilter).map((function(e){return a.MessageTypeFilter[e]})).indexOf(e)||-1<[0,1,2,3].indexOf(e)}}),new q({type:"callback"})]),5);return s=o[0],e=o[1],n=o[2],t=o[3],r=o[4],Z(this._iid,(function(r){if(Array.isArray(i.senderUserIdsFilter)&&!i.senderUserIdsFilter.some((function(e){return"string"!=typeof e}))||(s=q.error),s)r(s,null);else{if(i.limit=e,i.reverse=n,i.messageTypeFilter=t,"number"==typeof i.messageTypeFilter)switch(i.messageTypeFilter){case 0:i.messageTypeFilter=a.MessageTypeFilter.ALL;break;case 1:i.messageTypeFilter=a.MessageTypeFilter.USER;break;case 2:i.messageTypeFilter=a.MessageTypeFilter.FILE;break;case 3:i.messageTypeFilter=a.MessageTypeFilter.ADMIN}if(i.isLoading)r(new T("Query in progress.",T.QUERY_IN_PROGRESS),null);else if(i.hasMore){i.isLoading=!0;var o=$e.get(i),l=w.get(i._iid);"boolean"==typeof i.includeReaction&&i.includeReaction&&(i.includeReactions=i.includeReaction),l.container.apiClient.getMessageList({channel:o,token:Xe.get(i)||(new Date).getTime()+1e4,tokenType:"timestamp",isInclusive:!1,prevResultSize:e,nextResultSize:0,shouldReverse:n,messageType:t,customType:i.customTypeFilter,senderUserIds:i.senderUserIdsFilter,includeMetaArray:i.includeMetaArray,includeReactions:i.includeReactions,includeReplies:i.includeReplies,includeParentMessageText:i.includeParentMessageText,includeThreadInfo:i.includeThreadInfo},(function(n,t){var s=null;if(!n){(0===(s=t.messages.map((function(e){return a.buildMessage(e,o)}))).length||s.length<e)&&(i.hasMore=!1);var l=Xe.get(i);Xe.set(i,Math.min.apply(Math,b(s.map((function(e){return e.createdAt}))).concat([l])))}i.isLoading=!1,r(n,s)}))}else r(null,[])}}),r)}}]),e}(),en=function(){function e(){s(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.includeEmpty=!1,this.order=Be.ORDER_LATEST_LAST_MESSAGE,this._token="",this.channelNameContainsFilter="",this.channelUrlsFilter=[],this.customTypesFilter=[],this.customTypeStartsWithFilter=null,this.superChannelFilter=Se.SuperChannelFilter.ALL,this.membershipFilter=e.MembershipType.JOINED,this.metadataOrderKeyFilter=null,this.includeFrozen=!0}return l(e,[{key:"next",value:function(n){var t=this;return Z(this._iid,(function(n){var r=P.get(t._iid).GroupChannel;!("number"==typeof t.limit&&0<t.limit&&"boolean"==typeof t.includeEmpty&&"string"==typeof t.order&&-1<[e.ORDER_CHRONOLOGICAL,e.CHANNEL_NAME_ALPHABETICAL,e.METADATA_VALUE_ALPHABETICAL,e.ORDER_LATEST_LAST_MESSAGE].indexOf(t.order.toLowerCase())&&Array.isArray(t.customTypesFilter)&&Array.isArray(t.channelUrlsFilter)&&-1<Object.keys(e.MembershipType).map((function(n){return e.MembershipType[n]})).indexOf(t.membershipFilter)&&-1<Object.keys(r.SuperChannelFilter).map((function(e){return r.SuperChannelFilter[e]})).indexOf(t.superChannelFilter))||"string"!=typeof t.customTypeStartsWithFilter&&null!==t.customTypeStartsWithFilter||"string"!=typeof t.channelNameContainsFilter||"string"!=typeof t.metadataOrderKeyFilter&&null!==t.metadataOrderKeyFilter||"boolean"!=typeof t.includeFrozen?n(q.error,null):t.isLoading?n(new T("Query in progress.",T.QUERY_IN_PROGRESS),null):t.hasNext?(t.isLoading=!0,w.get(t._iid).container.apiClient.loadPublicGroupChannelList(c(c({},t),{},{token:t._token}),(function(e,i){var a=null;if(!e){var s=String(i.next);t._token=s,t.hasNext=!!s,a=i.channels.map((function(e){return r.upsert(e)}))}t.isLoading=!1,n(e,a)}))):n(null,[])}),n)}}],[{key:"MembershipType",get:function(){return{ALL:"all",JOINED:"joined"}}},{key:"ORDER_LATEST_LAST_MESSAGE",get:function(){return"latest_last_message"}},{key:"ORDER_CHRONOLOGICAL",get:function(){return"chronological"}},{key:"CHANNEL_NAME_ALPHABETICAL",get:function(){return"channel_name_alphabetical"}},{key:"METADATA_VALUE_ALPHABETICAL",get:function(){return"metadata_value_alphabetical"}}]),e}(),nn=function(){function e(){s(this,e),this.isDistinct=null,this.isSuper=null,this.isBroadcast=null,this.isPublic=null,this.channelUrl=null,this.isEphemeral=null,this.isDiscoverable=null,this.isStrict=null,this.name=null,this.data=null,this.customType=null,this.channelCover=null,this.coverUrl=null,this.coverImage=null,this.accessCode=null,this.messageSurvivalSeconds=null,this._invitedUserIds=[];var n=null;Object.defineProperty(this,"operators",{set:function(e){Array.isArray(e)&&e.filter((function(e){return e.hasOwnProperty("userId")})).length===e.length&&(n=e.map((function(e){return e.userId})))}}),Object.defineProperty(this,"operatorUserIds",{get:function(){return n},set:function(e){Array.isArray(e)&&e.filter((function(e){return"string"==typeof e})).length===e.length&&(n=e)}})}return l(e,[{key:"_validate",value:function(){return Array.isArray(this._invitedUserIds)&&this._invitedUserIds.every((function(e){return"string"==typeof e}))&&("string"==typeof this.channelUrl||null===this.channelUrl)&&("string"==typeof this.coverUrl||null===this.coverUrl)&&(H.isFile(this.coverImage)||null===this.coverImage)&&("string"==typeof this.name||null===this.name)&&("string"==typeof this.data||null===this.data)&&("string"==typeof this.customType||null===this.customType)&&("boolean"==typeof this.isDistinct||null===this.isDistinct)&&("boolean"==typeof this.isSuper||null===this.isSuper)&&("boolean"==typeof this.isBroadcast||null===this.isBroadcast)&&("boolean"==typeof this.isPublic||null===this.isPublic)&&("boolean"==typeof this.isEphemeral||null===this.isEphemeral)&&("boolean"==typeof this.isDiscoverable||null===this.isDiscoverable)&&("boolean"==typeof this.isStrict||null===this.isStrict)&&(Array.isArray(this.operatorUserIds)&&this.operatorUserIds.every((function(e){return"string"==typeof e}))||null===this.operatorUserIds)&&("string"==typeof this.accessCode||null===this.accessCode)&&("number"==typeof this.messageSurvivalSeconds||null===this.messageSurvivalSeconds)}},{key:"addUsers",value:function(e){if(Array.isArray(e)){var n,t=e.filter((function(e){return e.hasOwnProperty("userId")&&"string"==typeof e.userId})).map((function(e){return e.userId}));(n=this._invitedUserIds).push.apply(n,b(t))}}},{key:"addUser",value:function(e){e.hasOwnProperty("userId")&&"string"==typeof e.userId&&this._invitedUserIds.push(e.userId)}},{key:"addUserIds",value:function(e){if(Array.isArray(e)){var n,t=e.filter((function(e){return"string"==typeof e}));(n=this._invitedUserIds).push.apply(n,b(t))}}},{key:"addUserId",value:function(e){"string"==typeof e&&this._invitedUserIds.push(e)}}]),e}(),tn=new WeakMap,rn=function(){function e(){s(this,e),this._mentionType=e.MentionType.USERS,this._mentionedUserIds=[],this._cachedMentionedUsers=[],this._cachedMentionedUserIds=[],this._metaArrays=[],tn.set(this,null),this._parentMessageId=null}return l(e,[{key:"_validate",value:function(){var e=P.get(this._iid),n=e.BaseMessageParams,t=e.MessageMetaArray,r=tn.get(this);return-1<Object.keys(n.MentionType).map((function(e){return n.MentionType[e]})).indexOf(this.mentionType)&&this._mentionedUserIds.every((function(e){return"string"==typeof e}))&&Array.isArray(this._metaArrays)&&this._metaArrays.every((function(e){return e instanceof t}))&&("number"==typeof r||null===r)&&("number"==typeof this._parentMessageId||null===this._parentMessageId)}},{key:"mentionType",get:function(){return this._mentionType},set:function(e){var n=P.get(this._iid).BaseMessageParams;-1<Object.keys(n.MentionType).map((function(e){return n.MentionType[e]})).indexOf(e)&&(this._mentionType=e)}},{key:"mentionedUserIds",get:function(){return this._cachedMentionedUserIds},set:function(e){if(Array.isArray(e))for(var n=Un.getInstance(this._iid),t=0;t<e.length;t++){var r=e[t];if("string"!=typeof r){this._cachedMentionedUserIds=[],this._mentionedUserIds=[];break}this._mentionedUserIds.indexOf(r)<0&&n.currentUser&&n.currentUser.userId!==r&&(this._cachedMentionedUserIds.push(r),this._mentionedUserIds.push(r))}}},{key:"mentionedUsers",get:function(){return this._cachedMentionedUsers},set:function(e){if(Array.isArray(e))for(var n=Un.getInstance(this._iid),t=0;t<e.length;t++){var r=e[t];if(!r.hasOwnProperty("userId")){this._cachedMentionedUsers=[],this._mentionedUserIds=[];break}this._mentionedUserIds.indexOf(r.userId)<0&&n.currentUser&&n.currentUser.userId!==r.userId&&(this._cachedMentionedUsers.push(r),this._mentionedUserIds.push(r.userId))}}},{key:"metaArrayKeys",get:function(){return this._metaArrays.map((function(e){return e.key}))},set:function(e){var n=P.get(this._iid).MessageMetaArray,t={};if(Array.isArray(e)){this._metaArrays=[];for(var r=0;r<e.length;r++)"string"!=typeof e[r]||t[e[r]]||(t[e[r]]=!0,this._metaArrays.push(new n(e[r])))}}},{key:"metaArrays",get:function(){return this._metaArrays},set:function(e){var n=P.get(this._iid).MessageMetaArray;if(Array.isArray(e)){this._metaArrays=[];for(var t=0;t<e.length;t++){var r=e[t];if(r instanceof n){var i,a=this._metaArrays.map((function(e){return e.key})).indexOf(r.key);a<0?this._metaArrays.push(r):(i=this._metaArrays[a].value).push.apply(i,b(r.value))}}}}},{key:"rootMessageId",get:function(){return tn.get(this)}},{key:"parentMessageId",get:function(){return this._parentMessageId},set:function(e){tn.set(this,e),this._parentMessageId=e}}],[{key:"MentionType",get:function(){return{USERS:"users",CHANNEL:"channel"}}},{key:"PushNotificationDeliveryOption",get:function(){return{DEFAULT:"default",SUPPRESS:"suppress"}}}]),e}(),an=function(){d(n,rn);var e=_(n);function n(){var t;return s(this,n),(t=e.call(this)).message=null,t.data=null,t.customType=null,t.pushNotificationDeliveryOption=null,t._translationTargetLanguages=[],t}return l(n,[{key:"_validate",value:function(){var e=P.get(this._iid).BaseMessageParams;return v(f(n.prototype),"_validate",this).call(this)&&("string"==typeof this.message||null===this.message)&&("string"==typeof this.data||null===this.data)&&("string"==typeof this.customType||null===this.customType)&&Array.isArray(this.translationTargetLanguages)&&this.translationTargetLanguages.every((function(e){return"string"==typeof e}))&&(null===this.pushNotificationDeliveryOption||-1<Object.keys(e.PushNotificationDeliveryOption).map((function(n){return e.PushNotificationDeliveryOption[n]})).indexOf(this.pushNotificationDeliveryOption))}},{key:"targetLanguages",get:function(){return this.translationTargetLanguages},set:function(e){this.translationTargetLanguages=e}},{key:"translationTargetLanguages",get:function(){return this._translationTargetLanguages},set:function(e){if(Array.isArray(e)){for(var n=0;n<e.length;n++)if("string"!=typeof e[n])return void(this._translationTargetLanguages=[]);this._translationTargetLanguages=e}}}]),n}(),sn=function(){d(n,rn);var e=_(n);function n(){var t;return s(this,n),(t=e.call(this)).fileName=null,t.mimeType=null,t.fileSize=null,t.data=null,t.customType=null,t.pushNotificationDeliveryOption=null,t._isUpdate=!1,t._file=null,t._fileUrl=null,t._thumbnailSizes=[],t}return l(n,[{key:"_validate",value:function(){var e=P.get(this._iid).BaseMessageParams;return v(f(n.prototype),"_validate",this).call(this)&&(this._isUpdate||H.isFile(this.file)||"string"==typeof this.fileUrl)&&("string"==typeof this.fileName||null===this.fileName)&&("string"==typeof this.mimeType||null===this.mimeType)&&("number"==typeof this.fileSize||null===this.fileSize)&&("string"==typeof this.data||null===this.data)&&("string"==typeof this.customType||null===this.customType)&&(null===this._thumbnailSizes||this._thumbnailSizes.every((function(e){return"object"===a(e)&&0<e.maxWidth&&0<e.maxHeight})))&&(null===this.pushNotificationDeliveryOption||-1<Object.keys(e.PushNotificationDeliveryOption).map((function(n){return e.PushNotificationDeliveryOption[n]})).indexOf(this.pushNotificationDeliveryOption))}},{key:"file",get:function(){return this._file},set:function(e){H.isFile(e)&&(this._fileUrl=null,this._file=e)}},{key:"fileUrl",get:function(){return this._fileUrl},set:function(e){"string"==typeof e&&(this._fileUrl=e,this._file=null)}},{key:"thumbnailSizes",get:function(){return this._thumbnailSizes},set:function(e){if(Array.isArray(e)){for(var n=0;n<e.length;n++)if("object"!==a(e[n])||"number"!=typeof e[n].maxWidth||"number"!=typeof e[n].maxHeight)return void(this._thumbnailSizes=[]);this._thumbnailSizes=e}}}]),n}(),on=function(){d(n,an);var e=_(n);function n(t){var r;return s(this,n),(r=e.call(this)).year=null,r.month=null,r.day=null,r.hour=null,r.min=null,r.timezone=null,r._scheduledDateTimeString=null,t&&r._update(t),r}return l(n,[{key:"_update",value:function(e){e.hasOwnProperty("message")&&(this.message=e.message),e.hasOwnProperty("year")&&(this.year=e.year),e.hasOwnProperty("month")&&(this.month=e.month),e.hasOwnProperty("day")&&(this.day=e.day),e.hasOwnProperty("hour")&&(this.hour=e.hour),e.hasOwnProperty("min")&&(this.min=e.min),e.hasOwnProperty("timezone")&&(this.timezone=e.timezone)}},{key:"_getScheduleString",value:function(){return this.scheduledDateTimeString?this.scheduledDateTimeString+" "+this.timezone:"number"==typeof this.year&&4===this.year.toString().length&&"number"==typeof this.month&&1<=this.month&&this.month<=12&&"number"==typeof this.day&&1<=this.day&&this.day<=31&&"number"==typeof this.hour&&0<=this.hour&&this.hour<=24&&"number"==typeof this.min&&0<=this.min&&this.min<=60&&"string"==typeof this.timezone&&0<this.timezone.length?this.year.toString()+"-"+("0"+this.month.toString()).substr(-2)+"-"+("0"+this.day.toString()).substr(-2)+" "+("0"+this.hour.toString()).substr(-2)+":"+("0"+this.min.toString()).substr(-2)+" "+this.timezone:null}},{key:"setSchedule",value:function(e,n,t,r,i,a){"number"==typeof e&&4===e.toString().length&&"number"==typeof n&&1<=n&&n<=12&&"number"==typeof t&&1<=t&&t<=31&&"number"==typeof r&&0<=r&&r<=24&&"number"==typeof i&&0<=i&&i<=60&&"string"==typeof a&&0<a.length&&(this.scheduledDateTimeString=e.toString()+"-"+("0"+n.toString()).substr(-2)+"-"+("0"+t.toString()).substr(-2)+" "+("0"+r.toString()).substr(-2)+":"+("0"+i.toString()).substr(-2),this.timezone=a)}},{key:"scheduledDateTimeString",get:function(){return this._scheduledDateTimeString?this._scheduledDateTimeString:"number"==typeof this.year&&4===this.year.toString().length&&"number"==typeof this.month&&1<=this.month&&this.month<=12&&"number"==typeof this.day&&1<=this.day&&this.day<=31&&"number"==typeof this.hour&&0<=this.hour&&this.hour<=24&&"number"==typeof this.min&&0<=this.min&&this.min<=60&&"string"==typeof this.timezone&&0<this.timezone.length?this.year.toString()+"-"+("0"+this.month.toString()).substr(-2)+"-"+("0"+this.day.toString()).substr(-2)+" "+("0"+this.hour.toString()).substr(-2)+":"+("0"+this.min.toString()).substr(-2):null},set:function(e){e&&"string"==typeof e&&(this._scheduledDateTimeString=e)}}]),n}(),ln=function(){function e(){s(this,e),this.channelUrl=null,this.channelType=null,this.messageId=0,this.includeMetaArray=!1,this.includeParentMessageText=!1,this.includeThreadInfo=!1}return l(e,[{key:"_validate",value:function(){var e=P.get(this._iid).BaseChannel;return"string"==typeof this.channelUrl&&"string"==typeof this.channelType&&[e.CHANNEL_TYPE_BASE,e.CHANNEL_TYPE_OPEN,e.CHANNEL_TYPE_GROUP].includes(this.channelType)&&"number"==typeof this.messageId&&"boolean"==typeof this.includeMetaArray&&"boolean"==typeof this.includeParentMessageText&&"boolean"==typeof this.includeThreadInfo}}]),e}(),un=function(){function e(){s(this,e);var n=P.get(this._iid).BaseChannel;this.prevResultSize=0,this.nextResultSize=0,this.isInclusive=!1,this.reverse=!1,this.messageType=n.MessageTypeFilter.ALL,this.customType=null,this.senderUserIds=null,this.includeMetaArray=!1,this.includeReaction=null,this.includeReactions=!1,this.includeReplies=!1,this.includeParentMessageText=!1,this.includeThreadInfo=!1}return l(e,[{key:"_validate",value:function(){"boolean"==typeof this.includeReaction&&this.includeReaction&&(this.includeReactions=this.includeReaction);var e=P.get(this._iid).BaseChannel;return"number"==typeof this.prevResultSize&&"number"==typeof this.nextResultSize&&"boolean"==typeof this.isInclusive&&"boolean"==typeof this.reverse&&"string"==typeof this.messageType&&Object.values(e.MessageTypeFilter).includes(this.messageType)&&("string"==typeof this.customType||null===this.customType)&&(Array.isArray(this.senderUserIds)&&this.senderUserIds.every((function(e){return"string"==typeof e}))||null===this.senderUserIds)&&"boolean"==typeof this.includeMetaArray&&"boolean"==typeof this.includeReactions&&"boolean"==typeof this.includeReplies&&"boolean"==typeof this.includeParentMessageText&&"boolean"==typeof this.includeThreadInfo}}]),e}(),cn=function(){function e(){s(this,e);var n=P.get(this._iid).BaseChannel;this.prevResultSize=0,this.nextResultSize=0,this.isInclusive=!1,this.reverse=!1,this.messageType=n.MessageTypeFilter.ALL,this.customType=null,this.senderUserIds=null,this.includeMetaArray=!1,this.includeReaction=null,this.includeReactions=!1,this.includeParentMessageText=!1}return l(e,[{key:"_validate",value:function(){"boolean"==typeof this.includeReaction&&this.includeReaction&&(this.includeReactions=this.includeReaction);var e=P.get(this._iid).BaseChannel;return"number"==typeof this.prevResultSize&&"number"==typeof this.nextResultSize&&"boolean"==typeof this.isInclusive&&"boolean"==typeof this.reverse&&"string"==typeof this.messageType&&Object.values(e.MessageTypeFilter).includes(this.messageType)&&("string"==typeof this.customType||null===this.customType)&&(Array.isArray(this.senderUserIds)&&this.senderUserIds.every((function(e){return"string"==typeof e}))||null===this.senderUserIds)&&"boolean"==typeof this.includeMetaArray&&"boolean"==typeof this.includeReactions&&"boolean"==typeof this.includeParentMessageText}}]),e}(),dn=function(){function e(){s(this,e),this.includeMetaArray=!1,this.includeReaction=null,this.includeReactions=!1,this.includeReplies=!1,this.includeParentMessageText=!1,this.includeThreadInfo=!1}return l(e,[{key:"_validate",value:function(){return"boolean"==typeof this.includeReaction&&this.includeReaction&&(this.includeReactions=this.includeReaction),"boolean"==typeof this.includeMetaArray&&"boolean"==typeof this.includeReactions&&"boolean"==typeof this.includeReplies&&"boolean"==typeof this.includeParentMessageText&&"boolean"==typeof this.includeThreadInfo}}]),e}(),fn=function(){function e(){s(this,e),this.customTypes=[],this.includeEmpty=!1,this.includeFrozen=!0}return l(e,[{key:"_validate",value:function(){return(Array.isArray(this.customTypes)&&this.customTypes.every((function(e){return"string"==typeof e}))||null===this.customTypes)&&("boolean"==typeof this.includeEmpty||null===this.includeEmpty)&&"boolean"==typeof this.includeFrozen}}]),e}(),hn=function(){function e(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];s(this,e),this.key=n,this.value=Array.isArray(t)&&t.every((function(e){return"string"==typeof e}))?t:[]}return l(e,[{key:"encode",value:function(){return{key:this.key,value:this.value||[]}}}]),e}(),pn=new WeakMap,gn=function(){function e(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;s(this,e),this.key=n,this.userIds=t,this.updatedAt=r;var i={};for(var a in this.userIds)i[this.userIds[a]]=this.updatedAt;pn.set(this,i)}return l(e,[{key:"serialize",value:function(){return{key:this.key,user_ids:this.userIds,updated_at:this.updatedAt}}},{key:"_applyEvent",value:function(e){if(e instanceof $){var n=pn.get(this);if(e.key===this.key&&(!n[e.userId]||n[e.userId]<e.updatedAt)){var t=this.userIds.indexOf(e.userId);switch(e.operation){case"add":t<0&&this.userIds.push(e.userId);break;case"delete":0<=t&&this.userIds.splice(t,1)}n[e.userId]=e.updatedAt}}}},{key:"isEmpty",get:function(){return 0===this.userIds.length}}],[{key:"createFromJson",value:function(e){var n=e.key,t=e.user_ids,r=e.updated_at;return"string"==typeof n&&n&&Array.isArray(t)&&0<t.length&&"number"==typeof r?new this(n,t,r):null}}]),e}(),yn=function(){function e(n){s(this,e),this.replyCount=0,this.mostRepliedUsers=[],this.lastRepliedAt=0,this.updatedAt=0,n&&this._update(n)}return l(e,[{key:"_update",value:function(e){var n=P.get(this._iid).User;e.hasOwnProperty("reply_count")&&(this.replyCount=parseInt(e.reply_count)),e.hasOwnProperty("most_replies")&&Array.isArray(e.most_replies)&&e.most_replies.every((function(e){return"object"===a(e)}))&&(this.mostRepliedUsers=e.most_replies.map((function(e){return new n(e)}))),e.hasOwnProperty("last_replied_at")&&(this.lastRepliedAt=parseInt(e.last_replied_at)),e.hasOwnProperty("updated_at")&&(this.updatedAt=parseInt(e.updated_at))}}],[{key:"objectify",value:function(e){var n=P.get(this._iid).User,t=e.replyCount,r=e.mostRepliedUsers,i=e.lastRepliedAt,a=e.updatedAt,s={};return s.reply_count=t,Array.isArray(r)&&r.every((function(e){return e instanceof n}))&&(s.most_replies=r.map((function(e){return n.objectify(e)}))),s.last_replied_at=i,s.updated_at=a,s}},{key:"build",value:function(e,n,t,r){return this.objectify({replyCount:e,mostRepliedUsers:n,lastRepliedAt:t,updatedAt:r})}}]),e}(),mn=function(){function e(n){s(this,e),this.title=null,this.url=null,this.description=null,this.defaultImage=null,n&&this._update(n)}return l(e,[{key:"_update",value:function(e){var n=P.get(this._iid).OGImage;e.hasOwnProperty("og:title")&&(this.title=e["og:title"]),e.hasOwnProperty("og:url")&&(this.url=e["og:url"]),e.hasOwnProperty("og:description")&&(this.description=e["og:description"]),e.hasOwnProperty("og:image")&&(this.defaultImage=new n(e["og:image"]))}}],[{key:"objectify",value:function(e){var n=P.get(this._iid).OGImage,t=e.title,r=void 0===t?null:t,i=e.url,a=void 0===i?null:i,s=e.description,o=void 0===s?null:s,l=e.defaultImage,u=void 0===l?null:l,c={};return c["og:title"]=r,c["og:url"]=a,c["og:description"]=o,u&&(c["og:image"]=n.objectify(u)),c}}]),e}(),_n=function(){function e(n){s(this,e),this.url=null,this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,n&&this._update(n)}return l(e,[{key:"_update",value:function(e){e.hasOwnProperty("url")&&(this.url=e.url),e.hasOwnProperty("secure_url")&&(this.secureUrl=e.secure_url),e.hasOwnProperty("type")&&(this.type=e.type),e.hasOwnProperty("width")&&(this.width=parseInt(e.width)),e.hasOwnProperty("height")&&(this.height=parseInt(e.height)),e.hasOwnProperty("alt")&&(this.alt=e.alt)}}],[{key:"objectify",value:function(e){var n=e.url,t=void 0===n?null:n,r=e.secureUrl,i=void 0===r?null:r,a=e.type,s=void 0===a?null:a,o=e.width,l=void 0===o?0:o,u=e.height,c=void 0===u?0:u,d=e.alt,f=void 0===d?null:d,h={};return h.url=t,h.secure_url=i,h.type=s,h.width=l,h.height=c,h.alt=f,h}}]),e}(),vn=function(){function e(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];s(this,e),this.isLoading=!1,this.hasNext=!0,this.limit=20,this.userIds=n,this.metaDataKey="",this.metaDataValues=[],this._token=""}return l(e,[{key:"next",value:function(e){var n=this;return Z(this._iid,(function(e){"number"==typeof n.limit&&0<n.limit&&Array.isArray(n.userIds)&&"string"==typeof n.metaDataKey&&Array.isArray(n.metaDataValues)&&!!n.metaDataKey==0<n.metaDataValues.length?n.isLoading?e(new T("Query in progress.",T.QUERY_IN_PROGRESS),null):n.hasNext?(n.isLoading=!0,w.get(n._iid).container.apiClient.loadUserList(c(c({},n),{},{userIdsFilter:n.userIds,metaDataKeyFilter:n.metaDataKey,metaDataValuesFilter:n.metaDataValues,token:n._token}),(function(t,r){var i=null;if(!t){var a=P.get(n._iid).User,s=String(r.next);n._token=s,n.hasNext=!!s,i=r.users.map((function(e){return new a(e)}))}n.isLoading=!1,e(t,i)}))):e(null,[]):e(q.error,null)}),e)}}]),e}(),En=new WeakMap,bn=function(){function e(n){s(this,e),this.isLoading=!1,En.set(this,n)}return l(e,[{key:"prev",value:function(e,n,t,r){var i=arguments,a=this;return Z(this._iid,(function(r){var s,o=P.get(a._iid).BaseChannel,l=E(q.parse(i,[new q({type:"number"}),new q({type:"number"}),new q({type:"boolean"}),new q({type:"function"})]),5);if(s=l[0],e=l[1],n=l[2],t=l[3],r=l[4],s)r(s,null);else if(a.isLoading)r(new T("Query in progress.",T.QUERY_IN_PROGRESS),null);else{a.isLoading=!0;var u=En.get(a);w.get(a._iid).container.apiClient.getMessageList({channelUrl:u.url,channelType:u.channelType,token:e,tokenType:"timestamp",isInclusive:!1,prevResultSize:n,nextResultSize:0,shouldReverse:t,messageType:"",customType:""},(function(e,n){var t=null;e||(t=n.messages.map((function(e){return o.buildMessage(e,u)}))),a.isLoading=!1,r(e,t)}))}}),r)}},{key:"next",value:function(e,n,t,r){var i=arguments,a=this;return Z(this._iid,(function(r){var s,o=P.get(a._iid).BaseChannel,l=E(q.parse(i,[new q({type:"number"}),new q({type:"number"}),new q({type:"boolean"}),new q({type:"function"})]),5);if(s=l[0],e=l[1],n=l[2],t=l[3],r=l[4],s)r(s,null);else if(a.isLoading)r(new T("Query in progress.",T.QUERY_IN_PROGRESS),null);else{a.isLoading=!0;var u=En.get(a);w.get(a._iid).container.apiClient.getMessageList({channelUrl:u.url,channelType:u.channelType,token:e,tokenType:"timestamp",isInclusive:!1,prevResultSize:0,nextResultSize:n,shouldReverse:t,messageType:"",customType:""},(function(e,n){var t=null;e||(t=n.messages.map((function(e){return o.buildMessage(e,u)}))),a.isLoading=!1,r(e,t)}))}}),r)}},{key:"load",value:function(e,n,t,r,i){var a=arguments,s=this;return Z(this._iid,(function(i){var o,l=P.get(s._iid).BaseChannel,u=E(q.parse(a,[new q({type:"number"}),new q({type:"number"}),new q({type:"number"}),new q({type:"boolean"}),new q({type:"callback"})]),6);if(o=u[0],e=u[1],n=u[2],t=u[3],r=u[4],i=u[5],o)i(o,null);else if(s.isLoading)i(new T("Query in progress.",T.QUERY_IN_PROGRESS),null);else{s.isLoading=!0;var c=En.get(s);w.get(s._iid).container.apiClient.getMessageList({channelUrl:c.url,channelType:c.channelType,token:e,tokenType:"timestamp",isInclusive:!1,prevResultSize:n,nextResultSize:t,shouldReverse:r,messageType:"",customType:""},(function(e,n){var t=null;e||(t=n.messages.map((function(e){return l.buildMessage(e,c)}))),s.isLoading=!1,i(e,t)}))}}),i)}}]),e}(),Cn=null,Sn={},kn=!1,Un=function(){function e(n){s(this,e);var t=!1;if((n.newInstance||!Cn||Cn&&n.appId!==Cn.getApplicationId()&&Cn.getConnectionState()===Cn.ConnectionState.CLOSED)&&(t=!0,Cn=this),t){try{if(!n.hasOwnProperty("appId"))return O.debug("Must be set appId"),null}catch(n){return O.debug("Must be set appId"),null}var r=me.create();Object.defineProperty(this,"_iid",{get:function(){return r}}),(Sn[r]=this).customApiHost=null,this.customWsHost=null,this.connecting=!1,this.reconnecting=!1,this.isReconnectingOnError=!1,this.connectionCallbacks=[],this.ConnectionManager=new Q(this),this.GCMPushToken="",this.APNSPushToken="",this.PUSH_TEMPLATE_DEFAULT="default",this.PUSH_TEMPLATE_ALTERNATIVE="alternative",this.currentUser=null,this.isSessionOpened=!1,this.globalTimer,this.loginTimer,this.reconnectTimer,this.loginHandler=null,this.onLoginTimerCancel,this.onReconnectTimerCancel,this.BaseChannel={MessageTypeFilter:ae.MessageTypeFilter};var i={User:re,Member:ke,GroupChannel:Se,OpenChannel:Re,UserMessage:Oe,FileMessage:Me,AdminMessage:Pe,GroupChannelListQuery:Be,MemberListQuery:ze,GroupChannelParams:nn,BaseMessageParams:rn,UserMessageParams:an,FileMessageParams:sn,ScheduledUserMessageParams:on,GroupChannelTotalUnreadMessageCountParams:fe,MessageRetrievalParams:ln,MessageListParams:un,ThreadedMessageListParams:cn,MessageChangeLogsParams:dn,GroupChannelChangeLogsParams:fn,MessageMetaArray:hn,UserEventHandler:pe,ChannelHandler:ge,ConnectionHandler:he},a={BaseChannel:ae,BaseMessage:te,UserListQuery:vn,ApplicationUserListQuery:He,BannedUserListQuery:xe,BlockedUserListQuery:Fe,FriendListQuery:Ge,MutedUserListQuery:je,OpenChannelListQuery:qe,OperatorListQuery:Ye,ParticipantListQuery:We,MessageListQuery:bn,PreviousMessageListQuery:Ze,MessageSearchQuery:Je,PublicGroupChannelListQuery:en,ScheduledUserMessage:Le,ThreadInfo:yn,ThreadInfoUpdateEvent:De,OGMetaData:mn,OGImage:_n,Command:W,Sender:Ue,ReadStatus:ye,Reaction:gn,ReactionEvent:$,Emoji:Te,EmojiCategory:we,EmojiContainer:Ae,FileMessageQueue:de},o=new P(this._iid,c(c({},i),a));for(var l in o)i[l]&&(this[l]=o[l]);w.create(r,{appId:n.appId,pinger:new L(this),apiClient:new B(this),wsAdapter:new j(this),commandHandler:new le(this),onlineDetector:new Y(this),ackStateMap:{},subscribedUnreadMessageCount:{all:0,custom_types:{},ts:0},maxUnreadCountOfSuperGroupChannel:k.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,auth:new N,appInfo:null,pingInterval:15e3,pongTimeout:5e3,connectedAt:0,extensions:{},supportedExtensionKeys:["sb_uikit","sb_syncmanager"],getUserAgentWithExtensions:function(e){var n=e.sb_syncmanager?"s".concat(e.sb_syncmanager):"",t=e.sb_uikit?"u".concat(e.sb_uikit):"";return"JS/c".concat(k.SDK_VERSION,"/").concat(n,"/").concat(t)},stateChangeEnabled:!0,isInBackground:!1,closedByGoingBackground:!1,isErrorFirstInCallback:!1}),this.userEventHandlers={},this.channelHandlers={},this.connectionHandlers={},this.Options={_useMemberAsMessageSender:!0,get UseMemberAsMessageSender(){return this._useMemberAsMessageSender},set UseMemberAsMessageSender(e){"boolean"==typeof e&&(this._useMemberAsMessageSender=e)},get useMemberAsMessageSender(){return this._useMemberAsMessageSender},set useMemberAsMessageSender(e){"boolean"==typeof e&&(this._useMemberAsMessageSender=e)},_typingIndicatorThrottle:1e3,get typingIndicatorThrottle(){return this._typingIndicatorThrottle},set typingIndicatorThrottle(e){"number"==typeof e&&1e3<=e&&e<=9e3&&(this._typingIndicatorThrottle=e)},_websocketResponseTimeout:1e4,get websocketResponseTimeout(){return this._websocketResponseTimeout},set websocketResponseTimeout(e){"number"==typeof e&&5e3<=e&&e<=3e5&&(this._websocketResponseTimeout=e)}}}return Cn}return l(e,[{key:"getApplicationId",value:function(){return w.get(this._iid).get("appId")}},{key:"getCurrentUserId",value:function(){return this.currentUser?this.currentUser.userId:null}},{key:"getDebugMode",value:function(){return kn}},{key:"setDebugMode",value:function(e){kn=e,O.mode=e?O.Mode.DEBUG:O.Mode.PRODUCTION}},{key:"getErrorFirstCallback",value:function(){return w.get(this._iid).container.isErrorFirstInCallback}},{key:"setErrorFirstCallback",value:function(e){"boolean"==typeof e&&w.get(this._iid).set("isErrorFirstInCallback",e)}},{key:"getCurrentApiHost",value:function(){return this.customApiHost?this.customApiHost:"https://api.sendbird.com"}},{key:"clearCurrentApiHost",value:function(){this.customApiHost=null}},{key:"getCurrentWsHost",value:function(){return this.customWsHost?this.customWsHost:"wss://ws.sendbird.com"}},{key:"clearCurrentWsHost",value:function(){this.customWsHost=null}},{key:"getConnectionState",value:function(){try{var e=w.get(this._iid).container.wsAdapter;return this.connecting||this.reconnecting?this.ConnectionState.CONNECTING:e.ws?this.connecting||this.reconnecting?this.ConnectionState.CONNECTING:this.isSessionOpened?e.ws.getConnectionState():this.ConnectionState.CLOSED:this.ConnectionState.CLOSED}catch(e){return this.ConnectionState.CLOSED}}},{key:"getPendingGCMToken",value:function(){return this.GCMPushToken}},{key:"getPendingAPNSToken",value:function(){return this.APNSPushToken}},{key:"hasLoggedIn",value:function(){var e=w.get(this._iid);return this.currentUser&&e.get("auth").hasSession()}},{key:"getLastConnectedAt",value:function(){var e=w.get(this._iid);return this.getConnectionState()===this.ConnectionState.OPEN&&this.currentUser?e.get("connectedAt"):0}},{key:"connect",value:function(e,n,t,r,i){var a=this,s=w.get(this._iid).container,o=s.wsAdapter,l=s.onlineDetector;l&&l.start();var u,c=E(q.parse(arguments,[new q({type:"string",constraint:function(e){return 0<e.length}}),new q({type:"string",nullable:!0,ignoreIf:function(e){return 1===e.length||3===e.length}}),new q({type:"string",nullable:!0,ignoreIf:function(e){return 1===e.length||2===e.length}}),new q({type:"string",nullable:!0,ignoreIf:function(e){return 1===e.length||2===e.length}}),new q({type:"callback"})]),6);return u=c[0],e=c[1],n=c[2],t=c[3],r=c[4],i=c[5],Z(this._iid,(function(i){u?i(u,null):(a.customApiHost=t,a.customWsHost=r,a.connecting=!0,a.reconnecting=!1,a.isReconnectingOnError=!1,a.reconnectTimer&&(clearTimeout(a.reconnectTimer),a.reconnectTimer=null,a.onReconnectTimerCancel=null),a.getConnectionState()===a.ConnectionState.OPEN&&a.currentUser&&a.currentUser.userId===e?(a.connecting=!1,i(null,a.currentUser)):(a.connectionCallbacks.push(i),1===a.connectionCallbacks.length&&(o.disconnect({clearSession:!0,err:null},null),o.connect(e,n))))}),i)}},{key:"reconnect",value:function(){var e=w.get(this._iid).container,n=e.wsAdapter;if(e.auth.sessionKey&&this.currentUser){var t=!0;return 0<n.reconnectCount&&(t=!1),n.disconnect({clearSession:!1,err:new T("Connection has been canceled.",T.CONNECTION_CANCELED)},null),n.reconnectCount=0,n.reconnect(this.currentUser.userId,t),!0}return!1}},{key:"disconnect",value:function(e){var n=this;return Z(this._iid,(function(e){var t=w.get(n._iid).container,r=t.wsAdapter,i=t.onlineDetector;i&&i.stop(),r.disconnect({clearSession:!0,err:new T("Connection has been canceled.",T.CONNECTION_CANCELED)},e)}),e)}},{key:"setBackgroundState",value:function(){var e=w.get(this._iid),n=e.container,t=n.wsAdapter,r=n.stateChangeEnabled;!n.isInBackground&&r&&(e.set("isInBackground",!0),this.getConnectionState()!==this.ConnectionState.CLOSED?(e.set("closedByGoingBackground",!0),t.disconnect({clearSession:!1,err:new T("Websocket connection failed.",T.WEBSOCKET_CONNECTION_FAILED)},null)):e.set("closedByGoingBackground",!1))}},{key:"setForegroundState",value:function(){var e=w.get(this._iid),n=e.container,t=n.wsAdapter,r=n.stateChangeEnabled,i=n.isInBackground,a=n.closedByGoingBackground;i&&r&&(e.set("isInBackground",!1),a&&this.currentUser&&t.reconnect(this.currentUser.userId,!0))}},{key:"enableStateChange",value:function(){w.get(this._iid).set("enableStateChange",!0)}},{key:"disableStateChange",value:function(){w.get(this._iid).set("enableStateChange",!1)}},{key:"addExtension",value:function(e,n){var t=w.get(this._iid).container,r=t.extensions;-1<t.supportedExtensionKeys.indexOf(e)&&(r[e]=n)}},{key:"createUserListQuery",value:function(e){return new(P.get(this._iid).UserListQuery)(e)}},{key:"createApplicationUserListQuery",value:function(){return new(P.get(this._iid).ApplicationUserListQuery)}},{key:"createBlockedUserListQuery",value:function(){return new(P.get(this._iid).BlockedUserListQuery)}},{key:"createFriendListQuery",value:function(){return new(P.get(this._iid).FriendListQuery)}},{key:"createMessageSearchQuery",value:function(e,n){return new(P.get(this._iid).MessageSearchQuery)(e,n)}},{key:"sendCommand",value:function(e,n){var t=this;return Z(this._iid,(function(n){t.ConnectionManager.ready((function(r,i){if(r)n(r,null);else{var a=w.get(t._iid).container,s=a.wsAdapter,o=a.ackStateMap;if(null==s||null==s.ws||s.ws.getConnectionState()!==t.ConnectionState.OPEN||t.getConnectionState()!==t.ConnectionState.OPEN)return void n(new T("Connection is not valid. Please reconnect.",T.WEBSOCKET_CONNECTION_CLOSED),null);if(e.isAckRequired){var l=e.requestId,u={handler:n,timer:setTimeout((function(){n(new T("Command received no ack.",T.ACK_TIMEOUT),null),delete o[l]}),t.Options.websocketResponseTimeout)};o[l]=u,s.ws.send(e,(function(e){e&&(clearTimeout(u.timer),n(e,null))}))}else s.ws.send(e,n)}}),!1)}),n)}},{key:"addUserEventHandler",value:function(e,n){n instanceof P.get(this._iid).UserEventHandler&&(this.userEventHandlers[e]=n)}},{key:"removeUserEventHandler",value:function(e){delete this.userEventHandlers[e]}},{key:"removeAllUserEventHandler",value:function(){this.userEventHandlers={}}},{key:"addChannelHandler",value:function(e,n){n instanceof P.get(this._iid).ChannelHandler&&(this.channelHandlers[e]=n)}},{key:"removeChannelHandler",value:function(e){delete this.channelHandlers[e]}},{key:"removeAllChannelHandlers",value:function(){this.channelHandlers={}}},{key:"addConnectionHandler",value:function(e,n){n instanceof P.get(this._iid).ConnectionHandler&&(this.connectionHandlers[e]=n)}},{key:"removeConnectionHandler",value:function(e){delete this.connectionHandlers[e]}},{key:"removeAllConnectionHandlers",value:function(){this.connectionHandlers={}}},{key:"updateCurrentUserInfo",value:function(e,n,t){var r,i=this,a=E(q.parse(arguments,[new q({type:"string",nullable:!0}),new q({type:"string",nullable:!0}),new q({type:"callback"})]),4);return r=a[0],e=a[1],n=a[2],t=a[3],Z(this._iid,(function(t){r?t(r,null):w.get(i._iid).container.apiClient.updateCurrentUserInfo({nickname:e,profileUrl:n},(function(r,a){var s=null;r||(i.currentUser&&(e&&(i.currentUser.nickname=e),n&&(i.currentUser.plainProfileUrl=n)),s=i.currentUser),t(r,s)}))}),t)}},{key:"updateCurrentUserInfoWithProfileImage",value:function(e,n,t){var r,i=this,a=E(q.parse(arguments,[new q({type:"string",nullable:!0}),new q({type:"file",nullable:!0}),new q({type:"callback"})]),4);return r=a[0],e=a[1],n=a[2],t=a[3],Z(this._iid,(function(t){r?t(r,null):w.get(i._iid).container.apiClient.updateCurrentUserInfo({nickname:e,profileImage:n},(function(n,r){var a=null;n||(i.currentUser&&(e&&(i.currentUser.nickname=e),r.profile_url&&(i.currentUser.plainProfileUrl=r.profile_url)),a=i.currentUser),t(n,a)}))}),t)}},{key:"updateCurrentUserInfoWithPreferredLanguages",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"array",constraint:function(e){return e.every((function(e){return"string"==typeof e}))}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.updateCurrentUserInfo({preferredLanguages:e},(function(t,i){var a=null;t||(r.currentUser&&e&&(r.currentUser._preferredLanguages=e),a=r.currentUser),n(t,a)}))}),n)}},{key:"registerGCMPushTokenForCurrentUser",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"string",constraint:function(e){return 0<e.length}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,r.pushTokenRegistrationState.ERROR):r.currentUser?w.get(r._iid).container.apiClient.registerGCMPushToken({token:e},(function(e,t){var i=r.pushTokenRegistrationState.ERROR;e||(r.GCMPushToken="",i=r.pushTokenRegistrationState.SUCCESS),n(e,i)})):(r.GCMPushToken=e,n(null,r.pushTokenRegistrationState.PENDING))}),n)}},{key:"unregisterGCMPushTokenForCurrentUser",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"string",constraint:function(e){return 0<e.length}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):r.currentUser?w.get(r._iid).container.apiClient.unregisterGCMPushToken({token:e},(function(e,t){n(e,null)})):(r.GCMPushToken=e,n(null,r.pushTokenRegistrationState.PENDING))}),n)}},{key:"unregisterGCMPushTokenAllForCurrentUser",value:function(e){var n=this;return Z(this._iid,(function(e){w.get(n._iid).container.apiClient.unregisterAllGCMPushTokens({},(function(n,t){e(n,null)}))}),e)}},{key:"registerAPNSPushTokenForCurrentUser",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"string",constraint:function(e){return 0<e.length}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,r.pushTokenRegistrationState.ERROR):r.currentUser?w.get(r._iid).container.apiClient.registerAPNSPushToken({token:e},(function(e,t){var i=r.pushTokenRegistrationState.ERROR;e||(r.APNSPushToken="",i=r.pushTokenRegistrationState.SUCCESS),n(e,i)})):(r.APNSPushToken=e,n(null,r.pushTokenRegistrationState.PENDING))}),n)}},{key:"unregisterAPNSPushTokenForCurrentUser",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"string",constraint:function(e){return 0<e.length}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):r.currentUser?w.get(r._iid).container.apiClient.unregisterAPNSPushToken({token:e},(function(e,t){n(e,null)})):(r.APNSPushToken=e,n(null,r.pushTokenRegistrationState.PENDING))}),n)}},{key:"unregisterAPNSPushTokenAllForCurrentUser",value:function(e){var n=this;return Z(this._iid,(function(e){w.get(n._iid).container.apiClient.unregisterAllAPNSPushTokens({},(function(n,t){e(n,null)}))}),e)}},{key:"unregisterPushTokenAllForCurrentUser",value:function(e){var n=this;return Z(this._iid,(function(e){w.get(n._iid).container.apiClient.unregisterAllPushTokens({},(function(n,t){e(n,null)}))}),e)}},{key:"getMyGroupChannelChangeLogsByToken",value:function(e,n,t,r){var i=this,a=null,s=E(q.parse(arguments,[new q({type:"string",nullable:!0}),new q({type:"array",optional:!0,nullable:!0,defaultValue:null}),new q({type:"boolean",nullable:!0,optional:!0,defaultValue:null}),new q({type:"callback"})]),5);a=s[0],e=s[1],n=s[2],t=s[3],r=s[4];var o=P.get(this._iid).GroupChannelChangeLogsParams,l=null;if(a){var u=E(q.parse(arguments,[new q({type:"string",nullable:!0}),new q({type:o,constraint:function(e){return e._validate()}}),new q({type:"callback"})]),4);a=u[0],e=u[1],l=u[2],r=u[3]}else(l=new o).customTypes=n,l.includeEmpty=t,l.includeFrozen=!0;return Z(this._iid,(function(n){a?n(a,null):w.get(i._iid).container.apiClient.getMyGroupChannelChangeLogs(c({ts:null,token:e},l),(function(e,t){if(e)n(e,null);else{var r=P.get(i._iid).GroupChannel,a=t.updated.map((function(e){return new r(e)})),s=t.deleted,o=t.has_more,l=t.next;n(null,{updatedChannels:a,deletedChannelUrls:s,hasMore:o,token:l})}}))}),r)}},{key:"getMyGroupChannelChangeLogsByTimestamp",value:function(e,n,t,r){var i=this,a=null,s=E(q.parse(arguments,[new q({type:"number",constraint:function(e){return 0<=e}}),new q({type:"array",optional:!0,nullable:!0,defaultValue:null}),new q({type:"boolean",nullable:!0,optional:!0,defaultValue:null}),new q({type:"callback"})]),5);a=s[0],e=s[1],n=s[2],t=s[3],r=s[4];var o=P.get(this._iid).GroupChannelChangeLogsParams,l=null;if(a){var u=E(q.parse(arguments,[new q({type:"number",constraint:function(e){return 0<=e}}),new q({type:o,constraint:function(e){return e._validate()}}),new q({type:"callback"})]),4);a=u[0],e=u[1],l=u[2],r=u[3]}else(l=new o).customTypes=n,l.includeEmpty=t,l.includeFrozen=!0;return Z(this._iid,(function(n){a?n(a,null):w.get(i._iid).container.apiClient.getMyGroupChannelChangeLogs(c({ts:e,token:null},l),(function(e,t){if(e)n(e,null);else{var r=P.get(i._iid).GroupChannel,a=t.updated.map((function(e){return new r(e)})),s=t.deleted,o=t.has_more,l=t.next;n(null,{updatedChannels:a,deletedChannelUrls:s,hasMore:o,token:l})}}))}),r)}},{key:"getChannelInvitationPreference",value:function(e){var n=this;return Z(this._iid,(function(e){w.get(n._iid).container.apiClient.getChannelInvitationPreference({},(function(n,t){var r=null;n||(r={autoAccept:t.auto_accept}),e(n,r)}))}),e)}},{key:"setChannelInvitationPreference",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"boolean"}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.setChannelInvitationPreference({isAutoAccept:e},(function(e,t){var r=null;e||(r={autoAccept:t.auto_accept}),n(e,r)}))}),n)}},{key:"getDoNotDisturb",value:function(e){var n=this;return Z(this._iid,(function(e){w.get(n._iid).container.apiClient.getDoNotDisturb({},(function(n,t){var r=null;n||(r={doNotDisturbOn:t.do_not_disturb,startHour:t.start_hour,startMin:t.start_min,endHour:t.end_hour,endMin:t.end_min,timezone:t.timezone}),e(n,r)}))}),e)}},{key:"setDoNotDisturb",value:function(e,n,t,r,i,a,s){var o,l=this,u=E(q.parse(arguments,[new q({type:"boolean"}),new q({type:"number",constraint:function(e){return 0<=e&&e<=23}}),new q({type:"number",constraint:function(e){return 0<=e&&e<=59}}),new q({type:"number",constraint:function(e){return 0<=e&&e<=23}}),new q({type:"number",constraint:function(e){return 0<=e&&e<=59}}),new q({type:"string"}),new q({type:"callback"})]),8);return o=u[0],e=u[1],n=u[2],t=u[3],r=u[4],i=u[5],a=u[6],s=u[7],Z(this._iid,(function(s){o?s(o,null):w.get(l._iid).container.apiClient.setDoNotDisturb({doNotDisturbOn:e,startHour:n,startMin:t,endHour:r,endMin:i,timezone:a},(function(e,n){var t=null;e||(t={doNotDisturbOn:n.do_not_disturb,startHour:n.start_hour,startMin:n.start_min,endHour:n.end_hour,endMin:n.end_min,timezone:n.timezone}),s(e,t)}))}),s)}},{key:"getSnoozePeriod",value:function(e){var n=this;return Z(this._iid,(function(e){w.get(n._iid).container.apiClient.getSnoozePeriod({},(function(n,t){var r=null;n||(r={isSnoozeOn:t.snooze_enabled,startTs:t.snooze_start_ts,endTs:t.snooze_end_ts}),e(n,r)}))}),e)}},{key:"setSnoozePeriod",value:function(e,n,t,r){var i,a=this,s=E(q.parse(arguments,[new q({type:"boolean"}),new q({type:"number",constraint:function(e){return 0<e}}),new q({type:"number",constraint:function(e){return 0<e}}),new q({type:"callback"})]),5);return i=s[0],e=s[1],n=s[2],t=s[3],r=s[4],Z(this._iid,(function(r){i?r(i,null):w.get(a._iid).container.apiClient.setSnoozePeriod({snoozeOn:e,startTs:n,endTs:t},(function(e,n){var t=null;e||(t={isSnoozeOn:n.snooze_enabled,startTs:n.snooze_start_ts,endTs:n.snooze_end_ts}),r(e,t)}))}),r)}},{key:"blockUser",value:function(e,n){var t,r=E(q.parse(arguments,[new q({type:"object",constraint:function(e){return e&&e.hasOwnProperty("userId")}}),new q({type:"callback"})]),3);return t=r[0],e=r[1],n=r[2],t?Z(this._iid,(function(e){e(t,null)}),n):this.blockUserWithUserId(e.userId,n)}},{key:"blockUserWithUserId",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"string",constraint:function(e){return e&&(!r.currentUser||e!==r.currentUser.userId)}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.blockUser({blockedUserId:e},(function(e,t){var r=null;e||(r=new re(t)),n(e,r)}))}),n)}},{key:"unblockUser",value:function(e,n){var t,r=E(q.parse(arguments,[new q({type:"object",constraint:function(e){return e&&e.hasOwnProperty("userId")}}),new q({type:"callback"})]),3);return t=r[0],e=r[1],n=r[2],t?Z(this._iid,(function(e){e(t,null)}),n):this.unblockUserWithUserId(e.userId,n)}},{key:"unblockUserWithUserId",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"string",constraint:function(e){return e&&(!r.currentUser||e!==r.currentUser.userId)}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.unblockUser({unblockedUserId:e},(function(e,t){n(e,null)}))}),n)}},{key:"getPushTriggerOption",value:function(e){var n=this;return Z(this._iid,(function(e){w.get(n._iid).container.apiClient.getPushTriggerOption({},(function(n,t){e(n,t?t.push_trigger_option:null)}))}),e)}},{key:"setPushTriggerOption",value:function(e,n){var t=this;return Z(this._iid,(function(n){-1<Object.keys(t.PushTriggerOption).map((function(e){return t.PushTriggerOption[e]})).indexOf(e)?w.get(t._iid).container.apiClient.setPushTriggerOption({pushTriggerOption:e},(function(e,t){n(e,t?t.push_trigger_option:null)})):n(q.error,null)}),n)}},{key:"getGroupChannelCount",value:function(e,n){var t,r=this,i=P.get(this._iid).GroupChannel,a=E(q.parse(arguments,[new q({type:i.MemberStateFilter,optional:!0,defaultValue:i.MemberStateFilter.ALL}),new q({type:"callback"})]),3);return t=a[0],e=a[1],n=a[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.getGroupChannelCount({memberStateFilter:e},(function(e,t){var r=null;e||(r=parseInt(t.group_channel_count)),n(e,r)}))}),n)}},{key:"getTotalUnreadChannelCount",value:function(e){var n=this;return Z(this._iid,(function(e){w.get(n._iid).container.apiClient.getTotalUnreadChannelCount({},(function(n,t){var r=null;n||(r=parseInt(t.unread_count)),e(n,r)}))}),e)}},{key:"getTotalUnreadMessageCount",value:function(e,n){var t,r=this,i=P.get(this._iid),a=i.GroupChannel,s=i.GroupChannelTotalUnreadMessageCountParams,o=E(q.parse(arguments,[new q({type:"object",optional:!0,defaultValue:null,constraint:function(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))||e instanceof s}}),new q({type:"callback"})]),3);return t=o[0],e=o[1],n=o[2],Z(this._iid,(function(n){if(t)n(t,null);else{var i=a.SuperChannelFilter.ALL;if(e instanceof s){var o=e;e=o.channelCustomTypesFilter,i=o.superChannelFilter}w.get(r._iid).container.apiClient.getTotalUnreadMessageCount({customTypesFilter:e,superChannelFilter:i},(function(e,t){var r=null;e||(r=parseInt(t.unread_count)),n(e,r)}))}}),n)}},{key:"getUnreadItemCount",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"array",constraint:function(e){return 0<e.length&&e.every((function(e){return-1<Object.keys(Se.UnreadItemKey).map((function(e){return Se.UnreadItemKey[e]})).indexOf(e)}))}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){if(t)n(t,null);else{var i=e.filter((function(n,t){return e.indexOf(n)===t}));w.get(r._iid).container.apiClient.getUnreadItemCount({keys:i},(function(e,t){n(e,t)}))}}),n)}},{key:"getSubscribedTotalUnreadMessageCount",value:function(){var e=w.get(this._iid).container.subscribedUnreadMessageCount;return 0<=e.all?e.all:0}},{key:"getSubscribedCustomTypeTotalUnreadMessageCount",value:function(){var e=w.get(this._iid).container.subscribedUnreadMessageCount;if(0<Object.keys(e.custom_types).length){var n=0;for(var t in e.custom_types)n+=e.custom_types[t];return n}return 0}},{key:"getSubscribedCustomTypeUnreadMessageCount",value:function(e){if(e&&"string"==typeof e){var n=w.get(this._iid).container.subscribedUnreadMessageCount;return n.custom_types.hasOwnProperty(e)?n.custom_types[e]:0}return 0}},{key:"getMyPushTokensByToken",value:function(e,n,t){var r,i=this,a=E(q.parse(arguments,[new q({type:"string"}),new q({type:"string",constraint:function(e){return-1<["gcm","apns","apns_voip"].indexOf(e)}}),new q({type:"callback"})]),4);return r=a[0],e=a[1],n=a[2],t=a[3],Z(this._iid,(function(t){r?t(r,null):w.get(i._iid).container.apiClient.getPushTokens({ts:null,token:e,type:n},(function(e,n){if(e)t(e,null);else{var r=n.type;t(null,{deviceTokens:n.device_tokens,type:r?r.toLowerCase():"unknown",hasMore:n.has_more,token:n.token})}}))}),t)}},{key:"getPushTemplate",value:function(e){var n=this;return Z(this._iid,(function(e){w.get(n._iid).container.apiClient.getPushTemplate({},(function(n,t){var r=null;n||(r=t.name.toString()),e(n,r)}))}),e)}},{key:"setPushTemplate",value:function(e,n){var t=this;return Z(this._iid,(function(n){-1<[t.PUSH_TEMPLATE_DEFAULT,t.PUSH_TEMPLATE_ALTERNATIVE].indexOf(e)?w.get(t._iid).container.apiClient.setPushTemplate({templateName:e},(function(e,t){var r=null;e||(r=t.name.toString()),n(e,r)})):n(q.error,null)}),n)}},{key:"markAsReadAll",value:function(e){var n=this;return Z(this._iid,(function(e){var t=P.get(n._iid).GroupChannel,r=(new Date).getTime();r-t.markAsReadAllLastSentAt<1e3?e(new T("MarkAsRead rate limit exceeded.",T.MARK_AS_READ_RATE_LIMIT_EXCEEDED),null):(t.markAsReadAllLastSentAt=r,w.get(n._iid).container.apiClient.markAsReadAll({channelUrls:null},(function(i,a){if(!i)for(var s in t.cachedChannels)n.currentUser&&t.cachedChannels[s].updateReadReceipt(n.currentUser.userId,r),t.cachedChannels[s]._setGroupChannelUnreadCount(0,0);e(i,null)})))}),e)}},{key:"markAsReadWithChannelUrls",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"array",constraint:function(e){return e.every((function(e){return"string"==typeof e}))}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){if(t)n(t,null);else{var i=(new Date).getTime();w.get(r._iid).container.apiClient.markAsReadAll({channelUrls:e},(function(t,a){if(!t)for(var s in e){var o=e[s];Se.cachedChannels[o]&&(r.currentUser&&Se.cachedChannels[o].updateReadReceipt(r.currentUser.userId,i),Se.cachedChannels[o]._setGroupChannelUnreadCount(0,0))}n(t,null)}))}}),n)}},{key:"markAsDelivered",value:function(e){"string"==typeof e&&P.get(this._iid).GroupChannel.getChannel(e,k.INTERNAL_CALL,(function(e,n){e||n.markAsDelivered()}))}},{key:"getFriendChangeLogsByToken",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"string",optional:!0,defaultValue:null}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.getFriendChangeLogsByToken({token:e},(function(e,t){var i=null;if(!e){var a=P.get(r._iid).User;i={updatedUsers:t.updated.map((function(e){return new a(e)})),deletedUserIds:t.deleted,hasMore:t.has_more,token:t.next}}n(e,i)}))}),n)}},{key:"uploadFriendDiscoveries",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"array",constraint:function(e){return e.every((function(e){return e.hasOwnProperty("friendDiscoveryKey")}))}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.uploadFriendDiscoveries({discoveries:e},(function(e,t){n(e,t)}))}),n)}},{key:"deleteFriendDiscovery",value:function(e,n){var t,r=E(q.parse(arguments,[new q({type:"string"}),new q({type:"callback"})]),3);return t=r[0],e=r[1],n=r[2],t?Z(this._iid,(function(e){e(t,null)}),n):this.deleteFriendDiscoveries([e],n)}},{key:"deleteFriendDiscoveries",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"array",constraint:function(e){return e.every((function(e){return"string"==typeof e}))}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.deleteFriendDiscoveries({discoveryKeys:e},(function(e,t){n(e,t)}))}),n)}},{key:"addFriends",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"array",constraint:function(e){return e.every((function(e){return"string"==typeof e}))}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.addFriends({userIds:e},(function(e,t){var i=null;if(!e){var a=P.get(r._iid).User;i=t.users.map((function(e){return new a(e)}))}n(e,i)}))}),n)}},{key:"deleteFriend",value:function(e,n){var t,r=E(q.parse(arguments,[new q({type:"string"}),new q({type:"callback"})]),3);return t=r[0],e=r[1],n=r[2],t?Z(this._iid,(function(e){e(t,null)}),n):this.deleteFriends([e],n)}},{key:"deleteFriends",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"array",constraint:function(e){return e.every((function(e){return"string"==typeof e}))}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.deleteFriends({userIds:e},(function(e,t){n(e,t)}))}),n)}},{key:"getAllEmoji",value:function(e){var n,t=this,r=E(q.parse(arguments,[new q({type:"callback"})]),2);return n=r[0],e=r[1],Z(this._iid,(function(e){n?e(n,null):w.get(t._iid).container.apiClient.getAllEmoji((function(n,r){if(n)e(n,null);else{var i=new(P.get(t._iid).EmojiContainer)(r);e(null,i)}}))}),e)}},{key:"getEmojiCategory",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"number",constraint:function(e){return 0<=e}}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.getEmojiCategory({categoryId:e},(function(e,t){if(e)n(e,null);else{var i=new(P.get(r._iid).EmojiCategory)(t);n(null,i)}}))}),n)}},{key:"getEmoji",value:function(e,n){var t,r=this,i=E(q.parse(arguments,[new q({type:"string"}),new q({type:"callback"})]),3);return t=i[0],e=i[1],n=i[2],Z(this._iid,(function(n){t?n(t,null):w.get(r._iid).container.apiClient.getEmoji({emojiKey:e},(function(e,t){if(e)n(e,null);else{var i=new(P.get(r._iid).Emoji)(t);n(null,i)}}))}),n)}},{key:"ConnectionState",get:function(){return{CONNECTING:"CONNECTING",OPEN:"OPEN",CLOSED:"CLOSED"}}},{key:"MessageRequestState",get:function(){return{NONE:"none",PENDING:"pending",FAILED:"failed",SUCCEEDED:"succeeded"}}},{key:"MessageSendingStatus",get:function(){return{NONE:"none",PENDING:"pending",FAILED:"failed",CANCELED:"canceled",SUCCEEDED:"succeeded"}}},{key:"pushTokenRegistrationState",get:function(){return{SUCCESS:"success",PENDING:"pending",ERROR:"error"}}},{key:"PushTriggerOption",get:function(){return{ALL:"all",MENTION_ONLY:"mention_only",OFF:"off"}}},{key:"appInfo",get:function(){return w.get(this._iid).container.appInfo}},{key:"ekey",get:function(){var e=w.get(this._iid).container.auth;return e?e.eKey:""}}],[{key:"getInstance",value:function(e){return e?Sn[e]:Cn}},{key:"version",get:function(){return k.SDK_VERSION}}]),e}();return Un}(t(30),t(47),t(48))}).call(this,t(7),t(25).Buffer)},,function(e,n,t){"use strict";var r=t(6),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,s=i?Symbol.for("react.portal"):60106,o=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,y="function"===typeof Symbol&&Symbol.iterator;function m(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function E(e,n,t){this.props=e,this.context=n,this.refs=v,this.updater=t||_}function b(){}function C(e,n,t){this.props=e,this.context=n,this.refs=v,this.updater=t||_}E.prototype.isReactComponent={},E.prototype.setState=function(e,n){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(m(85));this.updater.enqueueSetState(this,e,n,"setState")},E.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=E.prototype;var S=C.prototype=new b;S.constructor=C,r(S,E.prototype),S.isPureReactComponent=!0;var k={current:null},U=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function w(e,n,t){var r,i={},s=null,o=null;if(null!=n)for(r in void 0!==n.ref&&(o=n.ref),void 0!==n.key&&(s=""+n.key),n)U.call(n,r)&&!A.hasOwnProperty(r)&&(i[r]=n[r]);var l=arguments.length-2;if(1===l)i.children=t;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:a,type:e,key:s,ref:o,props:i,_owner:k.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var N=/\/+/g,I=[];function R(e,n,t,r){if(I.length){var i=I.pop();return i.result=e,i.keyPrefix=n,i.func=t,i.context=r,i.count=0,i}return{result:e,keyPrefix:n,func:t,context:r,count:0}}function O(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function M(e,n,t){return null==e?0:function e(n,t,r,i){var o=typeof n;"undefined"!==o&&"boolean"!==o||(n=null);var l=!1;if(null===n)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(n.$$typeof){case a:case s:l=!0}}if(l)return r(i,n,""===t?"."+P(n,0):t),1;if(l=0,t=""===t?".":t+":",Array.isArray(n))for(var u=0;u<n.length;u++){var c=t+P(o=n[u],u);l+=e(o,c,r,i)}else if(null===n||"object"!==typeof n?c=null:c="function"===typeof(c=y&&n[y]||n["@@iterator"])?c:null,"function"===typeof c)for(n=c.call(n),u=0;!(o=n.next()).done;)l+=e(o=o.value,c=t+P(o,u++),r,i);else if("object"===o)throw r=""+n,Error(m(31,"[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r,""));return l}(e,"",n,t)}function P(e,n){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var n={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return n[e]}))}(e.key):n.toString(36)}function L(e,n){e.func.call(e.context,n,e.count++)}function D(e,n,t){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,n,e.count++),Array.isArray(e)?H(e,r,t,(function(e){return e})):null!=e&&(T(e)&&(e=function(e,n){return{$$typeof:a,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||n&&n.key===e.key?"":(""+e.key).replace(N,"$&/")+"/")+t)),r.push(e))}function H(e,n,t,r,i){var a="";null!=t&&(a=(""+t).replace(N,"$&/")+"/"),M(e,D,n=R(n,a,r,i)),O(n)}var x={current:null};function F(){var e=x.current;if(null===e)throw Error(m(321));return e}var G={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};n.Children={map:function(e,n,t){if(null==e)return e;var r=[];return H(e,r,null,n,t),r},forEach:function(e,n,t){if(null==e)return e;M(e,L,n=R(null,null,n,t)),O(n)},count:function(e){return M(e,(function(){return null}),null)},toArray:function(e){var n=[];return H(e,n,null,(function(e){return e})),n},only:function(e){if(!T(e))throw Error(m(143));return e}},n.Component=E,n.Fragment=o,n.Profiler=u,n.PureComponent=C,n.StrictMode=l,n.Suspense=h,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,n.cloneElement=function(e,n,t){if(null===e||void 0===e)throw Error(m(267,e));var i=r({},e.props),s=e.key,o=e.ref,l=e._owner;if(null!=n){if(void 0!==n.ref&&(o=n.ref,l=k.current),void 0!==n.key&&(s=""+n.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in n)U.call(n,c)&&!A.hasOwnProperty(c)&&(i[c]=void 0===n[c]&&void 0!==u?u[c]:n[c])}var c=arguments.length-2;if(1===c)i.children=t;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}return{$$typeof:a,type:e.type,key:s,ref:o,props:i,_owner:l}},n.createContext=function(e,n){return void 0===n&&(n=null),(e={$$typeof:d,_calculateChangedBits:n,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},n.createElement=w,n.createFactory=function(e){var n=w.bind(null,e);return n.type=e,n},n.createRef=function(){return{current:null}},n.forwardRef=function(e){return{$$typeof:f,render:e}},n.isValidElement=T,n.lazy=function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},n.memo=function(e,n){return{$$typeof:p,type:e,compare:void 0===n?null:n}},n.useCallback=function(e,n){return F().useCallback(e,n)},n.useContext=function(e,n){return F().useContext(e,n)},n.useDebugValue=function(){},n.useEffect=function(e,n){return F().useEffect(e,n)},n.useImperativeHandle=function(e,n,t){return F().useImperativeHandle(e,n,t)},n.useLayoutEffect=function(e,n){return F().useLayoutEffect(e,n)},n.useMemo=function(e,n){return F().useMemo(e,n)},n.useReducer=function(e,n,t){return F().useReducer(e,n,t)},n.useRef=function(e){return F().useRef(e)},n.useState=function(e){return F().useState(e)},n.version="16.13.1"},function(e,n,t){"use strict";var r=t(0),i=t(6),a=t(21);function s(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));function o(e,n,t,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{n.apply(t,u)}catch(c){this.onError(c)}}var l=!1,u=null,c=!1,d=null,f={onError:function(e){l=!0,u=e}};function h(e,n,t,r,i,a,s,c,d){l=!1,u=null,o.apply(f,arguments)}var p=null,g=null,y=null;function m(e,n,t){var r=e.type||"unknown-event";e.currentTarget=y(t),function(e,n,t,r,i,a,o,f,p){if(h.apply(this,arguments),l){if(!l)throw Error(s(198));var g=u;l=!1,u=null,c||(c=!0,d=g)}}(r,n,void 0,e),e.currentTarget=null}var _=null,v={};function E(){if(_)for(var e in v){var n=v[e],t=_.indexOf(e);if(!(-1<t))throw Error(s(96,e));if(!C[t]){if(!n.extractEvents)throw Error(s(97,e));for(var r in C[t]=n,t=n.eventTypes){var i=void 0,a=t[r],o=n,l=r;if(S.hasOwnProperty(l))throw Error(s(99,l));S[l]=a;var u=a.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&b(u[i],o,l);i=!0}else a.registrationName?(b(a.registrationName,o,l),i=!0):i=!1;if(!i)throw Error(s(98,r,e))}}}}function b(e,n,t){if(k[e])throw Error(s(100,e));k[e]=n,U[e]=n.eventTypes[t].dependencies}var C=[],S={},k={},U={};function A(e){var n,t=!1;for(n in e)if(e.hasOwnProperty(n)){var r=e[n];if(!v.hasOwnProperty(n)||v[n]!==r){if(v[n])throw Error(s(102,n));v[n]=r,t=!0}}t&&E()}var w=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),T=null,N=null,I=null;function R(e){if(e=g(e)){if("function"!==typeof T)throw Error(s(280));var n=e.stateNode;n&&(n=p(n),T(e.stateNode,e.type,n))}}function O(e){N?I?I.push(e):I=[e]:N=e}function M(){if(N){var e=N,n=I;if(I=N=null,R(e),n)for(e=0;e<n.length;e++)R(n[e])}}function P(e,n){return e(n)}function L(e,n,t,r,i){return e(n,t,r,i)}function D(){}var H=P,x=!1,F=!1;function G(){null===N&&null===I||(D(),M())}function B(e,n,t){if(F)return e(n,t);F=!0;try{return H(e,n,t)}finally{F=!1,G()}}var z=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j=Object.prototype.hasOwnProperty,q={},Q={};function Y(e,n,t,r,i,a){this.acceptsBooleans=2===n||3===n||4===n,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=a}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){V[e]=new Y(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var n=e[0];V[n]=new Y(n,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){V[e]=new Y(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){V[e]=new Y(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){V[e]=new Y(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){V[e]=new Y(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){V[e]=new Y(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){V[e]=new Y(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){V[e]=new Y(e,5,!1,e.toLowerCase(),null,!1)}));var W=/[\-:]([a-z])/g;function K(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var n=e.replace(W,K);V[n]=new Y(n,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var n=e.replace(W,K);V[n]=new Y(n,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var n=e.replace(W,K);V[n]=new Y(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){V[e]=new Y(e,1,!1,e.toLowerCase(),null,!1)})),V.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){V[e]=new Y(e,1,!1,e.toLowerCase(),null,!0)}));var J=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $(e,n,t,r){var i=V.hasOwnProperty(n)?V[n]:null;(null!==i?0===i.type:!r&&(2<n.length&&("o"===n[0]||"O"===n[0])&&("n"===n[1]||"N"===n[1])))||(function(e,n,t,r){if(null===n||"undefined"===typeof n||function(e,n,t,r){if(null!==t&&0===t.type)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==t?!t.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,n,t,r))return!0;if(r)return!1;if(null!==t)switch(t.type){case 3:return!n;case 4:return!1===n;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}(n,t,i,r)&&(t=null),r||null===i?function(e){return!!j.call(Q,e)||!j.call(q,e)&&(z.test(e)?Q[e]=!0:(q[e]=!0,!1))}(n)&&(null===t?e.removeAttribute(n):e.setAttribute(n,""+t)):i.mustUseProperty?e[i.propertyName]=null===t?3!==i.type&&"":t:(n=i.attributeName,r=i.attributeNamespace,null===t?e.removeAttribute(n):(t=3===(i=i.type)||4===i&&!0===t?"":""+t,r?e.setAttributeNS(r,n,t):e.setAttribute(n,t))))}J.hasOwnProperty("ReactCurrentDispatcher")||(J.ReactCurrentDispatcher={current:null}),J.hasOwnProperty("ReactCurrentBatchConfig")||(J.ReactCurrentBatchConfig={suspense:null});var X=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,ne=Z?Symbol.for("react.portal"):60106,te=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,ie=Z?Symbol.for("react.profiler"):60114,ae=Z?Symbol.for("react.provider"):60109,se=Z?Symbol.for("react.context"):60110,oe=Z?Symbol.for("react.concurrent_mode"):60111,le=Z?Symbol.for("react.forward_ref"):60112,ue=Z?Symbol.for("react.suspense"):60113,ce=Z?Symbol.for("react.suspense_list"):60120,de=Z?Symbol.for("react.memo"):60115,fe=Z?Symbol.for("react.lazy"):60116,he=Z?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function ge(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ye(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case te:return"Fragment";case ne:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ue:return"Suspense";case ce:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case se:return"Context.Consumer";case ae:return"Context.Provider";case le:var n=e.render;return n=n.displayName||n.name||"",e.displayName||(""!==n?"ForwardRef("+n+")":"ForwardRef");case de:return ye(e.type);case he:return ye(e.render);case fe:if(e=1===e._status?e._result:null)return ye(e)}return null}function me(e){var n="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var t="";break e;default:var r=e._debugOwner,i=e._debugSource,a=ye(e.type);t=null,r&&(t=ye(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(X,"")+":"+i.lineNumber+")":t&&(a=" (created by "+t+")"),t="\n    in "+(r||"Unknown")+a}n+=t,e=e.return}while(e);return n}function _e(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ve(e){var n=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===n||"radio"===n)}function Ee(e){e._valueTracker||(e._valueTracker=function(e){var n=ve(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&"undefined"!==typeof t&&"function"===typeof t.get&&"function"===typeof t.set){var i=t.get,a=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}(e))}function be(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=ve(e)?e.checked?"true":"false":e.value),(e=r)!==t&&(n.setValue(e),!0)}function Ce(e,n){var t=n.checked;return i({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=t?t:e._wrapperState.initialChecked})}function Se(e,n){var t=null==n.defaultValue?"":n.defaultValue,r=null!=n.checked?n.checked:n.defaultChecked;t=_e(null!=n.value?n.value:t),e._wrapperState={initialChecked:r,initialValue:t,controlled:"checkbox"===n.type||"radio"===n.type?null!=n.checked:null!=n.value}}function ke(e,n){null!=(n=n.checked)&&$(e,"checked",n,!1)}function Ue(e,n){ke(e,n);var t=_e(n.value),r=n.type;if(null!=t)"number"===r?(0===t&&""===e.value||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");n.hasOwnProperty("value")?we(e,n.type,t):n.hasOwnProperty("defaultValue")&&we(e,n.type,_e(n.defaultValue)),null==n.checked&&null!=n.defaultChecked&&(e.defaultChecked=!!n.defaultChecked)}function Ae(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var r=n.type;if(!("submit"!==r&&"reset"!==r||void 0!==n.value&&null!==n.value))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}""!==(t=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==t&&(e.name=t)}function we(e,n,t){"number"===n&&e.ownerDocument.activeElement===e||(null==t?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}function Te(e,n){return e=i({children:void 0},n),(n=function(e){var n="";return r.Children.forEach(e,(function(e){null!=e&&(n+=e)})),n}(n.children))&&(e.children=n),e}function Ne(e,n,t,r){if(e=e.options,n){n={};for(var i=0;i<t.length;i++)n["$"+t[i]]=!0;for(t=0;t<e.length;t++)i=n.hasOwnProperty("$"+e[t].value),e[t].selected!==i&&(e[t].selected=i),i&&r&&(e[t].defaultSelected=!0)}else{for(t=""+_e(t),n=null,i=0;i<e.length;i++){if(e[i].value===t)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==n||e[i].disabled||(n=e[i])}null!==n&&(n.selected=!0)}}function Ie(e,n){if(null!=n.dangerouslySetInnerHTML)throw Error(s(91));return i({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Re(e,n){var t=n.value;if(null==t){if(t=n.children,n=n.defaultValue,null!=t){if(null!=n)throw Error(s(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(s(93));t=t[0]}n=t}null==n&&(n=""),t=n}e._wrapperState={initialValue:_e(t)}}function Oe(e,n){var t=_e(n.value),r=_e(n.defaultValue);null!=t&&((t=""+t)!==e.value&&(e.value=t),null==n.defaultValue&&e.defaultValue!==t&&(e.defaultValue=t)),null!=r&&(e.defaultValue=""+r)}function Me(e){var n=e.textContent;n===e._wrapperState.initialValue&&""!==n&&null!==n&&(e.value=n)}var Pe="http://www.w3.org/1999/xhtml",Le="http://www.w3.org/2000/svg";function De(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function He(e,n){return null==e||"http://www.w3.org/1999/xhtml"===e?De(n):"http://www.w3.org/2000/svg"===e&&"foreignObject"===n?"http://www.w3.org/1999/xhtml":e}var xe,Fe=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(n,t,r,i){MSApp.execUnsafeLocalFunction((function(){return e(n,t)}))}:e}((function(e,n){if(e.namespaceURI!==Le||"innerHTML"in e)e.innerHTML=n;else{for((xe=xe||document.createElement("div")).innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=xe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}}));function Ge(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&3===t.nodeType)return void(t.nodeValue=n)}e.textContent=n}function Be(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var ze={animationend:Be("Animation","AnimationEnd"),animationiteration:Be("Animation","AnimationIteration"),animationstart:Be("Animation","AnimationStart"),transitionend:Be("Transition","TransitionEnd")},je={},qe={};function Qe(e){if(je[e])return je[e];if(!ze[e])return e;var n,t=ze[e];for(n in t)if(t.hasOwnProperty(n)&&n in qe)return je[e]=t[n];return e}w&&(qe=document.createElement("div").style,"AnimationEvent"in window||(delete ze.animationend.animation,delete ze.animationiteration.animation,delete ze.animationstart.animation),"TransitionEvent"in window||delete ze.transitionend.transition);var Ye=Qe("animationend"),Ve=Qe("animationiteration"),We=Qe("animationstart"),Ke=Qe("transitionend"),Je="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$e=new("function"===typeof WeakMap?WeakMap:Map);function Xe(e){var n=$e.get(e);return void 0===n&&(n=new Map,$e.set(e,n)),n}function Ze(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{0!==(1026&(n=e).effectTag)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function en(e){if(13===e.tag){var n=e.memoizedState;if(null===n&&(null!==(e=e.alternate)&&(n=e.memoizedState)),null!==n)return n.dehydrated}return null}function nn(e){if(Ze(e)!==e)throw Error(s(188))}function tn(e){if(!(e=function(e){var n=e.alternate;if(!n){if(null===(n=Ze(e)))throw Error(s(188));return n!==e?null:e}for(var t=e,r=n;;){var i=t.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){t=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===t)return nn(i),e;if(a===r)return nn(i),n;a=a.sibling}throw Error(s(188))}if(t.return!==r.return)t=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===t){o=!0,t=i,r=a;break}if(l===r){o=!0,r=i,t=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===t){o=!0,t=a,r=i;break}if(l===r){o=!0,r=a,t=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(t.alternate!==r)throw Error(s(190))}if(3!==t.tag)throw Error(s(188));return t.stateNode.current===t?e:n}(e)))return null;for(var n=e;;){if(5===n.tag||6===n.tag)return n;if(n.child)n.child.return=n,n=n.child;else{if(n===e)break;for(;!n.sibling;){if(!n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}function rn(e,n){if(null==n)throw Error(s(30));return null==e?n:Array.isArray(e)?Array.isArray(n)?(e.push.apply(e,n),e):(e.push(n),e):Array.isArray(n)?[e].concat(n):[e,n]}function an(e,n,t){Array.isArray(e)?e.forEach(n,t):e&&n.call(t,e)}var sn=null;function on(e){if(e){var n=e._dispatchListeners,t=e._dispatchInstances;if(Array.isArray(n))for(var r=0;r<n.length&&!e.isPropagationStopped();r++)m(e,n[r],t[r]);else n&&m(e,n,t);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ln(e){if(null!==e&&(sn=rn(sn,e)),e=sn,sn=null,e){if(an(e,on),sn)throw Error(s(95));if(c)throw e=d,c=!1,d=null,e}}function un(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function cn(e){if(!w)return!1;var n=(e="on"+e)in document;return n||((n=document.createElement("div")).setAttribute(e,"return;"),n="function"===typeof n[e]),n}var dn=[];function fn(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>dn.length&&dn.push(e)}function hn(e,n,t,r){if(dn.length){var i=dn.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=n,i.targetInst=t,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:n,targetInst:t,ancestors:[]}}function pn(e){var n=e.targetInst,t=n;do{if(!t){e.ancestors.push(t);break}var r=t;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(n=t.tag)&&6!==n||e.ancestors.push(t),t=wt(r)}while(t);for(t=0;t<e.ancestors.length;t++){n=e.ancestors[t];var i=un(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,s=e.eventSystemFlags;0===t&&(s|=64);for(var o=null,l=0;l<C.length;l++){var u=C[l];u&&(u=u.extractEvents(r,n,a,i,s))&&(o=rn(o,u))}ln(o)}}function gn(e,n,t){if(!t.has(e)){switch(e){case"scroll":Kn(n,"scroll",!0);break;case"focus":case"blur":Kn(n,"focus",!0),Kn(n,"blur",!0),t.set("blur",null),t.set("focus",null);break;case"cancel":case"close":cn(e)&&Kn(n,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Je.indexOf(e)&&Wn(e,n)}t.set(e,null)}}var yn,mn,_n,vn=!1,En=[],bn=null,Cn=null,Sn=null,kn=new Map,Un=new Map,An=[],wn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Tn="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Nn(e,n,t,r,i){return{blockedOn:e,topLevelType:n,eventSystemFlags:32|t,nativeEvent:i,container:r}}function In(e,n){switch(e){case"focus":case"blur":bn=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":kn.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Un.delete(n.pointerId)}}function Rn(e,n,t,r,i,a){return null===e||e.nativeEvent!==a?(e=Nn(n,t,r,i,a),null!==n&&(null!==(n=Tt(n))&&mn(n)),e):(e.eventSystemFlags|=r,e)}function On(e){var n=wt(e.target);if(null!==n){var t=Ze(n);if(null!==t)if(13===(n=t.tag)){if(null!==(n=en(t)))return e.blockedOn=n,void a.unstable_runWithPriority(e.priority,(function(){_n(t)}))}else if(3===n&&t.stateNode.hydrate)return void(e.blockedOn=3===t.tag?t.stateNode.containerInfo:null)}e.blockedOn=null}function Mn(e){if(null!==e.blockedOn)return!1;var n=Zn(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==n){var t=Tt(n);return null!==t&&mn(t),e.blockedOn=n,!1}return!0}function Pn(e,n,t){Mn(e)&&t.delete(n)}function Ln(){for(vn=!1;0<En.length;){var e=En[0];if(null!==e.blockedOn){null!==(e=Tt(e.blockedOn))&&yn(e);break}var n=Zn(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==n?e.blockedOn=n:En.shift()}null!==bn&&Mn(bn)&&(bn=null),null!==Cn&&Mn(Cn)&&(Cn=null),null!==Sn&&Mn(Sn)&&(Sn=null),kn.forEach(Pn),Un.forEach(Pn)}function Dn(e,n){e.blockedOn===n&&(e.blockedOn=null,vn||(vn=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ln)))}function Hn(e){function n(n){return Dn(n,e)}if(0<En.length){Dn(En[0],e);for(var t=1;t<En.length;t++){var r=En[t];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==bn&&Dn(bn,e),null!==Cn&&Dn(Cn,e),null!==Sn&&Dn(Sn,e),kn.forEach(n),Un.forEach(n),t=0;t<An.length;t++)(r=An[t]).blockedOn===e&&(r.blockedOn=null);for(;0<An.length&&null===(t=An[0]).blockedOn;)On(t),null===t.blockedOn&&An.shift()}var xn={},Fn=new Map,Gn=new Map,Bn=["abort","abort",Ye,"animationEnd",Ve,"animationIteration",We,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ke,"transitionEnd","waiting","waiting"];function zn(e,n){for(var t=0;t<e.length;t+=2){var r=e[t],i=e[t+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:n},Gn.set(r,n),Fn.set(r,a),xn[i]=a}}zn("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),zn("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),zn(Bn,2);for(var jn="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),qn=0;qn<jn.length;qn++)Gn.set(jn[qn],0);var Qn=a.unstable_UserBlockingPriority,Yn=a.unstable_runWithPriority,Vn=!0;function Wn(e,n){Kn(n,e,!1)}function Kn(e,n,t){var r=Gn.get(n);switch(void 0===r?2:r){case 0:r=Jn.bind(null,n,1,e);break;case 1:r=$n.bind(null,n,1,e);break;default:r=Xn.bind(null,n,1,e)}t?e.addEventListener(n,r,!0):e.addEventListener(n,r,!1)}function Jn(e,n,t,r){x||D();var i=Xn,a=x;x=!0;try{L(i,e,n,t,r)}finally{(x=a)||G()}}function $n(e,n,t,r){Yn(Qn,Xn.bind(null,e,n,t,r))}function Xn(e,n,t,r){if(Vn)if(0<En.length&&-1<wn.indexOf(e))e=Nn(null,e,n,t,r),En.push(e);else{var i=Zn(e,n,t,r);if(null===i)In(e,r);else if(-1<wn.indexOf(e))e=Nn(i,e,n,t,r),En.push(e);else if(!function(e,n,t,r,i){switch(n){case"focus":return bn=Rn(bn,e,n,t,r,i),!0;case"dragenter":return Cn=Rn(Cn,e,n,t,r,i),!0;case"mouseover":return Sn=Rn(Sn,e,n,t,r,i),!0;case"pointerover":var a=i.pointerId;return kn.set(a,Rn(kn.get(a)||null,e,n,t,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Un.set(a,Rn(Un.get(a)||null,e,n,t,r,i)),!0}return!1}(i,e,n,t,r)){In(e,r),e=hn(e,r,null,n);try{B(pn,e)}finally{fn(e)}}}}function Zn(e,n,t,r){if(null!==(t=wt(t=un(r)))){var i=Ze(t);if(null===i)t=null;else{var a=i.tag;if(13===a){if(null!==(t=en(i)))return t;t=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}e=hn(e,r,t,n);try{B(pn,e)}finally{fn(e)}return null}var et={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nt=["Webkit","ms","Moz","O"];function tt(e,n,t){return null==n||"boolean"===typeof n||""===n?"":t||"number"!==typeof n||0===n||et.hasOwnProperty(e)&&et[e]?(""+n).trim():n+"px"}function rt(e,n){for(var t in e=e.style,n)if(n.hasOwnProperty(t)){var r=0===t.indexOf("--"),i=tt(t,n[t],r);"float"===t&&(t="cssFloat"),r?e.setProperty(t,i):e[t]=i}}Object.keys(et).forEach((function(e){nt.forEach((function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),et[n]=et[e]}))}));var it=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function at(e,n){if(n){if(it[e]&&(null!=n.children||null!=n.dangerouslySetInnerHTML))throw Error(s(137,e,""));if(null!=n.dangerouslySetInnerHTML){if(null!=n.children)throw Error(s(60));if("object"!==typeof n.dangerouslySetInnerHTML||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=n.style&&"object"!==typeof n.style)throw Error(s(62,""))}}function st(e,n){if(-1===e.indexOf("-"))return"string"===typeof n.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ot=Pe;function lt(e,n){var t=Xe(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);n=U[n];for(var r=0;r<n.length;r++)gn(n[r],e,t)}function ut(){}function ct(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(n){return e.body}}function dt(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ft(e,n){var t,r=dt(e);for(e=0;r;){if(3===r.nodeType){if(t=e+r.textContent.length,e<=n&&t>=n)return{node:r,offset:n-e};e=t}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dt(r)}}function ht(){for(var e=window,n=ct();n instanceof e.HTMLIFrameElement;){try{var t="string"===typeof n.contentWindow.location.href}catch(r){t=!1}if(!t)break;n=ct((e=n.contentWindow).document)}return n}function pt(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&("input"===n&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===n||"true"===e.contentEditable)}var gt=null,yt=null;function mt(e,n){switch(e){case"button":case"input":case"select":case"textarea":return!!n.autoFocus}return!1}function _t(e,n){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof n.children||"number"===typeof n.children||"object"===typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var vt="function"===typeof setTimeout?setTimeout:void 0,Et="function"===typeof clearTimeout?clearTimeout:void 0;function bt(e){for(;null!=e;e=e.nextSibling){var n=e.nodeType;if(1===n||3===n)break}return e}function Ct(e){e=e.previousSibling;for(var n=0;e;){if(8===e.nodeType){var t=e.data;if("$"===t||"$!"===t||"$?"===t){if(0===n)return e;n--}else"/$"===t&&n++}e=e.previousSibling}return null}var St=Math.random().toString(36).slice(2),kt="__reactInternalInstance$"+St,Ut="__reactEventHandlers$"+St,At="__reactContainere$"+St;function wt(e){var n=e[kt];if(n)return n;for(var t=e.parentNode;t;){if(n=t[At]||t[kt]){if(t=n.alternate,null!==n.child||null!==t&&null!==t.child)for(e=Ct(e);null!==e;){if(t=e[kt])return t;e=Ct(e)}return n}t=(e=t).parentNode}return null}function Tt(e){return!(e=e[kt]||e[At])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Nt(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function It(e){return e[Ut]||null}function Rt(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Ot(e,n){var t=e.stateNode;if(!t)return null;var r=p(t);if(!r)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(t&&"function"!==typeof t)throw Error(s(231,n,typeof t));return t}function Mt(e,n,t){(n=Ot(e,t.dispatchConfig.phasedRegistrationNames[n]))&&(t._dispatchListeners=rn(t._dispatchListeners,n),t._dispatchInstances=rn(t._dispatchInstances,e))}function Pt(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var n=e._targetInst,t=[];n;)t.push(n),n=Rt(n);for(n=t.length;0<n--;)Mt(t[n],"captured",e);for(n=0;n<t.length;n++)Mt(t[n],"bubbled",e)}}function Lt(e,n,t){e&&t&&t.dispatchConfig.registrationName&&(n=Ot(e,t.dispatchConfig.registrationName))&&(t._dispatchListeners=rn(t._dispatchListeners,n),t._dispatchInstances=rn(t._dispatchInstances,e))}function Dt(e){e&&e.dispatchConfig.registrationName&&Lt(e._targetInst,null,e)}function Ht(e){an(e,Pt)}var xt=null,Ft=null,Gt=null;function Bt(){if(Gt)return Gt;var e,n,t=Ft,r=t.length,i="value"in xt?xt.value:xt.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return Gt=i.slice(e,1<n?1-n:void 0)}function zt(){return!0}function jt(){return!1}function qt(e,n,t,r){for(var i in this.dispatchConfig=e,this._targetInst=n,this.nativeEvent=t,e=this.constructor.Interface)e.hasOwnProperty(i)&&((n=e[i])?this[i]=n(t):"target"===i?this.target=r:this[i]=t[i]);return this.isDefaultPrevented=(null!=t.defaultPrevented?t.defaultPrevented:!1===t.returnValue)?zt:jt,this.isPropagationStopped=jt,this}function Qt(e,n,t,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,n,t,r),i}return new this(e,n,t,r)}function Yt(e){if(!(e instanceof this))throw Error(s(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Vt(e){e.eventPool=[],e.getPooled=Qt,e.release=Yt}i(qt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=zt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=zt)},persist:function(){this.isPersistent=zt},isPersistent:jt,destructor:function(){var e,n=this.constructor.Interface;for(e in n)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=jt,this._dispatchInstances=this._dispatchListeners=null}}),qt.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},qt.extend=function(e){function n(){}function t(){return r.apply(this,arguments)}var r=this;n.prototype=r.prototype;var a=new n;return i(a,t.prototype),t.prototype=a,t.prototype.constructor=t,t.Interface=i({},r.Interface,e),t.extend=r.extend,Vt(t),t},Vt(qt);var Wt=qt.extend({data:null}),Kt=qt.extend({data:null}),Jt=[9,13,27,32],$t=w&&"CompositionEvent"in window,Xt=null;w&&"documentMode"in document&&(Xt=document.documentMode);var Zt=w&&"TextEvent"in window&&!Xt,er=w&&(!$t||Xt&&8<Xt&&11>=Xt),nr=String.fromCharCode(32),tr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(e,n){switch(e){case"keyup":return-1!==Jt.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ar(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var sr=!1;var or={eventTypes:tr,extractEvents:function(e,n,t,r){var i;if($t)e:{switch(e){case"compositionstart":var a=tr.compositionStart;break e;case"compositionend":a=tr.compositionEnd;break e;case"compositionupdate":a=tr.compositionUpdate;break e}a=void 0}else sr?ir(e,t)&&(a=tr.compositionEnd):"keydown"===e&&229===t.keyCode&&(a=tr.compositionStart);return a?(er&&"ko"!==t.locale&&(sr||a!==tr.compositionStart?a===tr.compositionEnd&&sr&&(i=Bt()):(Ft="value"in(xt=r)?xt.value:xt.textContent,sr=!0)),a=Wt.getPooled(a,n,t,r),i?a.data=i:null!==(i=ar(t))&&(a.data=i),Ht(a),i=a):i=null,(e=Zt?function(e,n){switch(e){case"compositionend":return ar(n);case"keypress":return 32!==n.which?null:(rr=!0,nr);case"textInput":return(e=n.data)===nr&&rr?null:e;default:return null}}(e,t):function(e,n){if(sr)return"compositionend"===e||!$t&&ir(e,n)?(e=Bt(),Gt=Ft=xt=null,sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return er&&"ko"!==n.locale?null:n.data;default:return null}}(e,t))?((n=Kt.getPooled(tr.beforeInput,n,t,r)).data=e,Ht(n)):n=null,null===i?n:null===n?i:[i,n]}},lr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ur(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===n?!!lr[e.type]:"textarea"===n}var cr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function dr(e,n,t){return(e=qt.getPooled(cr.change,e,n,t)).type="change",O(t),Ht(e),e}var fr=null,hr=null;function pr(e){ln(e)}function gr(e){if(be(Nt(e)))return e}function yr(e,n){if("change"===e)return n}var mr=!1;function _r(){fr&&(fr.detachEvent("onpropertychange",vr),hr=fr=null)}function vr(e){if("value"===e.propertyName&&gr(hr))if(e=dr(hr,e,un(e)),x)ln(e);else{x=!0;try{P(pr,e)}finally{x=!1,G()}}}function Er(e,n,t){"focus"===e?(_r(),hr=t,(fr=n).attachEvent("onpropertychange",vr)):"blur"===e&&_r()}function br(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return gr(hr)}function Cr(e,n){if("click"===e)return gr(n)}function Sr(e,n){if("input"===e||"change"===e)return gr(n)}w&&(mr=cn("input")&&(!document.documentMode||9<document.documentMode));var kr={eventTypes:cr,_isInputEventSupported:mr,extractEvents:function(e,n,t,r){var i=n?Nt(n):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var s=yr;else if(ur(i))if(mr)s=Sr;else{s=br;var o=Er}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(s=Cr);if(s&&(s=s(e,n)))return dr(s,t,r);o&&o(e,i,n),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&we(i,"number",i.value)}},Ur=qt.extend({view:null,detail:null}),Ar={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wr(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):!!(e=Ar[e])&&!!n[e]}function Tr(){return wr}var Nr=0,Ir=0,Rr=!1,Or=!1,Mr=Ur.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Tr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var n=Nr;return Nr=e.screenX,Rr?"mousemove"===e.type?e.screenX-n:0:(Rr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var n=Ir;return Ir=e.screenY,Or?"mousemove"===e.type?e.screenY-n:0:(Or=!0,0)}}),Pr=Mr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Lr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Dr={eventTypes:Lr,extractEvents:function(e,n,t,r,i){var a="mouseover"===e||"pointerover"===e,s="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(t.relatedTarget||t.fromElement)||!s&&!a)return null;(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,s)?(s=n,null!==(n=(n=t.relatedTarget||t.toElement)?wt(n):null)&&(n!==Ze(n)||5!==n.tag&&6!==n.tag)&&(n=null)):s=null;if(s===n)return null;if("mouseout"===e||"mouseover"===e)var o=Mr,l=Lr.mouseLeave,u=Lr.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(o=Pr,l=Lr.pointerLeave,u=Lr.pointerEnter,c="pointer");if(e=null==s?a:Nt(s),a=null==n?a:Nt(n),(l=o.getPooled(l,s,t,r)).type=c+"leave",l.target=e,l.relatedTarget=a,(t=o.getPooled(u,n,t,r)).type=c+"enter",t.target=a,t.relatedTarget=e,c=n,(r=s)&&c)e:{for(u=c,s=0,e=o=r;e;e=Rt(e))s++;for(e=0,n=u;n;n=Rt(n))e++;for(;0<s-e;)o=Rt(o),s--;for(;0<e-s;)u=Rt(u),e--;for(;s--;){if(o===u||o===u.alternate)break e;o=Rt(o),u=Rt(u)}o=null}else o=null;for(u=o,o=[];r&&r!==u&&(null===(s=r.alternate)||s!==u);)o.push(r),r=Rt(r);for(r=[];c&&c!==u&&(null===(s=c.alternate)||s!==u);)r.push(c),c=Rt(c);for(c=0;c<o.length;c++)Lt(o[c],"bubbled",l);for(c=r.length;0<c--;)Lt(r[c],"captured",t);return 0===(64&i)?[l]:[l,t]}};var Hr="function"===typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e===1/n)||e!==e&&n!==n},xr=Object.prototype.hasOwnProperty;function Fr(e,n){if(Hr(e,n))return!0;if("object"!==typeof e||null===e||"object"!==typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++)if(!xr.call(n,t[r])||!Hr(e[t[r]],n[t[r]]))return!1;return!0}var Gr=w&&"documentMode"in document&&11>=document.documentMode,Br={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},zr=null,jr=null,qr=null,Qr=!1;function Yr(e,n){var t=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;return Qr||null==zr||zr!==ct(t)?null:("selectionStart"in(t=zr)&&pt(t)?t={start:t.selectionStart,end:t.selectionEnd}:t={anchorNode:(t=(t.ownerDocument&&t.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset},qr&&Fr(qr,t)?null:(qr=t,(e=qt.getPooled(Br.select,jr,e,n)).type="select",e.target=zr,Ht(e),e))}var Vr={eventTypes:Br,extractEvents:function(e,n,t,r,i,a){if(!(a=!(i=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Xe(i),a=U.onSelect;for(var s=0;s<a.length;s++)if(!i.has(a[s])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=n?Nt(n):window,e){case"focus":(ur(i)||"true"===i.contentEditable)&&(zr=i,jr=n,qr=null);break;case"blur":qr=jr=zr=null;break;case"mousedown":Qr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Qr=!1,Yr(t,r);case"selectionchange":if(Gr)break;case"keydown":case"keyup":return Yr(t,r)}return null}},Wr=qt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Kr=qt.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jr=Ur.extend({relatedTarget:null});function $r(e){var n=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===n&&(e=13):e=n,10===e&&(e=13),32<=e||13===e?e:0}var Xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=Ur.extend({key:function(e){if(e.key){var n=Xr[e.key]||e.key;if("Unidentified"!==n)return n}return"keypress"===e.type?13===(e=$r(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Zr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Tr,charCode:function(e){return"keypress"===e.type?$r(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$r(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ni=Mr.extend({dataTransfer:null}),ti=Ur.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Tr}),ri=qt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Mr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ai={eventTypes:xn,extractEvents:function(e,n,t,r){var i=Fn.get(e);if(!i)return null;switch(e){case"keypress":if(0===$r(t))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=Jr;break;case"click":if(2===t.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ni;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ti;break;case Ye:case Ve:case We:e=Wr;break;case Ke:e=ri;break;case"scroll":e=Ur;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=Kr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Pr;break;default:e=qt}return Ht(n=e.getPooled(i,n,t,r)),n}};if(_)throw Error(s(101));_=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),E(),p=It,g=Tt,y=Nt,A({SimpleEventPlugin:ai,EnterLeaveEventPlugin:Dr,ChangeEventPlugin:kr,SelectEventPlugin:Vr,BeforeInputEventPlugin:or});var si=[],oi=-1;function li(e){0>oi||(e.current=si[oi],si[oi]=null,oi--)}function ui(e,n){oi++,si[oi]=e.current,e.current=n}var ci={},di={current:ci},fi={current:!1},hi=ci;function pi(e,n){var t=e.type.contextTypes;if(!t)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===n)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in t)a[i]=n[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),a}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){li(fi),li(di)}function mi(e,n,t){if(di.current!==ci)throw Error(s(168));ui(di,n),ui(fi,t)}function _i(e,n,t){var r=e.stateNode;if(e=n.childContextTypes,"function"!==typeof r.getChildContext)return t;for(var a in r=r.getChildContext())if(!(a in e))throw Error(s(108,ye(n)||"Unknown",a));return i({},t,{},r)}function vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,hi=di.current,ui(di,e),ui(fi,fi.current),!0}function Ei(e,n,t){var r=e.stateNode;if(!r)throw Error(s(169));t?(e=_i(e,n,hi),r.__reactInternalMemoizedMergedChildContext=e,li(fi),li(di),ui(di,e)):li(fi),ui(fi,t)}var bi=a.unstable_runWithPriority,Ci=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,ki=a.unstable_requestPaint,Ui=a.unstable_now,Ai=a.unstable_getCurrentPriorityLevel,wi=a.unstable_ImmediatePriority,Ti=a.unstable_UserBlockingPriority,Ni=a.unstable_NormalPriority,Ii=a.unstable_LowPriority,Ri=a.unstable_IdlePriority,Oi={},Mi=a.unstable_shouldYield,Pi=void 0!==ki?ki:function(){},Li=null,Di=null,Hi=!1,xi=Ui(),Fi=1e4>xi?Ui:function(){return Ui()-xi};function Gi(){switch(Ai()){case wi:return 99;case Ti:return 98;case Ni:return 97;case Ii:return 96;case Ri:return 95;default:throw Error(s(332))}}function Bi(e){switch(e){case 99:return wi;case 98:return Ti;case 97:return Ni;case 96:return Ii;case 95:return Ri;default:throw Error(s(332))}}function zi(e,n){return e=Bi(e),bi(e,n)}function ji(e,n,t){return e=Bi(e),Ci(e,n,t)}function qi(e){return null===Li?(Li=[e],Di=Ci(wi,Yi)):Li.push(e),Oi}function Qi(){if(null!==Di){var e=Di;Di=null,Si(e)}Yi()}function Yi(){if(!Hi&&null!==Li){Hi=!0;var e=0;try{var n=Li;zi(99,(function(){for(;e<n.length;e++){var t=n[e];do{t=t(!0)}while(null!==t)}})),Li=null}catch(t){throw null!==Li&&(Li=Li.slice(e+1)),Ci(wi,Qi),t}finally{Hi=!1}}}function Vi(e,n,t){return 1073741821-(1+((1073741821-e+n/10)/(t/=10)|0))*t}function Wi(e,n){if(e&&e.defaultProps)for(var t in n=i({},n),e=e.defaultProps)void 0===n[t]&&(n[t]=e[t]);return n}var Ki={current:null},Ji=null,$i=null,Xi=null;function Zi(){Xi=$i=Ji=null}function ea(e){var n=Ki.current;li(Ki),e.type._context._currentValue=n}function na(e,n){for(;null!==e;){var t=e.alternate;if(e.childExpirationTime<n)e.childExpirationTime=n,null!==t&&t.childExpirationTime<n&&(t.childExpirationTime=n);else{if(!(null!==t&&t.childExpirationTime<n))break;t.childExpirationTime=n}e=e.return}}function ta(e,n){Ji=e,Xi=$i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=n&&(Ns=!0),e.firstContext=null)}function ra(e,n){if(Xi!==e&&!1!==n&&0!==n)if("number"===typeof n&&1073741823!==n||(Xi=e,n=1073741823),n={context:e,observedBits:n,next:null},null===$i){if(null===Ji)throw Error(s(308));$i=n,Ji.dependencies={expirationTime:0,firstContext:n,responders:null}}else $i=$i.next=n;return e._currentValue}var ia=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function sa(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function oa(e,n){return(e={expirationTime:e,suspenseConfig:n,tag:0,payload:null,callback:null,next:null}).next=e}function la(e,n){if(null!==(e=e.updateQueue)){var t=(e=e.shared).pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}}function ua(e,n){var t=e.alternate;null!==t&&sa(t,e),null===(t=(e=e.updateQueue).baseQueue)?(e.baseQueue=n.next=n,n.next=n):(n.next=t.next,t.next=n)}function ca(e,n,t,r){var a=e.updateQueue;ia=!1;var s=a.baseQueue,o=a.shared.pending;if(null!==o){if(null!==s){var l=s.next;s.next=o.next,o.next=l}s=o,a.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=o))}if(null!==s){l=s.next;var u=a.baseState,c=0,d=null,f=null,h=null;if(null!==l)for(var p=l;;){if((o=p.expirationTime)<r){var g={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===h?(f=h=g,d=u):h=h.next=g,o>c&&(c=o)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),al(o,p.suspenseConfig);e:{var y=e,m=p;switch(o=n,g=t,m.tag){case 1:if("function"===typeof(y=m.payload)){u=y.call(g,u,o);break e}u=y;break e;case 3:y.effectTag=-4097&y.effectTag|64;case 0:if(null===(o="function"===typeof(y=m.payload)?y.call(g,u,o):y)||void 0===o)break e;u=i({},u,o);break e;case 2:ia=!0}}null!==p.callback&&(e.effectTag|=32,null===(o=a.effects)?a.effects=[p]:o.push(p))}if(null===(p=p.next)||p===l){if(null===(o=a.shared.pending))break;p=s.next=o.next,o.next=l,a.baseQueue=s=o,a.shared.pending=null}}null===h?d=u:h.next=f,a.baseState=d,a.baseQueue=h,sl(c),e.expirationTime=c,e.memoizedState=u}}function da(e,n,t){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var r=e[n],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=t,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var fa=J.ReactCurrentBatchConfig,ha=(new r.Component).refs;function pa(e,n,t,r){t=null===(t=t(r,n=e.memoizedState))||void 0===t?n:i({},n,t),e.memoizedState=t,0===e.expirationTime&&(e.updateQueue.baseState=t)}var ga={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ze(e)===e},enqueueSetState:function(e,n,t){e=e._reactInternalFiber;var r=Yo(),i=fa.suspense;(i=oa(r=Vo(r,e,i),i)).payload=n,void 0!==t&&null!==t&&(i.callback=t),la(e,i),Wo(e,r)},enqueueReplaceState:function(e,n,t){e=e._reactInternalFiber;var r=Yo(),i=fa.suspense;(i=oa(r=Vo(r,e,i),i)).tag=1,i.payload=n,void 0!==t&&null!==t&&(i.callback=t),la(e,i),Wo(e,r)},enqueueForceUpdate:function(e,n){e=e._reactInternalFiber;var t=Yo(),r=fa.suspense;(r=oa(t=Vo(t,e,r),r)).tag=2,void 0!==n&&null!==n&&(r.callback=n),la(e,r),Wo(e,t)}};function ya(e,n,t,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!n.prototype||!n.prototype.isPureReactComponent||(!Fr(t,r)||!Fr(i,a))}function ma(e,n,t){var r=!1,i=ci,a=n.contextType;return"object"===typeof a&&null!==a?a=ra(a):(i=gi(n)?hi:di.current,a=(r=null!==(r=n.contextTypes)&&void 0!==r)?pi(e,i):ci),n=new n(t,a),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=ga,e.stateNode=n,n._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),n}function _a(e,n,t,r){e=n.state,"function"===typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,r),"function"===typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&ga.enqueueReplaceState(n,n.state,null)}function va(e,n,t,r){var i=e.stateNode;i.props=t,i.state=e.memoizedState,i.refs=ha,aa(e);var a=n.contextType;"object"===typeof a&&null!==a?i.context=ra(a):(a=gi(n)?hi:di.current,i.context=pi(e,a)),ca(e,t,i,r),i.state=e.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(pa(e,n,a,t),i.state=e.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(n=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),n!==i.state&&ga.enqueueReplaceState(i,i.state,null),ca(e,t,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Ea=Array.isArray;function ba(e,n,t){if(null!==(e=t.ref)&&"function"!==typeof e&&"object"!==typeof e){if(t._owner){if(t=t._owner){if(1!==t.tag)throw Error(s(309));var r=t.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==n&&null!==n.ref&&"function"===typeof n.ref&&n.ref._stringRef===i?n.ref:((n=function(e){var n=r.refs;n===ha&&(n=r.refs={}),null===e?delete n[i]:n[i]=e})._stringRef=i,n)}if("string"!==typeof e)throw Error(s(284));if(!t._owner)throw Error(s(290,e))}return e}function Ca(e,n){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(n)?"object with keys {"+Object.keys(n).join(", ")+"}":n,""))}function Sa(e){function n(n,t){if(e){var r=n.lastEffect;null!==r?(r.nextEffect=t,n.lastEffect=t):n.firstEffect=n.lastEffect=t,t.nextEffect=null,t.effectTag=8}}function t(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function r(e,n){for(e=new Map;null!==n;)null!==n.key?e.set(n.key,n):e.set(n.index,n),n=n.sibling;return e}function i(e,n){return(e=Al(e,n)).index=0,e.sibling=null,e}function a(n,t,r){return n.index=r,e?null!==(r=n.alternate)?(r=r.index)<t?(n.effectTag=2,t):r:(n.effectTag=2,t):t}function o(n){return e&&null===n.alternate&&(n.effectTag=2),n}function l(e,n,t,r){return null===n||6!==n.tag?((n=Nl(t,e.mode,r)).return=e,n):((n=i(n,t)).return=e,n)}function u(e,n,t,r){return null!==n&&n.elementType===t.type?((r=i(n,t.props)).ref=ba(e,n,t),r.return=e,r):((r=wl(t.type,t.key,t.props,null,e.mode,r)).ref=ba(e,n,t),r.return=e,r)}function c(e,n,t,r){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=Il(t,e.mode,r)).return=e,n):((n=i(n,t.children||[])).return=e,n)}function d(e,n,t,r,a){return null===n||7!==n.tag?((n=Tl(t,e.mode,r,a)).return=e,n):((n=i(n,t)).return=e,n)}function f(e,n,t){if("string"===typeof n||"number"===typeof n)return(n=Nl(""+n,e.mode,t)).return=e,n;if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return(t=wl(n.type,n.key,n.props,null,e.mode,t)).ref=ba(e,null,n),t.return=e,t;case ne:return(n=Il(n,e.mode,t)).return=e,n}if(Ea(n)||ge(n))return(n=Tl(n,e.mode,t,null)).return=e,n;Ca(e,n)}return null}function h(e,n,t,r){var i=null!==n?n.key:null;if("string"===typeof t||"number"===typeof t)return null!==i?null:l(e,n,""+t,r);if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return t.key===i?t.type===te?d(e,n,t.props.children,r,i):u(e,n,t,r):null;case ne:return t.key===i?c(e,n,t,r):null}if(Ea(t)||ge(t))return null!==i?null:d(e,n,t,r,null);Ca(e,t)}return null}function p(e,n,t,r,i){if("string"===typeof r||"number"===typeof r)return l(n,e=e.get(t)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?t:r.key)||null,r.type===te?d(n,e,r.props.children,i,r.key):u(n,e,r,i);case ne:return c(n,e=e.get(null===r.key?t:r.key)||null,r,i)}if(Ea(r)||ge(r))return d(n,e=e.get(t)||null,r,i,null);Ca(n,r)}return null}function g(i,s,o,l){for(var u=null,c=null,d=s,g=s=0,y=null;null!==d&&g<o.length;g++){d.index>g?(y=d,d=null):y=d.sibling;var m=h(i,d,o[g],l);if(null===m){null===d&&(d=y);break}e&&d&&null===m.alternate&&n(i,d),s=a(m,s,g),null===c?u=m:c.sibling=m,c=m,d=y}if(g===o.length)return t(i,d),u;if(null===d){for(;g<o.length;g++)null!==(d=f(i,o[g],l))&&(s=a(d,s,g),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(i,d);g<o.length;g++)null!==(y=p(d,i,g,o[g],l))&&(e&&null!==y.alternate&&d.delete(null===y.key?g:y.key),s=a(y,s,g),null===c?u=y:c.sibling=y,c=y);return e&&d.forEach((function(e){return n(i,e)})),u}function y(i,o,l,u){var c=ge(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var d=c=null,g=o,y=o=0,m=null,_=l.next();null!==g&&!_.done;y++,_=l.next()){g.index>y?(m=g,g=null):m=g.sibling;var v=h(i,g,_.value,u);if(null===v){null===g&&(g=m);break}e&&g&&null===v.alternate&&n(i,g),o=a(v,o,y),null===d?c=v:d.sibling=v,d=v,g=m}if(_.done)return t(i,g),c;if(null===g){for(;!_.done;y++,_=l.next())null!==(_=f(i,_.value,u))&&(o=a(_,o,y),null===d?c=_:d.sibling=_,d=_);return c}for(g=r(i,g);!_.done;y++,_=l.next())null!==(_=p(g,i,y,_.value,u))&&(e&&null!==_.alternate&&g.delete(null===_.key?y:_.key),o=a(_,o,y),null===d?c=_:d.sibling=_,d=_);return e&&g.forEach((function(e){return n(i,e)})),c}return function(e,r,a,l){var u="object"===typeof a&&null!==a&&a.type===te&&null===a.key;u&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case ee:e:{for(c=a.key,u=r;null!==u;){if(u.key===c){switch(u.tag){case 7:if(a.type===te){t(e,u.sibling),(r=i(u,a.props.children)).return=e,e=r;break e}break;default:if(u.elementType===a.type){t(e,u.sibling),(r=i(u,a.props)).ref=ba(e,u,a),r.return=e,e=r;break e}}t(e,u);break}n(e,u),u=u.sibling}a.type===te?((r=Tl(a.props.children,e.mode,l,a.key)).return=e,e=r):((l=wl(a.type,a.key,a.props,null,e.mode,l)).ref=ba(e,r,a),l.return=e,e=l)}return o(e);case ne:e:{for(u=a.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){t(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}t(e,r);break}n(e,r),r=r.sibling}(r=Il(a,e.mode,l)).return=e,e=r}return o(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(t(e,r.sibling),(r=i(r,a)).return=e,e=r):(t(e,r),(r=Nl(a,e.mode,l)).return=e,e=r),o(e);if(Ea(a))return g(e,r,a,l);if(ge(a))return y(e,r,a,l);if(c&&Ca(e,a),"undefined"===typeof a&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(s(152,e.displayName||e.name||"Component"))}return t(e,r)}}var ka=Sa(!0),Ua=Sa(!1),Aa={},wa={current:Aa},Ta={current:Aa},Na={current:Aa};function Ia(e){if(e===Aa)throw Error(s(174));return e}function Ra(e,n){switch(ui(Na,n),ui(Ta,e),ui(wa,Aa),e=n.nodeType){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:He(null,"");break;default:n=He(n=(e=8===e?n.parentNode:n).namespaceURI||null,e=e.tagName)}li(wa),ui(wa,n)}function Oa(){li(wa),li(Ta),li(Na)}function Ma(e){Ia(Na.current);var n=Ia(wa.current),t=He(n,e.type);n!==t&&(ui(Ta,e),ui(wa,t))}function Pa(e){Ta.current===e&&(li(wa),li(Ta))}var La={current:0};function Da(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===(t=t.dehydrated)||"$?"===t.data||"$!"===t.data))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(0!==(64&n.effectTag))return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ha(e,n){return{responder:e,props:n}}var xa=J.ReactCurrentDispatcher,Fa=J.ReactCurrentBatchConfig,Ga=0,Ba=null,za=null,ja=null,qa=!1;function Qa(){throw Error(s(321))}function Ya(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!Hr(e[t],n[t]))return!1;return!0}function Va(e,n,t,r,i,a){if(Ga=a,Ba=n,n.memoizedState=null,n.updateQueue=null,n.expirationTime=0,xa.current=null===e||null===e.memoizedState?ys:ms,e=t(r,i),n.expirationTime===Ga){a=0;do{if(n.expirationTime=0,!(25>a))throw Error(s(301));a+=1,ja=za=null,n.updateQueue=null,xa.current=_s,e=t(r,i)}while(n.expirationTime===Ga)}if(xa.current=gs,n=null!==za&&null!==za.next,Ga=0,ja=za=Ba=null,qa=!1,n)throw Error(s(300));return e}function Wa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ja?Ba.memoizedState=ja=e:ja=ja.next=e,ja}function Ka(){if(null===za){var e=Ba.alternate;e=null!==e?e.memoizedState:null}else e=za.next;var n=null===ja?Ba.memoizedState:ja.next;if(null!==n)ja=n,za=e;else{if(null===e)throw Error(s(310));e={memoizedState:(za=e).memoizedState,baseState:za.baseState,baseQueue:za.baseQueue,queue:za.queue,next:null},null===ja?Ba.memoizedState=ja=e:ja=ja.next=e}return ja}function Ja(e,n){return"function"===typeof n?n(e):n}function $a(e){var n=Ka(),t=n.queue;if(null===t)throw Error(s(311));t.lastRenderedReducer=e;var r=za,i=r.baseQueue,a=t.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,t.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=o=a=null,u=i;do{var c=u.expirationTime;if(c<Ga){var d={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(o=l=d,a=r):l=l.next=d,c>Ba.expirationTime&&(Ba.expirationTime=c,sl(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),al(c,u.suspenseConfig),r=u.eagerReducer===e?u.eagerState:e(r,u.action);u=u.next}while(null!==u&&u!==i);null===l?a=r:l.next=o,Hr(r,n.memoizedState)||(Ns=!0),n.memoizedState=r,n.baseState=a,n.baseQueue=l,t.lastRenderedState=r}return[n.memoizedState,t.dispatch]}function Xa(e){var n=Ka(),t=n.queue;if(null===t)throw Error(s(311));t.lastRenderedReducer=e;var r=t.dispatch,i=t.pending,a=n.memoizedState;if(null!==i){t.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);Hr(a,n.memoizedState)||(Ns=!0),n.memoizedState=a,null===n.baseQueue&&(n.baseState=a),t.lastRenderedState=a}return[a,r]}function Za(e){var n=Wa();return"function"===typeof e&&(e=e()),n.memoizedState=n.baseState=e,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:e}).dispatch=ps.bind(null,Ba,e),[n.memoizedState,e]}function es(e,n,t,r){return e={tag:e,create:n,destroy:t,deps:r,next:null},null===(n=Ba.updateQueue)?(n={lastEffect:null},Ba.updateQueue=n,n.lastEffect=e.next=e):null===(t=n.lastEffect)?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e),e}function ns(){return Ka().memoizedState}function ts(e,n,t,r){var i=Wa();Ba.effectTag|=e,i.memoizedState=es(1|n,t,void 0,void 0===r?null:r)}function rs(e,n,t,r){var i=Ka();r=void 0===r?null:r;var a=void 0;if(null!==za){var s=za.memoizedState;if(a=s.destroy,null!==r&&Ya(r,s.deps))return void es(n,t,a,r)}Ba.effectTag|=e,i.memoizedState=es(1|n,t,a,r)}function is(e,n){return ts(516,4,e,n)}function as(e,n){return rs(516,4,e,n)}function ss(e,n){return rs(4,2,e,n)}function os(e,n){return"function"===typeof n?(e=e(),n(e),function(){n(null)}):null!==n&&void 0!==n?(e=e(),n.current=e,function(){n.current=null}):void 0}function ls(e,n,t){return t=null!==t&&void 0!==t?t.concat([e]):null,rs(4,2,os.bind(null,n,e),t)}function us(){}function cs(e,n){return Wa().memoizedState=[e,void 0===n?null:n],e}function ds(e,n){var t=Ka();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&Ya(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function fs(e,n){var t=Ka();n=void 0===n?null:n;var r=t.memoizedState;return null!==r&&null!==n&&Ya(n,r[1])?r[0]:(e=e(),t.memoizedState=[e,n],e)}function hs(e,n,t){var r=Gi();zi(98>r?98:r,(function(){e(!0)})),zi(97<r?97:r,(function(){var r=Fa.suspense;Fa.suspense=void 0===n?null:n;try{e(!1),t()}finally{Fa.suspense=r}}))}function ps(e,n,t){var r=Yo(),i=fa.suspense;i={expirationTime:r=Vo(r,e,i),suspenseConfig:i,action:t,eagerReducer:null,eagerState:null,next:null};var a=n.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),n.pending=i,a=e.alternate,e===Ba||null!==a&&a===Ba)qa=!0,i.expirationTime=Ga,Ba.expirationTime=Ga;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=n.lastRenderedReducer))try{var s=n.lastRenderedState,o=a(s,t);if(i.eagerReducer=a,i.eagerState=o,Hr(o,s))return}catch(l){}Wo(e,r)}}var gs={readContext:ra,useCallback:Qa,useContext:Qa,useEffect:Qa,useImperativeHandle:Qa,useLayoutEffect:Qa,useMemo:Qa,useReducer:Qa,useRef:Qa,useState:Qa,useDebugValue:Qa,useResponder:Qa,useDeferredValue:Qa,useTransition:Qa},ys={readContext:ra,useCallback:cs,useContext:ra,useEffect:is,useImperativeHandle:function(e,n,t){return t=null!==t&&void 0!==t?t.concat([e]):null,ts(4,2,os.bind(null,n,e),t)},useLayoutEffect:function(e,n){return ts(4,2,e,n)},useMemo:function(e,n){var t=Wa();return n=void 0===n?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var r=Wa();return n=void 0!==t?t(n):n,r.memoizedState=r.baseState=n,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:n}).dispatch=ps.bind(null,Ba,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Wa().memoizedState=e},useState:Za,useDebugValue:us,useResponder:Ha,useDeferredValue:function(e,n){var t=Za(e),r=t[0],i=t[1];return is((function(){var t=Fa.suspense;Fa.suspense=void 0===n?null:n;try{i(e)}finally{Fa.suspense=t}}),[e,n]),r},useTransition:function(e){var n=Za(!1),t=n[0];return n=n[1],[cs(hs.bind(null,n,e),[n,e]),t]}},ms={readContext:ra,useCallback:ds,useContext:ra,useEffect:as,useImperativeHandle:ls,useLayoutEffect:ss,useMemo:fs,useReducer:$a,useRef:ns,useState:function(){return $a(Ja)},useDebugValue:us,useResponder:Ha,useDeferredValue:function(e,n){var t=$a(Ja),r=t[0],i=t[1];return as((function(){var t=Fa.suspense;Fa.suspense=void 0===n?null:n;try{i(e)}finally{Fa.suspense=t}}),[e,n]),r},useTransition:function(e){var n=$a(Ja),t=n[0];return n=n[1],[ds(hs.bind(null,n,e),[n,e]),t]}},_s={readContext:ra,useCallback:ds,useContext:ra,useEffect:as,useImperativeHandle:ls,useLayoutEffect:ss,useMemo:fs,useReducer:Xa,useRef:ns,useState:function(){return Xa(Ja)},useDebugValue:us,useResponder:Ha,useDeferredValue:function(e,n){var t=Xa(Ja),r=t[0],i=t[1];return as((function(){var t=Fa.suspense;Fa.suspense=void 0===n?null:n;try{i(e)}finally{Fa.suspense=t}}),[e,n]),r},useTransition:function(e){var n=Xa(Ja),t=n[0];return n=n[1],[ds(hs.bind(null,n,e),[n,e]),t]}},vs=null,Es=null,bs=!1;function Cs(e,n){var t=kl(5,null,null,0);t.elementType="DELETED",t.type="DELETED",t.stateNode=n,t.return=e,t.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=t,e.lastEffect=t):e.firstEffect=e.lastEffect=t}function Ss(e,n){switch(e.tag){case 5:var t=e.type;return null!==(n=1!==n.nodeType||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n)&&(e.stateNode=n,!0);case 6:return null!==(n=""===e.pendingProps||3!==n.nodeType?null:n)&&(e.stateNode=n,!0);case 13:default:return!1}}function ks(e){if(bs){var n=Es;if(n){var t=n;if(!Ss(e,n)){if(!(n=bt(t.nextSibling))||!Ss(e,n))return e.effectTag=-1025&e.effectTag|2,bs=!1,void(vs=e);Cs(vs,t)}vs=e,Es=bt(n.firstChild)}else e.effectTag=-1025&e.effectTag|2,bs=!1,vs=e}}function Us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;vs=e}function As(e){if(e!==vs)return!1;if(!bs)return Us(e),bs=!0,!1;var n=e.type;if(5!==e.tag||"head"!==n&&"body"!==n&&!_t(n,e.memoizedProps))for(n=Es;n;)Cs(e,n),n=bt(n.nextSibling);if(Us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType){var t=e.data;if("/$"===t){if(0===n){Es=bt(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++}e=e.nextSibling}Es=null}}else Es=vs?bt(e.stateNode.nextSibling):null;return!0}function ws(){Es=vs=null,bs=!1}var Ts=J.ReactCurrentOwner,Ns=!1;function Is(e,n,t,r){n.child=null===e?Ua(n,null,t,r):ka(n,e.child,t,r)}function Rs(e,n,t,r,i){t=t.render;var a=n.ref;return ta(n,i),r=Va(e,n,t,r,a,i),null===e||Ns?(n.effectTag|=1,Is(e,n,r,i),n.child):(n.updateQueue=e.updateQueue,n.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Vs(e,n,i))}function Os(e,n,t,r,i,a){if(null===e){var s=t.type;return"function"!==typeof s||Ul(s)||void 0!==s.defaultProps||null!==t.compare||void 0!==t.defaultProps?((e=wl(t.type,null,r,null,n.mode,a)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=s,Ms(e,n,s,r,i,a))}return s=e.child,i<a&&(i=s.memoizedProps,(t=null!==(t=t.compare)?t:Fr)(i,r)&&e.ref===n.ref)?Vs(e,n,a):(n.effectTag|=1,(e=Al(s,r)).ref=n.ref,e.return=n,n.child=e)}function Ms(e,n,t,r,i,a){return null!==e&&Fr(e.memoizedProps,r)&&e.ref===n.ref&&(Ns=!1,i<a)?(n.expirationTime=e.expirationTime,Vs(e,n,a)):Ls(e,n,t,r,a)}function Ps(e,n){var t=n.ref;(null===e&&null!==t||null!==e&&e.ref!==t)&&(n.effectTag|=128)}function Ls(e,n,t,r,i){var a=gi(t)?hi:di.current;return a=pi(n,a),ta(n,i),t=Va(e,n,t,r,a,i),null===e||Ns?(n.effectTag|=1,Is(e,n,t,i),n.child):(n.updateQueue=e.updateQueue,n.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Vs(e,n,i))}function Ds(e,n,t,r,i){if(gi(t)){var a=!0;vi(n)}else a=!1;if(ta(n,i),null===n.stateNode)null!==e&&(e.alternate=null,n.alternate=null,n.effectTag|=2),ma(n,t,r),va(n,t,r,i),r=!0;else if(null===e){var s=n.stateNode,o=n.memoizedProps;s.props=o;var l=s.context,u=t.contextType;"object"===typeof u&&null!==u?u=ra(u):u=pi(n,u=gi(t)?hi:di.current);var c=t.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==u)&&_a(n,s,r,u),ia=!1;var f=n.memoizedState;s.state=f,ca(n,r,s,i),l=n.memoizedState,o!==r||f!==l||fi.current||ia?("function"===typeof c&&(pa(n,t,c,r),l=n.memoizedState),(o=ia||ya(n,t,o,r,f,l,u))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(n.effectTag|=4)):("function"===typeof s.componentDidMount&&(n.effectTag|=4),n.memoizedProps=r,n.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):("function"===typeof s.componentDidMount&&(n.effectTag|=4),r=!1)}else s=n.stateNode,sa(e,n),o=n.memoizedProps,s.props=n.type===n.elementType?o:Wi(n.type,o),l=s.context,"object"===typeof(u=t.contextType)&&null!==u?u=ra(u):u=pi(n,u=gi(t)?hi:di.current),(d="function"===typeof(c=t.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==u)&&_a(n,s,r,u),ia=!1,l=n.memoizedState,s.state=l,ca(n,r,s,i),f=n.memoizedState,o!==r||l!==f||fi.current||ia?("function"===typeof c&&(pa(n,t,c,r),f=n.memoizedState),(c=ia||ya(n,t,o,r,l,f,u))?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,u),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,u)),"function"===typeof s.componentDidUpdate&&(n.effectTag|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(n.effectTag|=256)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&l===e.memoizedState||(n.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&l===e.memoizedState||(n.effectTag|=256),n.memoizedProps=r,n.memoizedState=f),s.props=r,s.state=f,s.context=u,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&l===e.memoizedState||(n.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&l===e.memoizedState||(n.effectTag|=256),r=!1);return Hs(e,n,t,r,a,i)}function Hs(e,n,t,r,i,a){Ps(e,n);var s=0!==(64&n.effectTag);if(!r&&!s)return i&&Ei(n,t,!1),Vs(e,n,a);r=n.stateNode,Ts.current=n;var o=s&&"function"!==typeof t.getDerivedStateFromError?null:r.render();return n.effectTag|=1,null!==e&&s?(n.child=ka(n,e.child,null,a),n.child=ka(n,null,o,a)):Is(e,n,o,a),n.memoizedState=r.state,i&&Ei(n,t,!0),n.child}function xs(e){var n=e.stateNode;n.pendingContext?mi(0,n.pendingContext,n.pendingContext!==n.context):n.context&&mi(0,n.context,!1),Ra(e,n.containerInfo)}var Fs,Gs,Bs,zs={dehydrated:null,retryTime:0};function js(e,n,t){var r,i=n.mode,a=n.pendingProps,s=La.current,o=!1;if((r=0!==(64&n.effectTag))||(r=0!==(2&s)&&(null===e||null!==e.memoizedState)),r?(o=!0,n.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(s|=1),ui(La,1&s),null===e){if(void 0!==a.fallback&&ks(n),o){if(o=a.fallback,(a=Tl(null,i,0,null)).return=n,0===(2&n.mode))for(e=null!==n.memoizedState?n.child.child:n.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(t=Tl(o,i,t,null)).return=n,a.sibling=t,n.memoizedState=zs,n.child=a,t}return i=a.children,n.memoizedState=null,n.child=Ua(n,null,i,t)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,o){if(a=a.fallback,(t=Al(e,e.pendingProps)).return=n,0===(2&n.mode)&&(o=null!==n.memoizedState?n.child.child:n.child)!==e.child)for(t.child=o;null!==o;)o.return=t,o=o.sibling;return(i=Al(i,a)).return=n,t.sibling=i,t.childExpirationTime=0,n.memoizedState=zs,n.child=t,i}return t=ka(n,e.child,a.children,t),n.memoizedState=null,n.child=t}if(e=e.child,o){if(o=a.fallback,(a=Tl(null,i,0,null)).return=n,a.child=e,null!==e&&(e.return=a),0===(2&n.mode))for(e=null!==n.memoizedState?n.child.child:n.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(t=Tl(o,i,t,null)).return=n,a.sibling=t,t.effectTag|=2,a.childExpirationTime=0,n.memoizedState=zs,n.child=a,t}return n.memoizedState=null,n.child=ka(n,e,a.children,t)}function qs(e,n){e.expirationTime<n&&(e.expirationTime=n);var t=e.alternate;null!==t&&t.expirationTime<n&&(t.expirationTime=n),na(e.return,n)}function Qs(e,n,t,r,i,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailExpiration:0,tailMode:i,lastEffect:a}:(s.isBackwards=n,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailExpiration=0,s.tailMode=i,s.lastEffect=a)}function Ys(e,n,t){var r=n.pendingProps,i=r.revealOrder,a=r.tail;if(Is(e,n,r.children,t),0!==(2&(r=La.current)))r=1&r|2,n.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qs(e,t);else if(19===e.tag)qs(e,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ui(La,r),0===(2&n.mode))n.memoizedState=null;else switch(i){case"forwards":for(t=n.child,i=null;null!==t;)null!==(e=t.alternate)&&null===Da(e)&&(i=t),t=t.sibling;null===(t=i)?(i=n.child,n.child=null):(i=t.sibling,t.sibling=null),Qs(n,!1,i,t,a,n.lastEffect);break;case"backwards":for(t=null,i=n.child,n.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Da(e)){n.child=i;break}e=i.sibling,i.sibling=t,t=i,i=e}Qs(n,!0,t,null,a,n.lastEffect);break;case"together":Qs(n,!1,null,null,void 0,n.lastEffect);break;default:n.memoizedState=null}return n.child}function Vs(e,n,t){null!==e&&(n.dependencies=e.dependencies);var r=n.expirationTime;if(0!==r&&sl(r),n.childExpirationTime<t)return null;if(null!==e&&n.child!==e.child)throw Error(s(153));if(null!==n.child){for(t=Al(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=Al(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function Ws(e,n){switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?n||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e,n,t){var r=n.pendingProps;switch(n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return gi(n.type)&&yi(),null;case 3:return Oa(),li(fi),li(di),(t=n.stateNode).pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),null!==e&&null!==e.child||!As(n)||(n.effectTag|=4),null;case 5:Pa(n),t=Ia(Na.current);var a=n.type;if(null!==e&&null!=n.stateNode)Gs(e,n,a,r,t),e.ref!==n.ref&&(n.effectTag|=128);else{if(!r){if(null===n.stateNode)throw Error(s(166));return null}if(e=Ia(wa.current),As(n)){r=n.stateNode,a=n.type;var o=n.memoizedProps;switch(r[kt]=n,r[Ut]=o,a){case"iframe":case"object":case"embed":Wn("load",r);break;case"video":case"audio":for(e=0;e<Je.length;e++)Wn(Je[e],r);break;case"source":Wn("error",r);break;case"img":case"image":case"link":Wn("error",r),Wn("load",r);break;case"form":Wn("reset",r),Wn("submit",r);break;case"details":Wn("toggle",r);break;case"input":Se(r,o),Wn("invalid",r),lt(t,"onChange");break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Wn("invalid",r),lt(t,"onChange");break;case"textarea":Re(r,o),Wn("invalid",r),lt(t,"onChange")}for(var l in at(a,o),e=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(e=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(e=["children",""+u]):k.hasOwnProperty(l)&&null!=u&&lt(t,l)}switch(a){case"input":Ee(r),Ae(r,o,!0);break;case"textarea":Ee(r),Me(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=ut)}t=e,n.updateQueue=t,null!==t&&(n.effectTag|=4)}else{switch(l=9===t.nodeType?t:t.ownerDocument,e===ot&&(e=De(a)),e===ot?"script"===a?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(a,{is:r.is}):(e=l.createElement(a),"select"===a&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,a),e[kt]=n,e[Ut]=r,Fs(e,n),n.stateNode=e,l=st(a,r),a){case"iframe":case"object":case"embed":Wn("load",e),u=r;break;case"video":case"audio":for(u=0;u<Je.length;u++)Wn(Je[u],e);u=r;break;case"source":Wn("error",e),u=r;break;case"img":case"image":case"link":Wn("error",e),Wn("load",e),u=r;break;case"form":Wn("reset",e),Wn("submit",e),u=r;break;case"details":Wn("toggle",e),u=r;break;case"input":Se(e,r),u=Ce(e,r),Wn("invalid",e),lt(t,"onChange");break;case"option":u=Te(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},u=i({},r,{value:void 0}),Wn("invalid",e),lt(t,"onChange");break;case"textarea":Re(e,r),u=Ie(e,r),Wn("invalid",e),lt(t,"onChange");break;default:u=r}at(a,u);var c=u;for(o in c)if(c.hasOwnProperty(o)){var d=c[o];"style"===o?rt(e,d):"dangerouslySetInnerHTML"===o?null!=(d=d?d.__html:void 0)&&Fe(e,d):"children"===o?"string"===typeof d?("textarea"!==a||""!==d)&&Ge(e,d):"number"===typeof d&&Ge(e,""+d):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(k.hasOwnProperty(o)?null!=d&&lt(t,o):null!=d&&$(e,o,d,l))}switch(a){case"input":Ee(e),Ae(e,r,!1);break;case"textarea":Ee(e),Me(e);break;case"option":null!=r.value&&e.setAttribute("value",""+_e(r.value));break;case"select":e.multiple=!!r.multiple,null!=(t=r.value)?Ne(e,!!r.multiple,t,!1):null!=r.defaultValue&&Ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof u.onClick&&(e.onclick=ut)}mt(a,r)&&(n.effectTag|=4)}null!==n.ref&&(n.effectTag|=128)}return null;case 6:if(e&&null!=n.stateNode)Bs(0,n,e.memoizedProps,r);else{if("string"!==typeof r&&null===n.stateNode)throw Error(s(166));t=Ia(Na.current),Ia(wa.current),As(n)?(t=n.stateNode,r=n.memoizedProps,t[kt]=n,t.nodeValue!==r&&(n.effectTag|=4)):((t=(9===t.nodeType?t:t.ownerDocument).createTextNode(r))[kt]=n,n.stateNode=t)}return null;case 13:return li(La),r=n.memoizedState,0!==(64&n.effectTag)?(n.expirationTime=t,n):(t=null!==r,r=!1,null===e?void 0!==n.memoizedProps.fallback&&As(n):(r=null!==(a=e.memoizedState),t||null===a||null!==(a=e.child.sibling)&&(null!==(o=n.firstEffect)?(n.firstEffect=a,a.nextEffect=o):(n.firstEffect=n.lastEffect=a,a.nextEffect=null),a.effectTag=8)),t&&!r&&0!==(2&n.mode)&&(null===e&&!0!==n.memoizedProps.unstable_avoidThisFallback||0!==(1&La.current)?wo===Eo&&(wo=bo):(wo!==Eo&&wo!==bo||(wo=Co),0!==Oo&&null!==ko&&(Ml(ko,Ao),Pl(ko,Oo)))),(t||r)&&(n.effectTag|=4),null);case 4:return Oa(),null;case 10:return ea(n),null;case 17:return gi(n.type)&&yi(),null;case 19:if(li(La),null===(r=n.memoizedState))return null;if(a=0!==(64&n.effectTag),null===(o=r.rendering)){if(a)Ws(r,!1);else if(wo!==Eo||null!==e&&0!==(64&e.effectTag))for(o=n.child;null!==o;){if(null!==(e=Da(o))){for(n.effectTag|=64,Ws(r,!1),null!==(a=e.updateQueue)&&(n.updateQueue=a,n.effectTag|=4),null===r.lastEffect&&(n.firstEffect=null),n.lastEffect=r.lastEffect,r=n.child;null!==r;)o=t,(a=r).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=o,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,o=e.dependencies,a.dependencies=null===o?null:{expirationTime:o.expirationTime,firstContext:o.firstContext,responders:o.responders}),r=r.sibling;return ui(La,1&La.current|2),n.child}o=o.sibling}}else{if(!a)if(null!==(e=Da(o))){if(n.effectTag|=64,a=!0,null!==(t=e.updateQueue)&&(n.updateQueue=t,n.effectTag|=4),Ws(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate)return null!==(n=n.lastEffect=r.lastEffect)&&(n.nextEffect=null),null}else 2*Fi()-r.renderingStartTime>r.tailExpiration&&1<t&&(n.effectTag|=64,a=!0,Ws(r,!1),n.expirationTime=n.childExpirationTime=t-1);r.isBackwards?(o.sibling=n.child,n.child=o):(null!==(t=r.last)?t.sibling=o:n.child=o,r.last=o)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Fi()+500),t=r.tail,r.rendering=t,r.tail=t.sibling,r.lastEffect=n.lastEffect,r.renderingStartTime=Fi(),t.sibling=null,n=La.current,ui(La,a?1&n|2:1&n),t):null}throw Error(s(156,n.tag))}function Js(e){switch(e.tag){case 1:gi(e.type)&&yi();var n=e.effectTag;return 4096&n?(e.effectTag=-4097&n|64,e):null;case 3:if(Oa(),li(fi),li(di),0!==(64&(n=e.effectTag)))throw Error(s(285));return e.effectTag=-4097&n|64,e;case 5:return Pa(e),null;case 13:return li(La),4096&(n=e.effectTag)?(e.effectTag=-4097&n|64,e):null;case 19:return li(La),null;case 4:return Oa(),null;case 10:return ea(e),null;default:return null}}function $s(e,n){return{value:e,source:n,stack:me(n)}}Fs=function(e,n){for(var t=n.child;null!==t;){if(5===t.tag||6===t.tag)e.appendChild(t.stateNode);else if(4!==t.tag&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}},Gs=function(e,n,t,r,a){var s=e.memoizedProps;if(s!==r){var o,l,u=n.stateNode;switch(Ia(wa.current),e=null,t){case"input":s=Ce(u,s),r=Ce(u,r),e=[];break;case"option":s=Te(u,s),r=Te(u,r),e=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":s=Ie(u,s),r=Ie(u,r),e=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(u.onclick=ut)}for(o in at(t,r),t=null,s)if(!r.hasOwnProperty(o)&&s.hasOwnProperty(o)&&null!=s[o])if("style"===o)for(l in u=s[o])u.hasOwnProperty(l)&&(t||(t={}),t[l]="");else"dangerouslySetInnerHTML"!==o&&"children"!==o&&"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(k.hasOwnProperty(o)?e||(e=[]):(e=e||[]).push(o,null));for(o in r){var c=r[o];if(u=null!=s?s[o]:void 0,r.hasOwnProperty(o)&&c!==u&&(null!=c||null!=u))if("style"===o)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(t||(t={}),t[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(t||(t={}),t[l]=c[l])}else t||(e||(e=[]),e.push(o,t)),t=c;else"dangerouslySetInnerHTML"===o?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(o,c)):"children"===o?u===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(o,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&(k.hasOwnProperty(o)?(null!=c&&lt(a,o),e||u===c||(e=[])):(e=e||[]).push(o,c))}t&&(e=e||[]).push("style",t),a=e,(n.updateQueue=a)&&(n.effectTag|=4)}},Bs=function(e,n,t,r){t!==r&&(n.effectTag|=4)};var Xs="function"===typeof WeakSet?WeakSet:Set;function Zs(e,n){var t=n.source,r=n.stack;null===r&&null!==t&&(r=me(t)),null!==t&&ye(t.type),n=n.value,null!==e&&1===e.tag&&ye(e.type);try{console.error(n)}catch(i){setTimeout((function(){throw i}))}}function eo(e){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(t){_l(e,t)}else n.current=null}function no(e,n){switch(n.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&n.effectTag&&null!==e){var t=e.memoizedProps,r=e.memoizedState;n=(e=n.stateNode).getSnapshotBeforeUpdate(n.elementType===n.type?t:Wi(n.type,t),r),e.__reactInternalSnapshotBeforeUpdate=n}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(s(163))}function to(e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var t=n=n.next;do{if((t.tag&e)===e){var r=t.destroy;t.destroy=void 0,void 0!==r&&r()}t=t.next}while(t!==n)}}function ro(e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var t=n=n.next;do{if((t.tag&e)===e){var r=t.create;t.destroy=r()}t=t.next}while(t!==n)}}function io(e,n,t){switch(t.tag){case 0:case 11:case 15:case 22:return void ro(3,t);case 1:if(e=t.stateNode,4&t.effectTag)if(null===n)e.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Wi(t.type,n.memoizedProps);e.componentDidUpdate(r,n.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(n=t.updateQueue)&&da(t,n,e));case 3:if(null!==(n=t.updateQueue)){if(e=null,null!==t.child)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}da(t,n,e)}return;case 5:return e=t.stateNode,void(null===n&&4&t.effectTag&&mt(t.type,t.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===t.memoizedState&&(t=t.alternate,null!==t&&(t=t.memoizedState,null!==t&&(t=t.dehydrated,null!==t&&Hn(t)))));case 19:case 17:case 20:case 21:return}throw Error(s(163))}function ao(e,n,t){switch("function"===typeof Cl&&Cl(n),n.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=n.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;zi(97<t?97:t,(function(){var e=r;do{var t=e.destroy;if(void 0!==t){var i=n;try{t()}catch(a){_l(i,a)}}e=e.next}while(e!==r)}))}break;case 1:eo(n),"function"===typeof(t=n.stateNode).componentWillUnmount&&function(e,n){try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(t){_l(e,t)}}(n,t);break;case 5:eo(n);break;case 4:uo(e,n,t)}}function so(e){var n=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==n&&so(n)}function oo(e){return 5===e.tag||3===e.tag||4===e.tag}function lo(e){e:{for(var n=e.return;null!==n;){if(oo(n)){var t=n;break e}n=n.return}throw Error(s(160))}switch(n=t.stateNode,t.tag){case 5:var r=!1;break;case 3:case 4:n=n.containerInfo,r=!0;break;default:throw Error(s(161))}16&t.effectTag&&(Ge(n,""),t.effectTag&=-17);e:n:for(t=e;;){for(;null===t.sibling;){if(null===t.return||oo(t.return)){t=null;break e}t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.effectTag)continue n;if(null===t.child||4===t.tag)continue n;t.child.return=t,t=t.child}if(!(2&t.effectTag)){t=t.stateNode;break e}}r?function e(n,t,r){var i=n.tag,a=5===i||6===i;if(a)n=a?n.stateNode:n.stateNode.instance,t?8===r.nodeType?r.parentNode.insertBefore(n,t):r.insertBefore(n,t):(8===r.nodeType?(t=r.parentNode).insertBefore(n,r):(t=r).appendChild(n),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=ut));else if(4!==i&&null!==(n=n.child))for(e(n,t,r),n=n.sibling;null!==n;)e(n,t,r),n=n.sibling}(e,t,n):function e(n,t,r){var i=n.tag,a=5===i||6===i;if(a)n=a?n.stateNode:n.stateNode.instance,t?r.insertBefore(n,t):r.appendChild(n);else if(4!==i&&null!==(n=n.child))for(e(n,t,r),n=n.sibling;null!==n;)e(n,t,r),n=n.sibling}(e,t,n)}function uo(e,n,t){for(var r,i,a=n,o=!1;;){if(!o){o=a.return;e:for(;;){if(null===o)throw Error(s(160));switch(r=o.stateNode,o.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}o=o.return}o=!0}if(5===a.tag||6===a.tag){e:for(var l=e,u=a,c=t,d=u;;)if(ao(l,d,c),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===u)break e;for(;null===d.sibling;){if(null===d.return||d.return===u)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i?(l=r,u=a.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(ao(e,a,t),null!==a.child){a.child.return=a,a=a.child;continue}if(a===n)break;for(;null===a.sibling;){if(null===a.return||a.return===n)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function co(e,n){switch(n.tag){case 0:case 11:case 14:case 15:case 22:return void to(3,n);case 1:return;case 5:var t=n.stateNode;if(null!=t){var r=n.memoizedProps,i=null!==e?e.memoizedProps:r;e=n.type;var a=n.updateQueue;if(n.updateQueue=null,null!==a){for(t[Ut]=r,"input"===e&&"radio"===r.type&&null!=r.name&&ke(t,r),st(e,i),n=st(e,r),i=0;i<a.length;i+=2){var o=a[i],l=a[i+1];"style"===o?rt(t,l):"dangerouslySetInnerHTML"===o?Fe(t,l):"children"===o?Ge(t,l):$(t,o,l,n)}switch(e){case"input":Ue(t,r);break;case"textarea":Oe(t,r);break;case"select":n=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ne(t,!!r.multiple,e,!1):n!==!!r.multiple&&(null!=r.defaultValue?Ne(t,!!r.multiple,r.defaultValue,!0):Ne(t,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===n.stateNode)throw Error(s(162));return void(n.stateNode.nodeValue=n.memoizedProps);case 3:return void((n=n.stateNode).hydrate&&(n.hydrate=!1,Hn(n.containerInfo)));case 12:return;case 13:if(t=n,null===n.memoizedState?r=!1:(r=!0,t=n.child,Po=Fi()),null!==t)e:for(e=t;;){if(5===e.tag)a=e.stateNode,r?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=tt("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void fo(n);case 19:return void fo(n);case 17:return}throw Error(s(163))}function fo(e){var n=e.updateQueue;if(null!==n){e.updateQueue=null;var t=e.stateNode;null===t&&(t=e.stateNode=new Xs),n.forEach((function(n){var r=El.bind(null,e,n);t.has(n)||(t.add(n),n.then(r,r))}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function po(e,n,t){(t=oa(t,null)).tag=3,t.payload={element:null};var r=n.value;return t.callback=function(){Do||(Do=!0,Ho=r),Zs(e,n)},t}function go(e,n,t){(t=oa(t,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=n.value;t.payload=function(){return Zs(e,n),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(t.callback=function(){"function"!==typeof r&&(null===xo?xo=new Set([this]):xo.add(this),Zs(e,n));var t=n.stack;this.componentDidCatch(n.value,{componentStack:null!==t?t:""})}),t}var yo,mo=Math.ceil,_o=J.ReactCurrentDispatcher,vo=J.ReactCurrentOwner,Eo=0,bo=3,Co=4,So=0,ko=null,Uo=null,Ao=0,wo=Eo,To=null,No=1073741823,Io=1073741823,Ro=null,Oo=0,Mo=!1,Po=0,Lo=null,Do=!1,Ho=null,xo=null,Fo=!1,Go=null,Bo=90,zo=null,jo=0,qo=null,Qo=0;function Yo(){return 0!==(48&So)?1073741821-(Fi()/10|0):0!==Qo?Qo:Qo=1073741821-(Fi()/10|0)}function Vo(e,n,t){if(0===(2&(n=n.mode)))return 1073741823;var r=Gi();if(0===(4&n))return 99===r?1073741823:1073741822;if(0!==(16&So))return Ao;if(null!==t)e=Vi(e,0|t.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Vi(e,150,100);break;case 97:case 96:e=Vi(e,5e3,250);break;case 95:e=2;break;default:throw Error(s(326))}return null!==ko&&e===Ao&&--e,e}function Wo(e,n){if(50<jo)throw jo=0,qo=null,Error(s(185));if(null!==(e=Ko(e,n))){var t=Gi();1073741823===n?0!==(8&So)&&0===(48&So)?Zo(e):($o(e),0===So&&Qi()):$o(e),0===(4&So)||98!==t&&99!==t||(null===zo?zo=new Map([[e,n]]):(void 0===(t=zo.get(e))||t>n)&&zo.set(e,n))}}function Ko(e,n){e.expirationTime<n&&(e.expirationTime=n);var t=e.alternate;null!==t&&t.expirationTime<n&&(t.expirationTime=n);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(t=r.alternate,r.childExpirationTime<n&&(r.childExpirationTime=n),null!==t&&t.childExpirationTime<n&&(t.childExpirationTime=n),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(ko===i&&(sl(n),wo===Co&&Ml(i,Ao)),Pl(i,n)),i}function Jo(e){var n=e.lastExpiredTime;if(0!==n)return n;if(!Ol(e,n=e.firstPendingTime))return n;var t=e.lastPingedTime;return 2>=(e=t>(e=e.nextKnownPendingLevel)?t:e)&&n!==e?0:e}function $o(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=qi(Zo.bind(null,e));else{var n=Jo(e),t=e.callbackNode;if(0===n)null!==t&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Yo();if(1073741823===n?r=99:1===n||2===n?r=95:r=0>=(r=10*(1073741821-n)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==t){var i=e.callbackPriority;if(e.callbackExpirationTime===n&&i>=r)return;t!==Oi&&Si(t)}e.callbackExpirationTime=n,e.callbackPriority=r,n=1073741823===n?qi(Zo.bind(null,e)):ji(r,Xo.bind(null,e),{timeout:10*(1073741821-n)-Fi()}),e.callbackNode=n}}}function Xo(e,n){if(Qo=0,n)return Ll(e,n=Yo()),$o(e),null;var t=Jo(e);if(0!==t){if(n=e.callbackNode,0!==(48&So))throw Error(s(327));if(gl(),e===ko&&t===Ao||tl(e,t),null!==Uo){var r=So;So|=16;for(var i=il();;)try{ll();break}catch(l){rl(e,l)}if(Zi(),So=r,_o.current=i,1===wo)throw n=To,tl(e,t),Ml(e,t),$o(e),n;if(null===Uo)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,r=wo,ko=null,r){case Eo:case 1:throw Error(s(345));case 2:Ll(e,2<t?2:t);break;case bo:if(Ml(e,t),t===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=dl(i)),1073741823===No&&10<(i=Po+500-Fi())){if(Mo){var a=e.lastPingedTime;if(0===a||a>=t){e.lastPingedTime=t,tl(e,t);break}}if(0!==(a=Jo(e))&&a!==t)break;if(0!==r&&r!==t){e.lastPingedTime=r;break}e.timeoutHandle=vt(fl.bind(null,e),i);break}fl(e);break;case Co:if(Ml(e,t),t===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=dl(i)),Mo&&(0===(i=e.lastPingedTime)||i>=t)){e.lastPingedTime=t,tl(e,t);break}if(0!==(i=Jo(e))&&i!==t)break;if(0!==r&&r!==t){e.lastPingedTime=r;break}if(1073741823!==Io?r=10*(1073741821-Io)-Fi():1073741823===No?r=0:(r=10*(1073741821-No)-5e3,0>(r=(i=Fi())-r)&&(r=0),(t=10*(1073741821-t)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mo(r/1960))-r)&&(r=t)),10<r){e.timeoutHandle=vt(fl.bind(null,e),r);break}fl(e);break;case 5:if(1073741823!==No&&null!==Ro){a=No;var o=Ro;if(0>=(r=0|o.busyMinDurationMs)?r=0:(i=0|o.busyDelayMs,r=(a=Fi()-(10*(1073741821-a)-(0|o.timeoutMs||5e3)))<=i?0:i+r-a),10<r){Ml(e,t),e.timeoutHandle=vt(fl.bind(null,e),r);break}}fl(e);break;default:throw Error(s(329))}if($o(e),e.callbackNode===n)return Xo.bind(null,e)}}return null}function Zo(e){var n=e.lastExpiredTime;if(n=0!==n?n:1073741823,0!==(48&So))throw Error(s(327));if(gl(),e===ko&&n===Ao||tl(e,n),null!==Uo){var t=So;So|=16;for(var r=il();;)try{ol();break}catch(i){rl(e,i)}if(Zi(),So=t,_o.current=r,1===wo)throw t=To,tl(e,n),Ml(e,n),$o(e),t;if(null!==Uo)throw Error(s(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,ko=null,fl(e),$o(e)}return null}function el(e,n){var t=So;So|=1;try{return e(n)}finally{0===(So=t)&&Qi()}}function nl(e,n){var t=So;So&=-2,So|=8;try{return e(n)}finally{0===(So=t)&&Qi()}}function tl(e,n){e.finishedWork=null,e.finishedExpirationTime=0;var t=e.timeoutHandle;if(-1!==t&&(e.timeoutHandle=-1,Et(t)),null!==Uo)for(t=Uo.return;null!==t;){var r=t;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Oa(),li(fi),li(di);break;case 5:Pa(r);break;case 4:Oa();break;case 13:case 19:li(La);break;case 10:ea(r)}t=t.return}ko=e,Uo=Al(e.current,null),Ao=n,wo=Eo,To=null,Io=No=1073741823,Ro=null,Oo=0,Mo=!1}function rl(e,n){for(;;){try{if(Zi(),xa.current=gs,qa)for(var t=Ba.memoizedState;null!==t;){var r=t.queue;null!==r&&(r.pending=null),t=t.next}if(Ga=0,ja=za=Ba=null,qa=!1,null===Uo||null===Uo.return)return wo=1,To=n,Uo=null;e:{var i=e,a=Uo.return,s=Uo,o=n;if(n=Ao,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==o&&"object"===typeof o&&"function"===typeof o.then){var l=o;if(0===(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.expirationTime=u.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var c=0!==(1&La.current),d=a;do{var f;if(f=13===d.tag){var h=d.memoizedState;if(null!==h)f=null!==h.dehydrated;else{var p=d.memoizedProps;f=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(f){var g=d.updateQueue;if(null===g){var y=new Set;y.add(l),d.updateQueue=y}else g.add(l);if(0===(2&d.mode)){if(d.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=oa(1073741823,null);m.tag=2,la(s,m)}s.expirationTime=1073741823;break e}o=void 0,s=n;var _=i.pingCache;if(null===_?(_=i.pingCache=new ho,o=new Set,_.set(l,o)):void 0===(o=_.get(l))&&(o=new Set,_.set(l,o)),!o.has(s)){o.add(s);var v=vl.bind(null,i,l,s);l.then(v,v)}d.effectTag|=4096,d.expirationTime=n;break e}d=d.return}while(null!==d);o=Error((ye(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+me(s))}5!==wo&&(wo=2),o=$s(o,s),d=a;do{switch(d.tag){case 3:l=o,d.effectTag|=4096,d.expirationTime=n,ua(d,po(d,l,n));break e;case 1:l=o;var E=d.type,b=d.stateNode;if(0===(64&d.effectTag)&&("function"===typeof E.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===xo||!xo.has(b)))){d.effectTag|=4096,d.expirationTime=n,ua(d,go(d,l,n));break e}}d=d.return}while(null!==d)}Uo=cl(Uo)}catch(C){n=C;continue}break}}function il(){var e=_o.current;return _o.current=gs,null===e?gs:e}function al(e,n){e<No&&2<e&&(No=e),null!==n&&e<Io&&2<e&&(Io=e,Ro=n)}function sl(e){e>Oo&&(Oo=e)}function ol(){for(;null!==Uo;)Uo=ul(Uo)}function ll(){for(;null!==Uo&&!Mi();)Uo=ul(Uo)}function ul(e){var n=yo(e.alternate,e,Ao);return e.memoizedProps=e.pendingProps,null===n&&(n=cl(e)),vo.current=null,n}function cl(e){Uo=e;do{var n=Uo.alternate;if(e=Uo.return,0===(2048&Uo.effectTag)){if(n=Ks(n,Uo,Ao),1===Ao||1!==Uo.childExpirationTime){for(var t=0,r=Uo.child;null!==r;){var i=r.expirationTime,a=r.childExpirationTime;i>t&&(t=i),a>t&&(t=a),r=r.sibling}Uo.childExpirationTime=t}if(null!==n)return n;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Uo.firstEffect),null!==Uo.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Uo.firstEffect),e.lastEffect=Uo.lastEffect),1<Uo.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Uo:e.firstEffect=Uo,e.lastEffect=Uo))}else{if(null!==(n=Js(Uo)))return n.effectTag&=2047,n;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(n=Uo.sibling))return n;Uo=e}while(null!==Uo);return wo===Eo&&(wo=5),null}function dl(e){var n=e.expirationTime;return n>(e=e.childExpirationTime)?n:e}function fl(e){var n=Gi();return zi(99,hl.bind(null,e,n)),null}function hl(e,n){do{gl()}while(null!==Go);if(0!==(48&So))throw Error(s(327));var t=e.finishedWork,r=e.finishedExpirationTime;if(null===t)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,t===e.current)throw Error(s(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=dl(t);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===ko&&(Uo=ko=null,Ao=0),1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,i=t.firstEffect):i=t:i=t.firstEffect,null!==i){var a=So;So|=32,vo.current=null,gt=Vn;var o=ht();if(pt(o)){if("selectionStart"in o)var l={start:o.selectionStart,end:o.selectionEnd};else e:{var u=(l=(l=o.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{l.nodeType,d.nodeType}catch(A){l=null;break e}var f=0,h=-1,p=-1,g=0,y=0,m=o,_=null;n:for(;;){for(var v;m!==l||0!==c&&3!==m.nodeType||(h=f+c),m!==d||0!==u&&3!==m.nodeType||(p=f+u),3===m.nodeType&&(f+=m.nodeValue.length),null!==(v=m.firstChild);)_=m,m=v;for(;;){if(m===o)break n;if(_===l&&++g===c&&(h=f),_===d&&++y===u&&(p=f),null!==(v=m.nextSibling))break;_=(m=_).parentNode}m=v}l=-1===h||-1===p?null:{start:h,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;yt={activeElementDetached:null,focusedElem:o,selectionRange:l},Vn=!1,Lo=i;do{try{pl()}catch(A){if(null===Lo)throw Error(s(330));_l(Lo,A),Lo=Lo.nextEffect}}while(null!==Lo);Lo=i;do{try{for(o=e,l=n;null!==Lo;){var E=Lo.effectTag;if(16&E&&Ge(Lo.stateNode,""),128&E){var b=Lo.alternate;if(null!==b){var C=b.ref;null!==C&&("function"===typeof C?C(null):C.current=null)}}switch(1038&E){case 2:lo(Lo),Lo.effectTag&=-3;break;case 6:lo(Lo),Lo.effectTag&=-3,co(Lo.alternate,Lo);break;case 1024:Lo.effectTag&=-1025;break;case 1028:Lo.effectTag&=-1025,co(Lo.alternate,Lo);break;case 4:co(Lo.alternate,Lo);break;case 8:uo(o,c=Lo,l),so(c)}Lo=Lo.nextEffect}}catch(A){if(null===Lo)throw Error(s(330));_l(Lo,A),Lo=Lo.nextEffect}}while(null!==Lo);if(C=yt,b=ht(),E=C.focusedElem,l=C.selectionRange,b!==E&&E&&E.ownerDocument&&function e(n,t){return!(!n||!t)&&(n===t||(!n||3!==n.nodeType)&&(t&&3===t.nodeType?e(n,t.parentNode):"contains"in n?n.contains(t):!!n.compareDocumentPosition&&!!(16&n.compareDocumentPosition(t))))}(E.ownerDocument.documentElement,E)){null!==l&&pt(E)&&(b=l.start,void 0===(C=l.end)&&(C=b),"selectionStart"in E?(E.selectionStart=b,E.selectionEnd=Math.min(C,E.value.length)):(C=(b=E.ownerDocument||document)&&b.defaultView||window).getSelection&&(C=C.getSelection(),c=E.textContent.length,o=Math.min(l.start,c),l=void 0===l.end?o:Math.min(l.end,c),!C.extend&&o>l&&(c=l,l=o,o=c),c=ft(E,o),d=ft(E,l),c&&d&&(1!==C.rangeCount||C.anchorNode!==c.node||C.anchorOffset!==c.offset||C.focusNode!==d.node||C.focusOffset!==d.offset)&&((b=b.createRange()).setStart(c.node,c.offset),C.removeAllRanges(),o>l?(C.addRange(b),C.extend(d.node,d.offset)):(b.setEnd(d.node,d.offset),C.addRange(b))))),b=[];for(C=E;C=C.parentNode;)1===C.nodeType&&b.push({element:C,left:C.scrollLeft,top:C.scrollTop});for("function"===typeof E.focus&&E.focus(),E=0;E<b.length;E++)(C=b[E]).element.scrollLeft=C.left,C.element.scrollTop=C.top}Vn=!!gt,yt=gt=null,e.current=t,Lo=i;do{try{for(E=e;null!==Lo;){var S=Lo.effectTag;if(36&S&&io(E,Lo.alternate,Lo),128&S){b=void 0;var k=Lo.ref;if(null!==k){var U=Lo.stateNode;switch(Lo.tag){case 5:b=U;break;default:b=U}"function"===typeof k?k(b):k.current=b}}Lo=Lo.nextEffect}}catch(A){if(null===Lo)throw Error(s(330));_l(Lo,A),Lo=Lo.nextEffect}}while(null!==Lo);Lo=null,Pi(),So=a}else e.current=t;if(Fo)Fo=!1,Go=e,Bo=n;else for(Lo=i;null!==Lo;)n=Lo.nextEffect,Lo.nextEffect=null,Lo=n;if(0===(n=e.firstPendingTime)&&(xo=null),1073741823===n?e===qo?jo++:(jo=0,qo=e):jo=0,"function"===typeof bl&&bl(t.stateNode,r),$o(e),Do)throw Do=!1,e=Ho,Ho=null,e;return 0!==(8&So)||Qi(),null}function pl(){for(;null!==Lo;){var e=Lo.effectTag;0!==(256&e)&&no(Lo.alternate,Lo),0===(512&e)||Fo||(Fo=!0,ji(97,(function(){return gl(),null}))),Lo=Lo.nextEffect}}function gl(){if(90!==Bo){var e=97<Bo?97:Bo;return Bo=90,zi(e,yl)}}function yl(){if(null===Go)return!1;var e=Go;if(Go=null,0!==(48&So))throw Error(s(331));var n=So;for(So|=32,e=e.current.firstEffect;null!==e;){try{var t=e;if(0!==(512&t.effectTag))switch(t.tag){case 0:case 11:case 15:case 22:to(5,t),ro(5,t)}}catch(r){if(null===e)throw Error(s(330));_l(e,r)}t=e.nextEffect,e.nextEffect=null,e=t}return So=n,Qi(),!0}function ml(e,n,t){la(e,n=po(e,n=$s(t,n),1073741823)),null!==(e=Ko(e,1073741823))&&$o(e)}function _l(e,n){if(3===e.tag)ml(e,e,n);else for(var t=e.return;null!==t;){if(3===t.tag){ml(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===xo||!xo.has(r))){la(t,e=go(t,e=$s(n,e),1073741823)),null!==(t=Ko(t,1073741823))&&$o(t);break}}t=t.return}}function vl(e,n,t){var r=e.pingCache;null!==r&&r.delete(n),ko===e&&Ao===t?wo===Co||wo===bo&&1073741823===No&&Fi()-Po<500?tl(e,Ao):Mo=!0:Ol(e,t)&&(0!==(n=e.lastPingedTime)&&n<t||(e.lastPingedTime=t,$o(e)))}function El(e,n){var t=e.stateNode;null!==t&&t.delete(n),0===(n=0)&&(n=Vo(n=Yo(),e,null)),null!==(e=Ko(e,n))&&$o(e)}yo=function(e,n,t){var r=n.expirationTime;if(null!==e){var i=n.pendingProps;if(e.memoizedProps!==i||fi.current)Ns=!0;else{if(r<t){switch(Ns=!1,n.tag){case 3:xs(n),ws();break;case 5:if(Ma(n),4&n.mode&&1!==t&&i.hidden)return n.expirationTime=n.childExpirationTime=1,null;break;case 1:gi(n.type)&&vi(n);break;case 4:Ra(n,n.stateNode.containerInfo);break;case 10:r=n.memoizedProps.value,i=n.type._context,ui(Ki,i._currentValue),i._currentValue=r;break;case 13:if(null!==n.memoizedState)return 0!==(r=n.child.childExpirationTime)&&r>=t?js(e,n,t):(ui(La,1&La.current),null!==(n=Vs(e,n,t))?n.sibling:null);ui(La,1&La.current);break;case 19:if(r=n.childExpirationTime>=t,0!==(64&e.effectTag)){if(r)return Ys(e,n,t);n.effectTag|=64}if(null!==(i=n.memoizedState)&&(i.rendering=null,i.tail=null),ui(La,La.current),!r)return null}return Vs(e,n,t)}Ns=!1}}else Ns=!1;switch(n.expirationTime=0,n.tag){case 2:if(r=n.type,null!==e&&(e.alternate=null,n.alternate=null,n.effectTag|=2),e=n.pendingProps,i=pi(n,di.current),ta(n,t),i=Va(null,n,r,e,i,t),n.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(n.tag=1,n.memoizedState=null,n.updateQueue=null,gi(r)){var a=!0;vi(n)}else a=!1;n.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,aa(n);var o=r.getDerivedStateFromProps;"function"===typeof o&&pa(n,r,o,e),i.updater=ga,n.stateNode=i,i._reactInternalFiber=n,va(n,r,e,t),n=Hs(null,n,r,!0,a,t)}else n.tag=0,Is(null,n,i,t),n=n.child;return n;case 16:e:{if(i=n.elementType,null!==e&&(e.alternate=null,n.alternate=null,n.effectTag|=2),e=n.pendingProps,function(e){if(-1===e._status){e._status=0;var n=e._ctor;n=n(),e._result=n,n.then((function(n){0===e._status&&(n=n.default,e._status=1,e._result=n)}),(function(n){0===e._status&&(e._status=2,e._result=n)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,n.type=i,a=n.tag=function(e){if("function"===typeof e)return Ul(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===le)return 11;if(e===de)return 14}return 2}(i),e=Wi(i,e),a){case 0:n=Ls(null,n,i,e,t);break e;case 1:n=Ds(null,n,i,e,t);break e;case 11:n=Rs(null,n,i,e,t);break e;case 14:n=Os(null,n,i,Wi(i.type,e),r,t);break e}throw Error(s(306,i,""))}return n;case 0:return r=n.type,i=n.pendingProps,Ls(e,n,r,i=n.elementType===r?i:Wi(r,i),t);case 1:return r=n.type,i=n.pendingProps,Ds(e,n,r,i=n.elementType===r?i:Wi(r,i),t);case 3:if(xs(n),r=n.updateQueue,null===e||null===r)throw Error(s(282));if(r=n.pendingProps,i=null!==(i=n.memoizedState)?i.element:null,sa(e,n),ca(n,r,null,t),(r=n.memoizedState.element)===i)ws(),n=Vs(e,n,t);else{if((i=n.stateNode.hydrate)&&(Es=bt(n.stateNode.containerInfo.firstChild),vs=n,i=bs=!0),i)for(t=Ua(n,null,r,t),n.child=t;t;)t.effectTag=-3&t.effectTag|1024,t=t.sibling;else Is(e,n,r,t),ws();n=n.child}return n;case 5:return Ma(n),null===e&&ks(n),r=n.type,i=n.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,_t(r,i)?o=null:null!==a&&_t(r,a)&&(n.effectTag|=16),Ps(e,n),4&n.mode&&1!==t&&i.hidden?(n.expirationTime=n.childExpirationTime=1,n=null):(Is(e,n,o,t),n=n.child),n;case 6:return null===e&&ks(n),null;case 13:return js(e,n,t);case 4:return Ra(n,n.stateNode.containerInfo),r=n.pendingProps,null===e?n.child=ka(n,null,r,t):Is(e,n,r,t),n.child;case 11:return r=n.type,i=n.pendingProps,Rs(e,n,r,i=n.elementType===r?i:Wi(r,i),t);case 7:return Is(e,n,n.pendingProps,t),n.child;case 8:case 12:return Is(e,n,n.pendingProps.children,t),n.child;case 10:e:{r=n.type._context,i=n.pendingProps,o=n.memoizedProps,a=i.value;var l=n.type._context;if(ui(Ki,l._currentValue),l._currentValue=a,null!==o)if(l=o.value,0===(a=Hr(l,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,a):1073741823))){if(o.children===i.children&&!fi.current){n=Vs(e,n,t);break e}}else for(null!==(l=n.child)&&(l.return=n);null!==l;){var u=l.dependencies;if(null!==u){o=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&a)){1===l.tag&&((c=oa(t,null)).tag=2,la(l,c)),l.expirationTime<t&&(l.expirationTime=t),null!==(c=l.alternate)&&c.expirationTime<t&&(c.expirationTime=t),na(l.return,t),u.expirationTime<t&&(u.expirationTime=t);break}c=c.next}}else o=10===l.tag&&l.type===n.type?null:l.child;if(null!==o)o.return=l;else for(o=l;null!==o;){if(o===n){o=null;break}if(null!==(l=o.sibling)){l.return=o.return,o=l;break}o=o.return}l=o}Is(e,n,i.children,t),n=n.child}return n;case 9:return i=n.type,r=(a=n.pendingProps).children,ta(n,t),r=r(i=ra(i,a.unstable_observedBits)),n.effectTag|=1,Is(e,n,r,t),n.child;case 14:return a=Wi(i=n.type,n.pendingProps),Os(e,n,i,a=Wi(i.type,a),r,t);case 15:return Ms(e,n,n.type,n.pendingProps,r,t);case 17:return r=n.type,i=n.pendingProps,i=n.elementType===r?i:Wi(r,i),null!==e&&(e.alternate=null,n.alternate=null,n.effectTag|=2),n.tag=1,gi(r)?(e=!0,vi(n)):e=!1,ta(n,t),ma(n,r,i),va(n,r,i,t),Hs(null,n,r,!0,e,t);case 19:return Ys(e,n,t)}throw Error(s(156,n.tag))};var bl=null,Cl=null;function Sl(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function kl(e,n,t,r){return new Sl(e,n,t,r)}function Ul(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Al(e,n){var t=e.alternate;return null===t?((t=kl(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.effectTag=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null),t.childExpirationTime=e.childExpirationTime,t.expirationTime=e.expirationTime,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function wl(e,n,t,r,i,a){var o=2;if(r=e,"function"===typeof e)Ul(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case te:return Tl(t.children,i,a,n);case oe:o=8,i|=7;break;case re:o=8,i|=1;break;case ie:return(e=kl(12,t,n,8|i)).elementType=ie,e.type=ie,e.expirationTime=a,e;case ue:return(e=kl(13,t,n,i)).type=ue,e.elementType=ue,e.expirationTime=a,e;case ce:return(e=kl(19,t,n,i)).elementType=ce,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ae:o=10;break e;case se:o=9;break e;case le:o=11;break e;case de:o=14;break e;case fe:o=16,r=null;break e;case he:o=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(n=kl(o,t,n,i)).elementType=e,n.type=r,n.expirationTime=a,n}function Tl(e,n,t,r){return(e=kl(7,e,r,n)).expirationTime=t,e}function Nl(e,n,t){return(e=kl(6,e,null,n)).expirationTime=t,e}function Il(e,n,t){return(n=kl(4,null!==e.children?e.children:[],e.key,n)).expirationTime=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Rl(e,n,t){this.tag=n,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ol(e,n){var t=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==t&&t>=n&&e<=n}function Ml(e,n){var t=e.firstSuspendedTime,r=e.lastSuspendedTime;t<n&&(e.firstSuspendedTime=n),(r>n||0===t)&&(e.lastSuspendedTime=n),n<=e.lastPingedTime&&(e.lastPingedTime=0),n<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Pl(e,n){n>e.firstPendingTime&&(e.firstPendingTime=n);var t=e.firstSuspendedTime;0!==t&&(n>=t?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n>=e.lastSuspendedTime&&(e.lastSuspendedTime=n+1),n>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=n))}function Ll(e,n){var t=e.lastExpiredTime;(0===t||t>n)&&(e.lastExpiredTime=n)}function Dl(e,n,t,r){var i=n.current,a=Yo(),o=fa.suspense;a=Vo(a,i,o);e:if(t){n:{if(Ze(t=t._reactInternalFiber)!==t||1!==t.tag)throw Error(s(170));var l=t;do{switch(l.tag){case 3:l=l.stateNode.context;break n;case 1:if(gi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break n}}l=l.return}while(null!==l);throw Error(s(171))}if(1===t.tag){var u=t.type;if(gi(u)){t=_i(t,u,l);break e}}t=l}else t=ci;return null===n.context?n.context=t:n.pendingContext=t,(n=oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(n.callback=r),la(i,n),Wo(i,a),a}function Hl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function xl(e,n){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<n&&(e.retryTime=n)}function Fl(e,n){xl(e,n),(e=e.alternate)&&xl(e,n)}function Gl(e,n,t){var r=new Rl(e,n,t=null!=t&&!0===t.hydrate),i=kl(3,null,null,2===n?7:1===n?3:0);r.current=i,i.stateNode=r,aa(i),e[At]=r.current,t&&0!==n&&function(e,n){var t=Xe(n);wn.forEach((function(e){gn(e,n,t)})),Tn.forEach((function(e){gn(e,n,t)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Bl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function zl(e,n,t,r,i){var a=t._reactRootContainer;if(a){var s=a._internalRoot;if("function"===typeof i){var o=i;i=function(){var e=Hl(s);o.call(e)}}Dl(n,s,e,i)}else{if(a=t._reactRootContainer=function(e,n){if(n||(n=!(!(n=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==n.nodeType||!n.hasAttribute("data-reactroot"))),!n)for(var t;t=e.lastChild;)e.removeChild(t);return new Gl(e,0,n?{hydrate:!0}:void 0)}(t,r),s=a._internalRoot,"function"===typeof i){var l=i;i=function(){var e=Hl(s);l.call(e)}}nl((function(){Dl(n,s,e,i)}))}return Hl(s)}function jl(e,n,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ne,key:null==r?null:""+r,children:e,containerInfo:n,implementation:t}}function ql(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Bl(n))throw Error(s(200));return jl(e,n,null,t)}Gl.prototype.render=function(e){Dl(e,this._internalRoot,null,null)},Gl.prototype.unmount=function(){var e=this._internalRoot,n=e.containerInfo;Dl(null,e,null,(function(){n[At]=null}))},yn=function(e){if(13===e.tag){var n=Vi(Yo(),150,100);Wo(e,n),Fl(e,n)}},mn=function(e){13===e.tag&&(Wo(e,3),Fl(e,3))},_n=function(e){if(13===e.tag){var n=Yo();Wo(e,n=Vo(n,e,null)),Fl(e,n)}},T=function(e,n,t){switch(n){case"input":if(Ue(e,t),n=t.name,"radio"===t.type&&null!=n){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var i=It(r);if(!i)throw Error(s(90));be(r),Ue(r,i)}}}break;case"textarea":Oe(e,t);break;case"select":null!=(n=t.value)&&Ne(e,!!t.multiple,n,!1)}},P=el,L=function(e,n,t,r,i){var a=So;So|=4;try{return zi(98,e.bind(null,n,t,r,i))}finally{0===(So=a)&&Qi()}},D=function(){0===(49&So)&&(function(){if(null!==zo){var e=zo;zo=null,e.forEach((function(e,n){Ll(n,e),$o(n)})),Qi()}}(),gl())},H=function(e,n){var t=So;So|=2;try{return e(n)}finally{0===(So=t)&&Qi()}};var Ql={Events:[Tt,Nt,It,A,S,Ht,function(e){an(e,Dt)},O,M,Xn,ln,gl,{current:!1}]};!function(e){var n=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var n=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(n.isDisabled||!n.supportsFiber)return!0;try{var t=n.inject(e);bl=function(e){try{n.onCommitFiberRoot(t,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Cl=function(e){try{n.onCommitFiberUnmount(t,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=tn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return n?n(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:wt,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ql,n.createPortal=ql,n.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var n=e._reactInternalFiber;if(void 0===n){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=tn(n))?null:e.stateNode},n.flushSync=function(e,n){if(0!==(48&So))throw Error(s(187));var t=So;So|=1;try{return zi(99,e.bind(null,n))}finally{So=t,Qi()}},n.hydrate=function(e,n,t){if(!Bl(n))throw Error(s(200));return zl(null,e,n,!0,t)},n.render=function(e,n,t){if(!Bl(n))throw Error(s(200));return zl(null,e,n,!1,t)},n.unmountComponentAtNode=function(e){if(!Bl(e))throw Error(s(40));return!!e._reactRootContainer&&(nl((function(){zl(null,null,e,!1,(function(){e._reactRootContainer=null,e[At]=null}))})),!0)},n.unstable_batchedUpdates=el,n.unstable_createPortal=function(e,n){return ql(e,n,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},n.unstable_renderSubtreeIntoContainer=function(e,n,t,r){if(!Bl(t))throw Error(s(200));if(null==e||void 0===e._reactInternalFiber)throw Error(s(38));return zl(e,n,t,!1,r)},n.version="16.13.1"},function(e,n,t){"use strict";e.exports=t(22)},function(e,n,t){"use strict";var r,i,a,s,o;if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,u=null,c=function e(){if(null!==l)try{var t=n.unstable_now();l(!0,t),l=null}catch(r){throw setTimeout(e,0),r}},d=Date.now();n.unstable_now=function(){return Date.now()-d},r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(c,0))},i=function(e,n){u=setTimeout(e,n)},a=function(){clearTimeout(u)},s=function(){return!1},o=n.unstable_forceFrameRate=function(){}}else{var f=window.performance,h=window.Date,p=window.setTimeout,g=window.clearTimeout;if("undefined"!==typeof console){var y=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)n.unstable_now=function(){return f.now()};else{var m=h.now();n.unstable_now=function(){return h.now()-m}}var _=!1,v=null,E=-1,b=5,C=0;s=function(){return n.unstable_now()>=C},o=function(){},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,k=S.port2;S.port1.onmessage=function(){if(null!==v){var e=n.unstable_now();C=e+b;try{v(!0,e)?k.postMessage(null):(_=!1,v=null)}catch(t){throw k.postMessage(null),t}}else _=!1},r=function(e){v=e,_||(_=!0,k.postMessage(null))},i=function(e,t){E=p((function(){e(n.unstable_now())}),t)},a=function(){g(E),E=-1}}function U(e,n){var t=e.length;e.push(n);e:for(;;){var r=t-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,n)))break e;e[r]=n,e[t]=i,t=r}}function A(e){return void 0===(e=e[0])?null:e}function w(e){var n=e[0];if(void 0!==n){var t=e.pop();if(t!==n){e[0]=t;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,s=e[a],o=a+1,l=e[o];if(void 0!==s&&0>T(s,t))void 0!==l&&0>T(l,s)?(e[r]=l,e[o]=t,r=o):(e[r]=s,e[a]=t,r=a);else{if(!(void 0!==l&&0>T(l,t)))break e;e[r]=l,e[o]=t,r=o}}}return n}return null}function T(e,n){var t=e.sortIndex-n.sortIndex;return 0!==t?t:e.id-n.id}var N=[],I=[],R=1,O=null,M=3,P=!1,L=!1,D=!1;function H(e){for(var n=A(I);null!==n;){if(null===n.callback)w(I);else{if(!(n.startTime<=e))break;w(I),n.sortIndex=n.expirationTime,U(N,n)}n=A(I)}}function x(e){if(D=!1,H(e),!L)if(null!==A(N))L=!0,r(F);else{var n=A(I);null!==n&&i(x,n.startTime-e)}}function F(e,t){L=!1,D&&(D=!1,a()),P=!0;var r=M;try{for(H(t),O=A(N);null!==O&&(!(O.expirationTime>t)||e&&!s());){var o=O.callback;if(null!==o){O.callback=null,M=O.priorityLevel;var l=o(O.expirationTime<=t);t=n.unstable_now(),"function"===typeof l?O.callback=l:O===A(N)&&w(N),H(t)}else w(N);O=A(N)}if(null!==O)var u=!0;else{var c=A(I);null!==c&&i(x,c.startTime-t),u=!1}return u}finally{O=null,M=r,P=!1}}function G(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var B=o;n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_continueExecution=function(){L||P||(L=!0,r(F))},n.unstable_getCurrentPriorityLevel=function(){return M},n.unstable_getFirstCallbackNode=function(){return A(N)},n.unstable_next=function(e){switch(M){case 1:case 2:case 3:var n=3;break;default:n=M}var t=M;M=n;try{return e()}finally{M=t}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=B,n.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=M;M=e;try{return n()}finally{M=t}},n.unstable_scheduleCallback=function(e,t,s){var o=n.unstable_now();if("object"===typeof s&&null!==s){var l=s.delay;l="number"===typeof l&&0<l?o+l:o,s="number"===typeof s.timeout?s.timeout:G(e)}else s=G(e),l=o;return e={id:R++,callback:t,priorityLevel:e,startTime:l,expirationTime:s=l+s,sortIndex:-1},l>o?(e.sortIndex=l,U(I,e),null===A(N)&&e===A(I)&&(D?a():D=!0,i(x,l-o))):(e.sortIndex=s,U(N,e),L||P||(L=!0,r(F))),e},n.unstable_shouldYield=function(){var e=n.unstable_now();H(e);var t=A(N);return t!==O&&null!==O&&null!==t&&null!==t.callback&&t.startTime<=e&&t.expirationTime<O.expirationTime||s()},n.unstable_wrapCallback=function(e){var n=M;return function(){var t=M;M=n;try{return e.apply(this,arguments)}finally{M=t}}}},,,function(e,n,t){"use strict";(function(e){var r=t(27),i=t(28),a=t(29);function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,n){if(s()<n)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(n)).__proto__=l.prototype:(null===e&&(e=new l(n)),e.length=n),e}function l(e,n,t){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(e,n,t);if("number"===typeof e){if("string"===typeof n)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,n,t)}function u(e,n,t,r){if("number"===typeof n)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&n instanceof ArrayBuffer?function(e,n,t,r){if(n.byteLength,t<0||n.byteLength<t)throw new RangeError("'offset' is out of bounds");if(n.byteLength<t+(r||0))throw new RangeError("'length' is out of bounds");n=void 0===t&&void 0===r?new Uint8Array(n):void 0===r?new Uint8Array(n,t):new Uint8Array(n,t,r);l.TYPED_ARRAY_SUPPORT?(e=n).__proto__=l.prototype:e=f(e,n);return e}(e,n,t,r):"string"===typeof n?function(e,n,t){"string"===typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(n,t),i=(e=o(e,r)).write(n,t);i!==r&&(e=e.slice(0,i));return e}(e,n,t):function(e,n){if(l.isBuffer(n)){var t=0|h(n.length);return 0===(e=o(e,t)).length||n.copy(e,0,0,t),e}if(n){if("undefined"!==typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!==typeof n.length||(r=n.length)!==r?o(e,0):f(e,n);if("Buffer"===n.type&&a(n.data))return f(e,n.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,n)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,n){if(c(n),e=o(e,n<0?0:0|h(n)),!l.TYPED_ARRAY_SUPPORT)for(var t=0;t<n;++t)e[t]=0;return e}function f(e,n){var t=n.length<0?0:0|h(n.length);e=o(e,t);for(var r=0;r<t;r+=1)e[r]=255&n[r];return e}function h(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,n){if(l.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var t=e.length;if(0===t)return 0;for(var r=!1;;)switch(n){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":case void 0:return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t;case"hex":return t>>>1;case"base64":return B(e).length;default:if(r)return G(e).length;n=(""+n).toLowerCase(),r=!0}}function g(e,n,t){var r=!1;if((void 0===n||n<0)&&(n=0),n>this.length)return"";if((void 0===t||t>this.length)&&(t=this.length),t<=0)return"";if((t>>>=0)<=(n>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,n,t);case"utf8":case"utf-8":return A(this,n,t);case"ascii":return w(this,n,t);case"latin1":case"binary":return T(this,n,t);case"base64":return U(this,n,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,n,t);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,n,t){var r=e[n];e[n]=e[t],e[t]=r}function m(e,n,t,r,i){if(0===e.length)return-1;if("string"===typeof t?(r=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,isNaN(t)&&(t=i?0:e.length-1),t<0&&(t=e.length+t),t>=e.length){if(i)return-1;t=e.length-1}else if(t<0){if(!i)return-1;t=0}if("string"===typeof n&&(n=l.from(n,r)),l.isBuffer(n))return 0===n.length?-1:_(e,n,t,r,i);if("number"===typeof n)return n&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,n,t):Uint8Array.prototype.lastIndexOf.call(e,n,t):_(e,[n],t,r,i);throw new TypeError("val must be string, number or Buffer")}function _(e,n,t,r,i){var a,s=1,o=e.length,l=n.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||n.length<2)return-1;s=2,o/=2,l/=2,t/=2}function u(e,n){return 1===s?e[n]:e.readUInt16BE(n*s)}if(i){var c=-1;for(a=t;a<o;a++)if(u(e,a)===u(n,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===l)return c*s}else-1!==c&&(a-=a-c),c=-1}else for(t+l>o&&(t=o-l),a=t;a>=0;a--){for(var d=!0,f=0;f<l;f++)if(u(e,a+f)!==u(n,f)){d=!1;break}if(d)return a}return-1}function v(e,n,t,r){t=Number(t)||0;var i=e.length-t;r?(r=Number(r))>i&&(r=i):r=i;var a=n.length;if(a%2!==0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var s=0;s<r;++s){var o=parseInt(n.substr(2*s,2),16);if(isNaN(o))return s;e[t+s]=o}return s}function E(e,n,t,r){return z(G(n,e.length-t),e,t,r)}function b(e,n,t,r){return z(function(e){for(var n=[],t=0;t<e.length;++t)n.push(255&e.charCodeAt(t));return n}(n),e,t,r)}function C(e,n,t,r){return b(e,n,t,r)}function S(e,n,t,r){return z(B(n),e,t,r)}function k(e,n,t,r){return z(function(e,n){for(var t,r,i,a=[],s=0;s<e.length&&!((n-=2)<0);++s)t=e.charCodeAt(s),r=t>>8,i=t%256,a.push(i),a.push(r);return a}(n,e.length-t),e,t,r)}function U(e,n,t){return 0===n&&t===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(n,t))}function A(e,n,t){t=Math.min(e.length,t);for(var r=[],i=n;i<t;){var a,s,o,l,u=e[i],c=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=t)switch(d){case 1:u<128&&(c=u);break;case 2:128===(192&(a=e[i+1]))&&(l=(31&u)<<6|63&a)>127&&(c=l);break;case 3:a=e[i+1],s=e[i+2],128===(192&a)&&128===(192&s)&&(l=(15&u)<<12|(63&a)<<6|63&s)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:a=e[i+1],s=e[i+2],o=e[i+3],128===(192&a)&&128===(192&s)&&128===(192&o)&&(l=(15&u)<<18|(63&a)<<12|(63&s)<<6|63&o)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=d}return function(e){var n=e.length;if(n<=4096)return String.fromCharCode.apply(String,e);var t="",r=0;for(;r<n;)t+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return t}(r)}n.Buffer=l,n.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},n.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(n){return!1}}(),n.kMaxLength=s(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,n,t){return u(null,e,n,t)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,n,t){return function(e,n,t,r){return c(n),n<=0?o(e,n):void 0!==t?"string"===typeof r?o(e,n).fill(t,r):o(e,n).fill(t):o(e,n)}(null,e,n,t)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,n){if(!l.isBuffer(e)||!l.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var t=e.length,r=n.length,i=0,a=Math.min(t,r);i<a;++i)if(e[i]!==n[i]){t=e[i],r=n[i];break}return t<r?-1:r<t?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,n){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var t;if(void 0===n)for(n=0,t=0;t<e.length;++t)n+=e[t].length;var r=l.allocUnsafe(n),i=0;for(t=0;t<e.length;++t){var s=e[t];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<e;n+=2)y(this,n,n+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<e;n+=4)y(this,n,n+3),y(this,n+1,n+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<e;n+=8)y(this,n,n+7),y(this,n+1,n+6),y(this,n+2,n+5),y(this,n+3,n+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):g.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,n,t,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===t&&(t=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),n<0||t>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&n>=t)return 0;if(r>=i)return-1;if(n>=t)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),s=(t>>>=0)-(n>>>=0),o=Math.min(a,s),u=this.slice(r,i),c=e.slice(n,t),d=0;d<o;++d)if(u[d]!==c[d]){a=u[d],s=c[d];break}return a<s?-1:s<a?1:0},l.prototype.includes=function(e,n,t){return-1!==this.indexOf(e,n,t)},l.prototype.indexOf=function(e,n,t){return m(this,e,n,t,!0)},l.prototype.lastIndexOf=function(e,n,t){return m(this,e,n,t,!1)},l.prototype.write=function(e,n,t,r){if(void 0===n)r="utf8",t=this.length,n=0;else if(void 0===t&&"string"===typeof n)r=n,t=this.length,n=0;else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n|=0,isFinite(t)?(t|=0,void 0===r&&(r="utf8")):(r=t,t=void 0)}var i=this.length-n;if((void 0===t||t>i)&&(t=i),e.length>0&&(t<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return v(this,e,n,t);case"utf8":case"utf-8":return E(this,e,n,t);case"ascii":return b(this,e,n,t);case"latin1":case"binary":return C(this,e,n,t);case"base64":return S(this,e,n,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,n,t);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function w(e,n,t){var r="";t=Math.min(e.length,t);for(var i=n;i<t;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,n,t){var r="";t=Math.min(e.length,t);for(var i=n;i<t;++i)r+=String.fromCharCode(e[i]);return r}function N(e,n,t){var r=e.length;(!n||n<0)&&(n=0),(!t||t<0||t>r)&&(t=r);for(var i="",a=n;a<t;++a)i+=F(e[a]);return i}function I(e,n,t){for(var r=e.slice(n,t),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function R(e,n,t){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+n>t)throw new RangeError("Trying to access beyond buffer length")}function O(e,n,t,r,i,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>i||n<a)throw new RangeError('"value" argument is out of bounds');if(t+r>e.length)throw new RangeError("Index out of range")}function M(e,n,t,r){n<0&&(n=65535+n+1);for(var i=0,a=Math.min(e.length-t,2);i<a;++i)e[t+i]=(n&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function P(e,n,t,r){n<0&&(n=4294967295+n+1);for(var i=0,a=Math.min(e.length-t,4);i<a;++i)e[t+i]=n>>>8*(r?i:3-i)&255}function L(e,n,t,r,i,a){if(t+r>e.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function D(e,n,t,r,a){return a||L(e,0,t,4),i.write(e,n,t,r,23,4),t+4}function H(e,n,t,r,a){return a||L(e,0,t,8),i.write(e,n,t,r,52,8),t+8}l.prototype.slice=function(e,n){var t,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(n=void 0===n?r:~~n)<0?(n+=r)<0&&(n=0):n>r&&(n=r),n<e&&(n=e),l.TYPED_ARRAY_SUPPORT)(t=this.subarray(e,n)).__proto__=l.prototype;else{var i=n-e;t=new l(i,void 0);for(var a=0;a<i;++a)t[a]=this[a+e]}return t},l.prototype.readUIntLE=function(e,n,t){e|=0,n|=0,t||R(e,n,this.length);for(var r=this[e],i=1,a=0;++a<n&&(i*=256);)r+=this[e+a]*i;return r},l.prototype.readUIntBE=function(e,n,t){e|=0,n|=0,t||R(e,n,this.length);for(var r=this[e+--n],i=1;n>0&&(i*=256);)r+=this[e+--n]*i;return r},l.prototype.readUInt8=function(e,n){return n||R(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,n){return n||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,n){return n||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,n){return n||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,n){return n||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,n,t){e|=0,n|=0,t||R(e,n,this.length);for(var r=this[e],i=1,a=0;++a<n&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*n)),r},l.prototype.readIntBE=function(e,n,t){e|=0,n|=0,t||R(e,n,this.length);for(var r=n,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*n)),a},l.prototype.readInt8=function(e,n){return n||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,n){n||R(e,2,this.length);var t=this[e]|this[e+1]<<8;return 32768&t?4294901760|t:t},l.prototype.readInt16BE=function(e,n){n||R(e,2,this.length);var t=this[e+1]|this[e]<<8;return 32768&t?4294901760|t:t},l.prototype.readInt32LE=function(e,n){return n||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,n){return n||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,n){return n||R(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,n){return n||R(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,n){return n||R(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,n){return n||R(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,n,t,r){(e=+e,n|=0,t|=0,r)||O(this,e,n,t,Math.pow(2,8*t)-1,0);var i=1,a=0;for(this[n]=255&e;++a<t&&(i*=256);)this[n+a]=e/i&255;return n+t},l.prototype.writeUIntBE=function(e,n,t,r){(e=+e,n|=0,t|=0,r)||O(this,e,n,t,Math.pow(2,8*t)-1,0);var i=t-1,a=1;for(this[n+i]=255&e;--i>=0&&(a*=256);)this[n+i]=e/a&255;return n+t},l.prototype.writeUInt8=function(e,n,t){return e=+e,n|=0,t||O(this,e,n,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},l.prototype.writeUInt16LE=function(e,n,t){return e=+e,n|=0,t||O(this,e,n,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):M(this,e,n,!0),n+2},l.prototype.writeUInt16BE=function(e,n,t){return e=+e,n|=0,t||O(this,e,n,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):M(this,e,n,!1),n+2},l.prototype.writeUInt32LE=function(e,n,t){return e=+e,n|=0,t||O(this,e,n,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):P(this,e,n,!0),n+4},l.prototype.writeUInt32BE=function(e,n,t){return e=+e,n|=0,t||O(this,e,n,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):P(this,e,n,!1),n+4},l.prototype.writeIntLE=function(e,n,t,r){if(e=+e,n|=0,!r){var i=Math.pow(2,8*t-1);O(this,e,n,t,i-1,-i)}var a=0,s=1,o=0;for(this[n]=255&e;++a<t&&(s*=256);)e<0&&0===o&&0!==this[n+a-1]&&(o=1),this[n+a]=(e/s>>0)-o&255;return n+t},l.prototype.writeIntBE=function(e,n,t,r){if(e=+e,n|=0,!r){var i=Math.pow(2,8*t-1);O(this,e,n,t,i-1,-i)}var a=t-1,s=1,o=0;for(this[n+a]=255&e;--a>=0&&(s*=256);)e<0&&0===o&&0!==this[n+a+1]&&(o=1),this[n+a]=(e/s>>0)-o&255;return n+t},l.prototype.writeInt8=function(e,n,t){return e=+e,n|=0,t||O(this,e,n,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[n]=255&e,n+1},l.prototype.writeInt16LE=function(e,n,t){return e=+e,n|=0,t||O(this,e,n,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):M(this,e,n,!0),n+2},l.prototype.writeInt16BE=function(e,n,t){return e=+e,n|=0,t||O(this,e,n,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):M(this,e,n,!1),n+2},l.prototype.writeInt32LE=function(e,n,t){return e=+e,n|=0,t||O(this,e,n,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):P(this,e,n,!0),n+4},l.prototype.writeInt32BE=function(e,n,t){return e=+e,n|=0,t||O(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):P(this,e,n,!1),n+4},l.prototype.writeFloatLE=function(e,n,t){return D(this,e,n,!0,t)},l.prototype.writeFloatBE=function(e,n,t){return D(this,e,n,!1,t)},l.prototype.writeDoubleLE=function(e,n,t){return H(this,e,n,!0,t)},l.prototype.writeDoubleBE=function(e,n,t){return H(this,e,n,!1,t)},l.prototype.copy=function(e,n,t,r){if(t||(t=0),r||0===r||(r=this.length),n>=e.length&&(n=e.length),n||(n=0),r>0&&r<t&&(r=t),r===t)return 0;if(0===e.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-n<r-t&&(r=e.length-n+t);var i,a=r-t;if(this===e&&t<n&&n<r)for(i=a-1;i>=0;--i)e[i+n]=this[i+t];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+n]=this[i+t];else Uint8Array.prototype.set.call(e,this.subarray(t,t+a),n);return a},l.prototype.fill=function(e,n,t,r){if("string"===typeof e){if("string"===typeof n?(r=n,n=0,t=this.length):"string"===typeof t&&(r=t,t=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(n<0||this.length<n||this.length<t)throw new RangeError("Out of range index");if(t<=n)return this;var a;if(n>>>=0,t=void 0===t?this.length:t>>>0,e||(e=0),"number"===typeof e)for(a=n;a<t;++a)this[a]=e;else{var s=l.isBuffer(e)?e:G(new l(e,r).toString()),o=s.length;for(a=0;a<t-n;++a)this[a+n]=s[a%o]}return this};var x=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function G(e,n){var t;n=n||1/0;for(var r=e.length,i=null,a=[],s=0;s<r;++s){if((t=e.charCodeAt(s))>55295&&t<57344){if(!i){if(t>56319){(n-=3)>-1&&a.push(239,191,189);continue}if(s+1===r){(n-=3)>-1&&a.push(239,191,189);continue}i=t;continue}if(t<56320){(n-=3)>-1&&a.push(239,191,189),i=t;continue}t=65536+(i-55296<<10|t-56320)}else i&&(n-=3)>-1&&a.push(239,191,189);if(i=null,t<128){if((n-=1)<0)break;a.push(t)}else if(t<2048){if((n-=2)<0)break;a.push(t>>6|192,63&t|128)}else if(t<65536){if((n-=3)<0)break;a.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((n-=4)<0)break;a.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return a}function B(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(x,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function z(e,n,t,r){for(var i=0;i<r&&!(i+t>=n.length||i>=e.length);++i)n[i+t]=e[i];return i}}).call(this,t(26))},function(e,n){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(r){"object"===typeof window&&(t=window)}e.exports=t},function(e,n,t){"use strict";n.byteLength=function(e){var n=u(e),t=n[0],r=n[1];return 3*(t+r)/4-r},n.toByteArray=function(e){var n,t,r=u(e),s=r[0],o=r[1],l=new a(function(e,n,t){return 3*(n+t)/4-t}(0,s,o)),c=0,d=o>0?s-4:s;for(t=0;t<d;t+=4)n=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],l[c++]=n>>16&255,l[c++]=n>>8&255,l[c++]=255&n;2===o&&(n=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,l[c++]=255&n);1===o&&(n=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,l[c++]=n>>8&255,l[c++]=255&n);return l},n.fromByteArray=function(e){for(var n,t=e.length,i=t%3,a=[],s=0,o=t-i;s<o;s+=16383)a.push(c(e,s,s+16383>o?o:s+16383));1===i?(n=e[t-1],a.push(r[n>>2]+r[n<<4&63]+"==")):2===i&&(n=(e[t-2]<<8)+e[t-1],a.push(r[n>>10]+r[n>>4&63]+r[n<<2&63]+"="));return a.join("")};for(var r=[],i=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,l=s.length;o<l;++o)r[o]=s[o],i[s.charCodeAt(o)]=o;function u(e){var n=e.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");return-1===t&&(t=n),[t,t===n?0:4-t%4]}function c(e,n,t){for(var i,a,s=[],o=n;o<t;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,n){n.read=function(e,n,t,r,i){var a,s,o=8*i-r-1,l=(1<<o)-1,u=l>>1,c=-7,d=t?i-1:0,f=t?-1:1,h=e[n+d];for(d+=f,a=h&(1<<-c)-1,h>>=-c,c+=o;c>0;a=256*a+e[n+d],d+=f,c-=8);for(s=a&(1<<-c)-1,a>>=-c,c+=r;c>0;s=256*s+e[n+d],d+=f,c-=8);if(0===a)a=1-u;else{if(a===l)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),a-=u}return(h?-1:1)*s*Math.pow(2,a-r)},n.write=function(e,n,t,r,i,a){var s,o,l,u=8*a-i-1,c=(1<<u)-1,d=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,p=r?1:-1,g=n<0||0===n&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(o=isNaN(n)?1:0,s=c):(s=Math.floor(Math.log(n)/Math.LN2),n*(l=Math.pow(2,-s))<1&&(s--,l*=2),(n+=s+d>=1?f/l:f*Math.pow(2,1-d))*l>=2&&(s++,l/=2),s+d>=c?(o=0,s=c):s+d>=1?(o=(n*l-1)*Math.pow(2,i),s+=d):(o=n*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[t+h]=255&o,h+=p,o/=256,i-=8);for(s=s<<i|o,u+=i;u>0;e[t+h]=255&s,h+=p,s/=256,u-=8);e[t+h-p]|=128*g}},function(e,n){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},function(e,n,t){e.exports=t(31)},function(e,n,t){"use strict";var r=t(1),i=t(8),a=t(32),s=t(14);function o(e){var n=new a(e),t=i(a.prototype.request,n);return r.extend(t,a.prototype,n),r.extend(t,n),t}var l=o(t(11));l.Axios=a,l.create=function(e){return o(s(l.defaults,e))},l.Cancel=t(15),l.CancelToken=t(45),l.isCancel=t(10),l.all=function(e){return Promise.all(e)},l.spread=t(46),e.exports=l,e.exports.default=l},function(e,n,t){"use strict";var r=t(1),i=t(9),a=t(33),s=t(34),o=t(14);function l(e){this.defaults=e,this.interceptors={request:new a,response:new a}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=o(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=[s,void 0],t=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){n.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){n.push(e.fulfilled,e.rejected)}));n.length;)t=t.then(n.shift(),n.shift());return t},l.prototype.getUri=function(e){return e=o(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(n,t){return this.request(r.merge(t||{},{method:e,url:n}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(n,t,i){return this.request(r.merge(i||{},{method:e,url:n,data:t}))}})),e.exports=l},function(e,n,t){"use strict";var r=t(1);function i(){this.handlers=[]}i.prototype.use=function(e,n){return this.handlers.push({fulfilled:e,rejected:n}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(n){null!==n&&e(n)}))},e.exports=i},function(e,n,t){"use strict";var r=t(1),i=t(35),a=t(10),s=t(11);function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return o(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(n){delete e.headers[n]})),(e.adapter||s.adapter)(e).then((function(n){return o(e),n.data=i(n.data,n.headers,e.transformResponse),n}),(function(n){return a(n)||(o(e),n&&n.response&&(n.response.data=i(n.response.data,n.response.headers,e.transformResponse))),Promise.reject(n)}))}},function(e,n,t){"use strict";var r=t(1);e.exports=function(e,n,t){return r.forEach(t,(function(t){e=t(e,n)})),e}},function(e,n,t){"use strict";var r=t(1);e.exports=function(e,n){r.forEach(e,(function(t,r){r!==n&&r.toUpperCase()===n.toUpperCase()&&(e[n]=t,delete e[r])}))}},function(e,n,t){"use strict";var r=t(13);e.exports=function(e,n,t){var i=t.config.validateStatus;!i||i(t.status)?e(t):n(r("Request failed with status code "+t.status,t.config,null,t.request,t))}},function(e,n,t){"use strict";e.exports=function(e,n,t,r,i){return e.config=n,t&&(e.code=t),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,n,t){"use strict";var r=t(40),i=t(41);e.exports=function(e,n){return e&&!r(n)?i(e,n):n}},function(e,n,t){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,n,t){"use strict";e.exports=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}},function(e,n,t){"use strict";var r=t(1),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var n,t,a,s={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),n=r.trim(e.substr(0,a)).toLowerCase(),t=r.trim(e.substr(a+1)),n){if(s[n]&&i.indexOf(n)>=0)return;s[n]="set-cookie"===n?(s[n]?s[n]:[]).concat([t]):s[n]?s[n]+", "+t:t}})),s):s}},function(e,n,t){"use strict";var r=t(1);e.exports=r.isStandardBrowserEnv()?function(){var e,n=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");function i(e){var r=e;return n&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return e=i(window.location.href),function(n){var t=r.isString(n)?i(n):n;return t.protocol===e.protocol&&t.host===e.host}}():function(){return!0}},function(e,n,t){"use strict";var r=t(1);e.exports=r.isStandardBrowserEnv()?{write:function(e,n,t,i,a,s){var o=[];o.push(e+"="+encodeURIComponent(n)),r.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),r.isString(i)&&o.push("path="+i),r.isString(a)&&o.push("domain="+a),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,n,t){"use strict";var r=t(15);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var t=this;e((function(e){t.reason||(t.reason=new r(e),n(t.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(n){e=n})),cancel:e}},e.exports=i},function(e,n,t){"use strict";e.exports=function(e){return function(n){return e.apply(null,n)}}},function(e,n){e.exports="object"==typeof self?self.FormData:window.FormData},function(e,n,t){"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}]]);
//# sourceMappingURL=2.ef6ac467.chunk.js.map