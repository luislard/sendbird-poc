(this["webpackJsonpsend-bird-test"]=this["webpackJsonpsend-bird-test"]||[]).push([[0],{18:function(e,n,t){e.exports=t(56)},23:function(e,n,t){},24:function(e,n,t){},49:function(e,n,t){},50:function(e,n,t){},51:function(e,n,t){},52:function(e,n,t){},53:function(e,n,t){},54:function(e,n,t){},55:function(e,n,t){},56:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),c=t(16),r=t.n(c),l=(t(23),t(24),t(5)),s=t(4),i=t(17),u=t.n(i);t(49),t(50);var d=function(){return o.a.createElement("div",{className:"ChannelItem"})};var m=function(){return o.a.createElement("div",{className:"LeftSideBar"},o.a.createElement(d,null))};t(51),t(52);var f=function(e){var n=e.onSendMessage,t=Object(a.useState)(""),c=Object(s.a)(t,2),r=c[0],l=c[1];return o.a.createElement("form",{className:"SendMessageBox",onSubmit:function(e){e.target.reset(),e.preventDefault(),n(r),l("")}},o.a.createElement("input",{className:"message-control",type:"text",onChange:function(e){l(e.target.value)}}),o.a.createElement("button",{className:"send",type:"submit"},"Send"))};t(53);var g=function(e){var n=e.message;return o.a.createElement("div",{className:"Message"},n.message)};var v=function(e){var n=e.onSendMessage,t=e.messages;return o.a.createElement("div",{className:"MiddleSection"},t.map((function(e){return o.a.createElement(g,{key:e.messageId,message:e})})),o.a.createElement(f,{onSendMessage:n}))};t(54);var h,E,p,b,S,w=function(){return o.a.createElement("div",{className:"RightSideBar"})},C=(t(55),window.location.search);console.log(C);var M=new URLSearchParams(C),N=null!==(h=M.get("userid"))&&void 0!==h?h:"fallbackUser",O=null!==(E=M.get("channelid"))&&void 0!==E?E:"fallbackChannel",j=null!==(p=M.get("channelurl"))&&void 0!==p?p:"",k=null!==(b=M.get("appid"))&&void 0!==b?b:"";var y=function(){var e=new u.a({appId:k}),n=Object(a.useState)([]),t=Object(s.a)(n,2),c=t[0],r=t[1],i=function(n){e.OpenChannel.getChannel(n,(function(n,t){t||(console.log("the channel we get",n),S=n,n.enter((function(n,t){if(!t){console.log("response",n);var a=new e.ChannelHandler;a.onMessageReceived=function(e,n){console.log("MESSAGE RECEIVED!",e,n),r((function(e){return[].concat(Object(l.a)(e),[n])}))},e.addChannelHandler(O,a),console.log("added listener to message received")}})))}))},d=function(e,n){n&&console.log("error!",n),console.log("chanel created!",e),i(e.url)};return Object(a.useEffect)((function(){console.log("useEffect"),e.connect(N,(function(n,t){t&&console.log("error!",t),console.log("connected!"),j?i(j):e.OpenChannel.createChannel(O,"","",[],"",d)}))}),[]),o.a.createElement("div",{className:"ChatApp"},o.a.createElement(m,null),o.a.createElement(v,{onSendMessage:function(e){S.sendUserMessage(e,"","",(function(e,n){n||r((function(n){return[].concat(Object(l.a)(n),[e])}))}))},messages:c}),o.a.createElement(w,null))};var B=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.d19058b2.chunk.js.map